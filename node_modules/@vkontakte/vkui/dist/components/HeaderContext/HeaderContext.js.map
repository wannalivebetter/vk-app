{"version":3,"sources":["../../../src/components/HeaderContext/HeaderContext.js"],"names":["baseClassNames","HeaderContext","closing","setState","el","nextProps","opened","props","waitAnimationFinish","onAnimationFinish","clearTimeout","closeAnimationTimeiout","eventHandler","transitionEvents","supported","eventName","prefix","removeEventListener","addEventListener","setTimeout","bind","children","className","onClose","restProps","state","getRef","React","Component","PropTypes","node","string","style","object","func","isRequired","bool"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAMA,cAAc,GAAG,2BAAa,eAAb,CAAvB;;IAEqBC,a;;;;;;;;;;;;;;;;;;oFAaX;AACNC,MAAAA,OAAO,EAAE;AADH,K;;gGA6BY;AAAA,aAAM,MAAKC,QAAL,CAAc;AAAED,QAAAA,OAAO,EAAE;AAAX,OAAd,CAAN;AAAA,K;;qFAEX,UAAAE,EAAE;AAAA,aAAI,MAAKA,EAAL,GAAUA,EAAd;AAAA,K;;;;;;;8CA3BgBC,S,EAAW;AACpC,UAAIA,SAAS,CAACC,MAAV,KAAqB,KAAKC,KAAL,CAAWD,MAApC,EAA4C;AAC1C,YAAID,SAAS,CAACC,MAAV,KAAqB,KAAzB,EAAgC;AAC9B,eAAKH,QAAL,CAAc;AAAED,YAAAA,OAAO,EAAE;AAAX,WAAd;AACA,eAAKM,mBAAL,CAAyB,KAAKC,iBAA9B;AACD,SAHD,MAGO;AACLC,UAAAA,YAAY,CAAC,KAAKC,sBAAN,CAAZ;AACD;AACF;AACF;;;2CAEuB;AACtBD,MAAAA,YAAY,CAAC,KAAKC,sBAAN,CAAZ;AACD;;;wCAEoBC,Y,EAAc;AACjC,UAAIC,0BAAiBC,SAArB,EAAgC;AAC9B,YAAMC,SAAS,GAAGF,0BAAiBG,MAAjB,GAA0BH,0BAAiBG,MAAjB,GAA0B,cAApD,GAAqE,cAAvF;AACA,aAAKZ,EAAL,CAAQa,mBAAR,CAA4BF,SAA5B,EAAuCH,YAAvC;AACA,aAAKR,EAAL,CAAQc,gBAAR,CAAyBH,SAAzB,EAAoCH,YAApC;AACD,OAJD,MAIO;AACL,aAAKD,sBAAL,GAA8BQ,UAAU,CAACP,YAAY,CAACQ,IAAb,CAAkB,IAAlB,CAAD,EAA0B,GAA1B,CAAxC;AACD;AACF;;;6BAMS;AAAA,wBACuD,KAAKb,KAD5D;AAAA,UACAc,QADA,eACAA,QADA;AAAA,UACUC,SADV,eACUA,SADV;AAAA,UACqBhB,MADrB,eACqBA,MADrB;AAAA,UAC6BiB,OAD7B,eAC6BA,OAD7B;AAAA,UACyCC,SADzC;;AAGR,aACE,6BAAC,oBAAD,eAAiBA,SAAjB;AAA4B,QAAA,SAAS,EAAE,yBAAWxB,cAAX,EAA2B;AAChE,mCAAyBM,MADuC;AAEhE,oCAA0B,KAAKmB,KAAL,CAAWvB;AAF2B,SAA3B,EAGpCoB,SAHoC,CAAvC;AAGe,QAAA,QAAQ,EAAC;AAHxB,UAIE;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAmC,QAAA,GAAG,EAAE,KAAKI;AAA7C,SACG,CAACpB,MAAM,IAAI,KAAKmB,KAAL,CAAWvB,OAAtB,KAAkCmB,QADrC,CAJF,EAOG,CAACf,MAAM,IAAI,KAAKmB,KAAL,CAAWvB,OAAtB,KAAkC;AAAK,QAAA,OAAO,EAAEqB,OAAd;AAAuB,QAAA,SAAS,EAAC;AAAjC,QAPrC,CADF;AAWD;;;;EA5DwCI,eAAMC,S;;;;gBAA5B3B,a,eACA;AACjBoB,EAAAA,QAAQ,EAAEQ,mBAAUC,IADH;AAEjBR,EAAAA,SAAS,EAAEO,mBAAUE,MAFJ;AAGjBC,EAAAA,KAAK,EAAEH,mBAAUI,MAHA;AAIjBV,EAAAA,OAAO,EAAEM,mBAAUK,IAAV,CAAeC,UAJP;AAKjB7B,EAAAA,MAAM,EAAEuB,mBAAUO,IAAV,CAAeD;AALN,C;;gBADAlC,a,kBASG;AACpBK,EAAAA,MAAM,EAAE;AADY,C","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from '../../lib/classNames';\nimport getClassName from '../../helpers/getClassName';\nimport FixedLayout from '../FixedLayout/FixedLayout';\n\nimport transitionEvents from '../../lib/transitionEvents';\n\nconst baseClassNames = getClassName('HeaderContext');\n\nexport default class HeaderContext extends React.Component {\n  static propTypes = {\n    children: PropTypes.node,\n    className: PropTypes.string,\n    style: PropTypes.object,\n    onClose: PropTypes.func.isRequired,\n    opened: PropTypes.bool.isRequired\n  };\n\n  static defaultProps = {\n    opened: false\n  };\n\n  state = {\n    closing: false\n  };\n\n  componentWillReceiveProps (nextProps) {\n    if (nextProps.opened !== this.props.opened) {\n      if (nextProps.opened === false) {\n        this.setState({ closing: true });\n        this.waitAnimationFinish(this.onAnimationFinish);\n      } else {\n        clearTimeout(this.closeAnimationTimeiout);\n      }\n    }\n  }\n\n  componentWillUnmount () {\n    clearTimeout(this.closeAnimationTimeiout);\n  }\n\n  waitAnimationFinish (eventHandler) {\n    if (transitionEvents.supported) {\n      const eventName = transitionEvents.prefix ? transitionEvents.prefix + 'AnimationEnd' : 'animationend';\n      this.el.removeEventListener(eventName, eventHandler);\n      this.el.addEventListener(eventName, eventHandler);\n    } else {\n      this.closeAnimationTimeiout = setTimeout(eventHandler.bind(this), 200);\n    }\n  }\n\n  onAnimationFinish = () => this.setState({ closing: false });\n\n  getRef = el => this.el = el;\n\n  render () {\n    const { children, className, opened, onClose, ...restProps } = this.props;\n\n    return (\n      <FixedLayout {...restProps} className={classNames(baseClassNames, {\n        'HeaderContext--opened': opened,\n        'HeaderContext--closing': this.state.closing\n      }, className)} vertical=\"top\">\n        <div className=\"HeaderContext__in\" ref={this.getRef}>\n          {(opened || this.state.closing) && children}\n        </div>\n        {(opened || this.state.closing) && <div onClick={onClose} className=\"HeaderContext__fade\" />}\n      </FixedLayout>\n    );\n  }\n}\n"],"file":"HeaderContext.js"}