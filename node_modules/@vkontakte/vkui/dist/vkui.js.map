{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///external \"prop-types\"","webpack:///external \"react\"","webpack:///./src/lib/classNames.js","webpack:///./src/helpers/getClassName.js","webpack:///./src/lib/platform.js","webpack:///./src/lib/transitionEvents.js","webpack:///./src/lib/offset.js","webpack:///./src/components/Tappable/Tappable.js","webpack:///./src/components/Touch/Touch.js","webpack:///./src/lib/touch.js","webpack:///./src/hoc/withInsets.js","webpack:///./src/components/PopoutWrapper/PopoutWrapper.js","webpack:///./src/components/FixedLayout/FixedLayout.js","webpack:///./src/components/FormField/FormField.js","webpack:///external \"react-dom\"","webpack:///./src/lib/removeObjectKeys.js","webpack:///./src/components/HeaderButton/HeaderButton.js","webpack:///./src/lib/animate.js","webpack:///./src/components/View/View.js","webpack:///./src/components/Button/Button.js","webpack:///./src/components/Slider/Slider.js","webpack:///./node_modules/@vkontakte/vkui-connect/index.js","webpack:///./src/components/Avatar/Avatar.js","webpack:///external \"@vkontakte/icons/dist/24/cancel\"","webpack:///external \"@vkontakte/icons/dist/16/done\"","webpack:///./src/components/Cell/Cell.js","webpack:///./src/lib/styles.js","webpack:///./src/components/ModalRoot/ModalRoot.js","webpack:///./src/lib/querystring.js","webpack:///./src/lib/webview.js","webpack:///./src/components/Tabs/Tabs.js","webpack:///./src/components/Div/Div.js","webpack:///./src/components/Header/Header.js","webpack:///./src/components/CellButton/CellButton.js","webpack:///./src/components/Spinner/Spinner.js","webpack:///./src/components/ActionSheetItem/ActionSheetItem.js","webpack:///./src/components/ActionSheet/ActionSheet.js","webpack:///./src/components/Alert/Alert.js","webpack:///./src/components/PanelHeader/PanelHeader.js","webpack:///external \"@vkontakte/icons/dist/24/dropdown\"","webpack:///./src/appearance/constants.js","webpack:///./src/components/PullToRefresh/PullToRefreshSpinner.js","webpack:///./src/components/PullToRefresh/PullToRefresh.js","webpack:///./src/components/SearchIOS/SearchIOS.js","webpack:///./src/components/SearchAndroid/SearchAndroid.js","webpack:///./src/components/Search/Search.js","webpack:///./src/lib/request.js","webpack:///./src/components/ConfigProvider/ConfigProvider.js","webpack:///./src/components/SelectMimicry/SelectMimicry.js","webpack:///./src/components/Select/Select.js","webpack:///./src/components/Checkbox/Checkbox.js","webpack:///./src/components/Radio/Radio.js","webpack:///./src/components/Textarea/Textarea.js","webpack:///./src/components/RangeSlider/RangeSlider.js","webpack:///./src/components/Input/Input.js","webpack:///./src/components/File/File.js","webpack:///./src/components/Switch/Switch.js","webpack:///./src/components/FormStatus/FormStatus.js","webpack:///./src/components/FormLayoutGroup/FormLayoutGroup.js","webpack:///./src/components/FormLayout/FormLayout.js","webpack:///./src/components/UsersStack/UsersStack.js","webpack:///./src/components/Counter/Counter.js","webpack:///./src/components/Tooltip/Tooltip.js","webpack:///./src/components/Link/Link.js","webpack:///./src/components/FixedTabs/FixedTabs.js","webpack:///./src/components/TabsItem/TabsItem.js","webpack:///./src/components/Progress/Progress.js","webpack:///./src/components/Gallery/Gallery.js","webpack:///./src/components/Entity/Entity.js","webpack:///./src/components/InfoRow/InfoRow.js","webpack:///./src/components/Footer/Footer.js","webpack:///./src/components/List/List.js","webpack:///./src/components/Group/Group.js","webpack:///./src/components/ModalCard/ModalCard.js","webpack:///./src/components/ModalPageHeader/ModalPageHeader.js","webpack:///./src/components/ModalPage/ModalPage.js","webpack:///./src/components/ScreenSpinner/ScreenSpinner.js","webpack:///./src/components/NativePopouts/NativePopouts.js","webpack:///./src/components/HorizontalScroll/HorizontalScroll.js","webpack:///./src/components/InnerScroll/InnerScroll.js","webpack:///./src/components/TabbarItem/TabbarItem.js","webpack:///./src/components/Tabbar/Tabbar.js","webpack:///./src/components/Epic/Epic.js","webpack:///./src/components/HeaderContext/HeaderContext.js","webpack:///./src/components/PanelHeaderContent/PanelHeaderContent.js","webpack:///./src/components/Panel/Panel.js","webpack:///./src/components/Root/Root.js","webpack:///external \"@vkontakte/icons/dist/24/search\"","webpack:///external \"@vkontakte/icons/dist/24/back\"","webpack:///external \"@vkontakte/icons/dist/16/search\"","webpack:///external \"@vkontakte/icons/dist/24/reorder_ios\"","webpack:///external \"@vkontakte/icons/dist/24/reorder\"","webpack:///external \"@vkontakte/icons/dist/24/chevron\"","webpack:///external \"@vkontakte/icons/dist/24/dismiss\"","webpack:///external \"@vkontakte/icons/dist/16/spinner\"","webpack:///external \"@vkontakte/icons/dist/44/spinner\"","webpack:///external \"@vkontakte/icons/dist/32/spinner\"","webpack:///external \"@vkontakte/icons/dist/24/spinner\"","webpack:///./src/styles/styles.css?a50f","webpack:///./src/lib/polyfills.js","webpack:///./node_modules/process/browser.js","webpack:///./src/index.js"],"names":["classNames","result","arguments","forEach","item","push","Object","keys","key","join","getClassname","base","ANDROID","IOS","ua","platformName","platform","useragent","navigator","userAgent","test","osname","IS_PLATFORM_IOS","IS_PLATFORM_ANDROID","supported","prefix","document","createElement","d","i","style","m","match","toLowerCase","transitionEndEventName","getOffsetRect","elem","box","getBoundingClientRect","body","doc","documentElement","scrollTop","window","pageYOffset","scrollLeft","pageXOffset","clientTop","clientLeft","top","Math","round","left","width","offsetWidth","height","offsetHeight","ts","Date","now","baseClassNames","ACTIVE_DELAY","ACTIVE_EFFECT_DELAY","storage","deactivateOtherInstances","exclude","filter","id","clearTimeout","activeTimeout","timeout","stop","props","originalEvent","insideModalRoot","stopPropagation","touches","length","onDown","getStorage","setTimeout","start","shiftXAbs","shiftYAbs","isSlide","state","active","activeEffectDelay","store","e","container","x","y","toString","setState","clicks","wavesTimeout","getRootRef","current","random","children","className","component","restProps","Component","disabled","classes","onStart","onMove","onEnd","ref","getRef","map","k","onClick","func","string","node","oneOfType","element","role","number","bool","shape","instanceOf","Element","events","Touch","gesture","startX","startY","startT","isPressed","outputEvent","onStartX","onStartY","subscribe","isX","isY","shiftX","shiftY","abs","willBeX","willBeY","willBeSlidedX","onMoveX","willBeSlidedY","onMoveY","isSlideX","isSlideY","onEndY","onEndX","cancelClick","target","tagName","unsubscribe","preventDefault","addEventListener","capture","useCapture","passive","touchEnabled","removeEventListener","ComponentName","onDragStart","context","any","coordX","clientX","coordY","clientY","isClient","getSupportedEvents","rubber","offset","dimension","resistanceRate","isAndroid","initialState","bottom","right","resolveInsets","detail","type","data","insets","withInsets","vkuiConnect","connectListener","PopoutWrapper","opened","manual","animationName","el","preventTouch","waitAnimationFinish","onFadeInEnd","animationFinishTimeout","eventHandler","eventName","bind","v","h","closing","hasMask","oneOf","object","FixedLayout","position","panelScroll","scrolls","panel","offsetTop","onViewTransitionStart","onViewTransitionEnd","vertical","tabbarPadding","hasTabbar","paddingBottom","isNaN","baseClassName","FormField","TagName","status","propTypes","defaultProps","removeObjectKeys","obj","newObj","HeaderButton","primary","isPrimitive","href","animate","duration","timing","draw","performance","requestAnimationFrame","time","timeFraction","progress","transitionStartEventName","scrollsCache","swipeBackExcludedTags","indexOf","activePanel","isBack","prevPanel","dispatchEvent","CustomEvent","nextPanel","visiblePanels","animated","undefined","scrollTo","onTransition","from","to","propertyName","classList","contains","swipingBackFinish","onSwipeBackSuccess","onSwipeBackCancel","n","sqrt","val","isWebView","innerWidth","browserSwipe","onSwipeBack","swipingBack","history","swipebackStartX","swipeBackPrevPanel","swipeBackNextPanel","slice","swipeBackShift","speed","c","refsStore","nextProps","popout","blurActiveElement","modal","firstLayer","panels","find","prevProps","prevState","nextPanelElement","pickPanel","prevPanelElement","transitionEndHandler","onSwipeBackStart","waitTransitionFinish","swipingBackTransitionEndHandler","activeElement","blur","getElementById","console","warn","parentNode","panelId","isPrev","isNext","prevPanelTranslate","nextPanelTranslate","prevPanelShadow","boxShadow","transform","WebkitTransform","title","bg","addon","opacity","titleTransform","leftTransform","header","hasPopout","hasModal","modifiers","onScrollTop","headerSwipeStyles","calcHeaderSwipeStyles","icon","calcPanelSwipeStyles","concat","arrayOf","mapOldLevel","level","Button","size","stretched","align","before","after","precisionRound","precision","factor","pow","Slider","absolutePosition","validateAbsolute","containerLeft","percentPosition","absoluteToPecent","onChange","percentToValue","isControlledOutside","closest","callback","offsetLeft","containerWidth","hasOwnProperty","value","absolute","res","max","min","step","stepCount","absStep","percent","stepFloatPart","split","onResize","validatePercent","valueToPercent","defaultValue","Avatar","src","borderRadius","floor","Cell","isRemoveActivated","removeOffset","dragging","removable","deactivateRemove","nativeEvent","stopImmediatePropagation","onRemove","rootEl","removeButton","dragShift","listEl","add","siblings","Array","prototype","call","parentElement","childNodes","dragStartIndex","rootGesture","dragDirection","dragEndIndex","sibling","siblingIndex","siblingGesture","remove","onDragFinish","indicator","asideContent","expandable","description","selectable","multiline","removePlaceholder","draggable","bottomContent","rootProps","inputProps","linkProps","activateRemove","onDragMove","onDragEnd","onRemoveClick","getRemoveRef","setTransformStyle","TYPE_CARD","TYPE_PAGE","numberInRange","range","rangeTranslate","ModalRootContext","createContext","event","switching","activeModal","nextModal","modalState","modalsState","onPageTouchMove","onCardTouchMove","onPageTouchEnd","onCardTouchEnd","contentScrolled","contentScrollStopTimeout","activeTransitions","newState","prevModal","visibleModals","triggerActiveModalClose","touchDown","maskElementRef","createRef","initModalsState","modals","reduce","acc","Modal","modalProps","settlingHeight","onClose","initActiveModal","toggleDocumentScrolling","splice","inited","closeActiveModal","switchPrevNext","enabled","documentScrolling","modalId","modalElement","pickModal","querySelector","initPageModal","initCardModal","contentElement","contentHeight","firstChild","isExpandable","clientHeight","innerElement","headerElement","footerElement","collapsed","translateYFrom","translateY","translateYAbs","expandedRange","collapsedRange","hiddenRange","shiftHalf","visiblePart","headerHeight","prevModalState","prevNextSwitchEndHandler","animateTranslate","setMaskOpacity","expanded","touchStartTime","touchStartContentScrollTop","touchMovePositive","shiftYPercent","innerHeight","shiftYCurrent","touchShiftYPercent","translateYCurrent","next","shiftYEndPercent","expectTranslateY","hidden","onceHandler","nextModalState","prevIsPage","prevIsCard","nextIsPage","nextIsCard","currentPercent","frameId","cancelAnimationFrame","footerHeight","animatePageHeader","headerOpenPercent","headerShadow","forceOpacity","maskAnimationFrame","activeModalState","webviewType","onTouchMove","onTouchEnd","onScroll","onMaskClick","isPage","querystring","parse","matches","exec","str","param","decodeURIComponent","create","opts","options","encode","encodeURIComponent","isArray","supports","Tabs","theme","Div","Header","aside","CellButton","svgSpinner","Spinner","memo","ActionSheetItem","autoclose","ActionSheet","action","persist","text","toArray","Child","index","arr","cloneElement","onItemClick","marginBottom","isRequired","Alert","actions","actionsLayout","button","__html","PanelHeader","ready","leftNode","addonNode","titleNode","rightNode","bgNode","noShadow","transparent","createPortal","scheme","module","exports","tabbarHeight","calcStrokeDashOffset","radius","PI","PullToRefreshSpinner","on","strokeWidth","dasharray","circleCenter","dashoffset","transformOrigin","cancelEvent","cancelBubble","returnValue","refreshing","params","watching","positionMultiplier","shift","touchY","currentY","maxY","spinnerY","spinnerProgress","canRefresh","contentShift","runRefreshing","refreshingFinished","resetRefreshingState","_contentElement","onWindowTouchMove","cancelable","isFetching","onRefreshingFinish","onRefresh","onTouchStart","scrollingElement","searchId","focused","onFocus","onBlur","showAfter","placeholderOffset","afterWidth","placeholder","inputRef","onCancel","inputEl","focus","autoFocus","hasValue","iosProps","androidProps","autoComplete","defaultOptions","method","getXMLHttpRequest","XMLHttpRequest","makeRequest","url","isCanceled","error","Error","request","requestPromise","Promise","resolve","reject","open","headers","setRequestHeader","onreadystatechange","readyState","responseText","ontimeout","send","promise","then","catch","log","abort","ConfigProvider","setAttribute","app","SelectMimicry","tabIndex","alignment","Select","setTitle","selectedOption","selectEl","selectedIndex","notSelected","label","name","Checkbox","Radio","Textarea","scrollHeight","getComputedStyle","paddingTop","parseInt","diff","grow","resize","RangeSlider","percentRange","calcPercentRange","thumb","thumbStart","thumbEnd","percentStart","percentEnd","valueStart","valueEnd","Input","File","Switch","FormStatus","dangerouslySetInnerHTML","FormLayoutGroup","FormLayout","onSubmit","field","masksCreated","createMasks","svgElement","createElementNS","setAttributeNS","innerHTML","appendChild","UsersStack","photos","count","othersCount","canShowOthers","photosShown","photo","backgroundImage","Counter","isElement","isValidElement","isDOMTypeElement","TooltipPortal","findPortalTarget","closestFixed","closestHeader","closestPanel","fixedPortal","targetBounds","portalBounds","portalTarget","offsetY","offsetX","alignX","alignY","coords","getBoundingTargetRect","cornerOffset","Tooltip","targetEl","isShown","portalProps","child","Link","FixedTabs","TabsItem","selected","Progress","Gallery","targetIndex","animation","calculateIndent","autoplay","isDraggable","deltaX","getTarget","initializeSlides","layerWidth","slides","viewportWidth","viewport","calcMin","calcMax","go","getSlideRef","slide","slidesStore","slideIndex","initialSlideIndex","getChildren","getSlidesCoords","isCenterWithCustomWidth","targetSlide","validateIndent","indent","Number","expectDeltaX","direction","previousValue","currentValue","reduceChildren","isChildrenDirty","slideWidth","bullets","calculateDragIndent","layerStyle","WebkitTransition","transition","getViewportRef","Entity","avatarProps","avatarSize","InfoRow","Footer","List","Group","ModalCard","currentTarget","dataset","caption","onButtonClick","ModalPageHeader","ModalPage","ScreenSpinner","brToNl","regex","replace","actionId","NativePopouts","actionsStore","vkuiListener","renderPopout","message","handler","renderNativeAlert","renderUIAlert","renderNativeSheet","renderUISheet","closeUIPopout","HorizontalScroll","InnerScroll","TabbarItem","Tabbar","shadow","itemsLayout","getItemsLayout","Children","Epic","activeStory","tabbar","HeaderContext","onAnimationFinish","closeAnimationTimeiout","PanelHeaderContent","InComponent","inProps","Panel","centered","Root","prevView","nextView","activeView","visibleViews","arrayChildren","firstLayerId","view","prevViewElement","nextViewElement","onAnimationEnd","Views","View","ElementProto","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","css","TypeError","list","thisArg","colors","process","env","VKUI_VERSION"],"mappings":"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KAAoB,UAAxB,EAAoC;AACzC,YAAM,IAAI6f,SAAJ,CAAc,6BAAd,CAAN;AACD;;AAED,QAAIC,IAAI,GAAGx1B,MAAM,CAAC,IAAD,CAAjB;AACA,QAAIuE,MAAM,GAAGixB,IAAI,CAACjxB,MAAL,KAAgB,CAA7B;AACA,QAAIkxB,OAAO,GAAG71B,SAAS,CAAC,CAAD,CAAvB;;AAEA,SAAK,IAAI2B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgD,MAApB,EAA4BhD,CAAC,EAA7B,EAAiC;AAC/B,UAAI0F,OAAO,GAAGuuB,IAAI,CAACj0B,CAAD,CAAlB;;AACA,UAAImU,QAAQ,CAACwC,IAAT,CAAcud,OAAd,EAAuBxuB,OAAvB,EAAgC1F,CAAhC,EAAmCi0B,IAAnC,CAAJ,EAA8C;AAC5C,eAAOvuB,OAAP;AACD;AACF;AACF,GAjBD;AAkBD,C;;;;;;AC5CD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC;;AAErC;AACA;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;AACA,4BAA4B,UAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvLtC;AACA;AAEA;;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;AAGA;AACA;AACA;AACA;AAEA;;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;AAGA;AACA;AACA;AACA;AAEA;;;;AAGA;AAEA;;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAIO,IAAMyuB,MAAM,GAAG,EAAf;AAEA,IAAMvpB,CAAC,GAAGwpB,OAAO,CAACC,GAAR,CAAYC,YAAtB,C","file":"vkui.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"prop-types\"), require(\"react\"), require(\"react-dom\"), require(\"@vkontakte/icons/dist/24/cancel\"), require(\"@vkontakte/icons/dist/16/done\"), require(\"@vkontakte/icons/dist/24/dropdown\"), require(\"@vkontakte/icons/dist/24/search\"), require(\"@vkontakte/icons/dist/24/back\"), require(\"@vkontakte/icons/dist/16/search\"), require(\"@vkontakte/icons/dist/24/reorder_ios\"), require(\"@vkontakte/icons/dist/24/reorder\"), require(\"@vkontakte/icons/dist/24/chevron\"), require(\"@vkontakte/icons/dist/24/dismiss\"), require(\"@vkontakte/icons/dist/16/spinner\"), require(\"@vkontakte/icons/dist/44/spinner\"), require(\"@vkontakte/icons/dist/32/spinner\"), require(\"@vkontakte/icons/dist/24/spinner\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"prop-types\", \"react\", \"react-dom\", \"@vkontakte/icons/dist/24/cancel\", \"@vkontakte/icons/dist/16/done\", \"@vkontakte/icons/dist/24/dropdown\", \"@vkontakte/icons/dist/24/search\", \"@vkontakte/icons/dist/24/back\", \"@vkontakte/icons/dist/16/search\", \"@vkontakte/icons/dist/24/reorder_ios\", \"@vkontakte/icons/dist/24/reorder\", \"@vkontakte/icons/dist/24/chevron\", \"@vkontakte/icons/dist/24/dismiss\", \"@vkontakte/icons/dist/16/spinner\", \"@vkontakte/icons/dist/44/spinner\", \"@vkontakte/icons/dist/32/spinner\", \"@vkontakte/icons/dist/24/spinner\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"prop-types\"), require(\"react\"), require(\"react-dom\"), require(\"@vkontakte/icons/dist/24/cancel\"), require(\"@vkontakte/icons/dist/16/done\"), require(\"@vkontakte/icons/dist/24/dropdown\"), require(\"@vkontakte/icons/dist/24/search\"), require(\"@vkontakte/icons/dist/24/back\"), require(\"@vkontakte/icons/dist/16/search\"), require(\"@vkontakte/icons/dist/24/reorder_ios\"), require(\"@vkontakte/icons/dist/24/reorder\"), require(\"@vkontakte/icons/dist/24/chevron\"), require(\"@vkontakte/icons/dist/24/dismiss\"), require(\"@vkontakte/icons/dist/16/spinner\"), require(\"@vkontakte/icons/dist/44/spinner\"), require(\"@vkontakte/icons/dist/32/spinner\"), require(\"@vkontakte/icons/dist/24/spinner\")) : factory(root[\"prop-types\"], root[\"react\"], root[\"react-dom\"], root[\"@vkontakte/icons/dist/24/cancel\"], root[\"@vkontakte/icons/dist/16/done\"], root[\"@vkontakte/icons/dist/24/dropdown\"], root[\"@vkontakte/icons/dist/24/search\"], root[\"@vkontakte/icons/dist/24/back\"], root[\"@vkontakte/icons/dist/16/search\"], root[\"@vkontakte/icons/dist/24/reorder_ios\"], root[\"@vkontakte/icons/dist/24/reorder\"], root[\"@vkontakte/icons/dist/24/chevron\"], root[\"@vkontakte/icons/dist/24/dismiss\"], root[\"@vkontakte/icons/dist/16/spinner\"], root[\"@vkontakte/icons/dist/44/spinner\"], root[\"@vkontakte/icons/dist/32/spinner\"], root[\"@vkontakte/icons/dist/24/spinner\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__1__, __WEBPACK_EXTERNAL_MODULE__13__, __WEBPACK_EXTERNAL_MODULE__21__, __WEBPACK_EXTERNAL_MODULE__22__, __WEBPACK_EXTERNAL_MODULE__36__, __WEBPACK_EXTERNAL_MODULE__81__, __WEBPACK_EXTERNAL_MODULE__82__, __WEBPACK_EXTERNAL_MODULE__83__, __WEBPACK_EXTERNAL_MODULE__84__, __WEBPACK_EXTERNAL_MODULE__85__, __WEBPACK_EXTERNAL_MODULE__86__, __WEBPACK_EXTERNAL_MODULE__87__, __WEBPACK_EXTERNAL_MODULE__88__, __WEBPACK_EXTERNAL_MODULE__89__, __WEBPACK_EXTERNAL_MODULE__90__, __WEBPACK_EXTERNAL_MODULE__91__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 96);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","export default function classNames () {\n  let result = [];\n\n  [...arguments].forEach(item => {\n    if (!item) {\n      return;\n    }\n    switch (typeof item) {\n      case 'string':\n        result.push(item);\n        break;\n      case 'object':\n        Object.keys(item).forEach(key => {\n          if (item[key]) {\n            result.push(key);\n          }\n        });\n        break;\n      default:\n        result.push('' + item);\n    }\n  });\n\n  return result.join(' ');\n}\n","import { IS_PLATFORM_IOS, IS_PLATFORM_ANDROID } from '../lib/platform.js';\nimport classNames from '../lib/classNames';\n\nexport default function getClassname (base) {\n  return classNames(base, {\n    [base + '--ios']: IS_PLATFORM_IOS,\n    [base + '--android']: IS_PLATFORM_ANDROID\n  });\n}\n","export const ANDROID = 'android';\nexport const IOS = 'ios';\n\nlet ua;\nlet platformName;\n\nexport function platform (useragent) {\n  if (!ua) {\n    ua = useragent || (navigator && navigator.userAgent) || '';\n  }\n  if (!platformName) {\n    platformName = /android/i.test(ua) ? ANDROID : IOS;\n  }\n\n  return platformName;\n}\n\nconst osname = platform();\n\nexport const IS_PLATFORM_IOS = osname === IOS;\nexport const IS_PLATFORM_ANDROID = osname === ANDROID;\n","let supported, prefix;\n\nif (typeof document !== 'undefined' && document.createElement) {\n  const d = document.createElement('div');\n\n  for (let i in d.style) {\n    let m = i.match(/^(moz|webkit|ms|)(transition|animation)$/i);\n    if (m) supported = true;\n    if (m && m[1]) {\n      // согласно спецификации, префиксы к событиям должны быть в нижнем регистре\n      // https://www.w3schools.com/jsref/event_transitionend.asp\n      prefix = m[1].toLowerCase();\n    }\n  }\n}\n\nconst transitionEndEventName = prefix ? prefix + 'TransitionEnd' : 'transitionend';\n\nexport default { supported, prefix, transitionEndEventName };\n","export function getOffsetRect (elem) {\n  const box = elem.getBoundingClientRect();\n  const body = document.body;\n  const doc = document.documentElement;\n  const scrollTop = window.pageYOffset || doc.scrollTop || body.scrollTop;\n  const scrollLeft = window.pageXOffset || doc.scrollLeft || body.scrollLeft;\n  const clientTop = doc.clientTop || body.clientTop || 0;\n  const clientLeft = doc.clientLeft || body.clientLeft || 0;\n\n  return {\n    top: Math.round(box.top + scrollTop - clientTop),\n    left: Math.round(box.left + scrollLeft - clientLeft),\n    width: elem.offsetWidth,\n    height: elem.offsetHeight\n  };\n}\n","\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Touch from '../Touch/Touch';\nimport classNames from '../../lib/classNames';\nimport getClassName from '../../helpers/getClassName';\nimport { IS_PLATFORM_ANDROID } from '../../lib/platform';\nimport { getOffsetRect } from '../../lib/offset';\nimport { coordX, coordY } from '../../lib/touch';\nimport { ModalRootContext } from '../ModalRoot/ModalRoot';\n\nconst ts = () => +Date.now();\nconst baseClassNames = getClassName('Tappable');\n\nconst ACTIVE_DELAY = 70;\nexport const ACTIVE_EFFECT_DELAY = 600;\n\nlet storage = {};\n\n/**\n * Очищает таймауты и хранилище для всех экземпляров компонента, кроме переданного\n *\n * @param {String} exclude ID экземпляра-исключения\n * @returns {void}\n */\nfunction deactivateOtherInstances (exclude) {\n  Object.keys(storage).filter(id => id !== exclude).forEach(id => {\n    clearTimeout(storage[id].activeTimeout);\n    clearTimeout(storage[id].timeout);\n    storage[id].stop();\n\n    delete storage[id];\n  });\n}\n\nexport default class Tappable extends Component {\n  constructor (props) {\n    super(props);\n    this.id = Math.round(Math.random() * 1e8).toString(16);\n    this.state = {\n      clicks: {},\n      active: false,\n      ts: null\n    };\n  }\n\n  static propTypes = {\n    onClick: PropTypes.func,\n    className: PropTypes.string,\n    children: PropTypes.node,\n    component: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.element\n    ]),\n    role: PropTypes.string,\n    activeEffectDelay: PropTypes.number,\n    stopPropagation: PropTypes.bool,\n    disabled: PropTypes.bool,\n    getRootRef: PropTypes.oneOfType([\n      PropTypes.func,\n      PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n    ])\n  };\n\n  static defaultProps = {\n    component: 'div',\n    role: 'button',\n    stopPropagation: false,\n    disabled: false,\n    activeEffectDelay: ACTIVE_EFFECT_DELAY\n  };\n\n  isSlide = false;\n\n  /**\n   * Обрабатывает событие touchstart\n   *\n   * @returns {void}\n   */\n  onStart = ({ originalEvent }) => {\n    !this.insideModalRoot && this.props.stopPropagation && originalEvent.stopPropagation();\n    if (originalEvent.touches && originalEvent.touches.length > 1) {\n      return deactivateOtherInstances();\n    }\n\n    if (IS_PLATFORM_ANDROID) {\n      this.onDown(originalEvent);\n    }\n\n    storage[this.id] = {};\n    this.getStorage().stop = this.stop;\n    this.getStorage().activeTimeout = setTimeout(this.start, ACTIVE_DELAY);\n  };\n\n  /**\n   * Обрабатывает событие touchmove\n   *\n   * @returns {void}\n   */\n  onMove = ({ originalEvent, shiftXAbs, shiftYAbs }) => {\n    !this.insideModalRoot && this.props.stopPropagation && originalEvent.stopPropagation();\n    if (shiftXAbs > 20 || shiftYAbs > 20) {\n      this.isSlide = true;\n      this.stop();\n    }\n  };\n\n  /**\n   * Обрабатывает событие touchend\n   *\n   * @returns {void}\n   */\n  onEnd = ({ originalEvent }) => {\n    !this.insideModalRoot && this.props.stopPropagation && originalEvent.stopPropagation();\n    const now = ts();\n\n    if (originalEvent.touches && originalEvent.touches.length > 0) {\n      this.isSlide = false;\n      return;\n    }\n\n    if (this.state.active) {\n      if (now - this.state.ts >= 100) {\n        // Долгий тап, выключаем подсветку\n        this.stop();\n      } else {\n        // Короткий тап, оставляем подсветку\n        const timeout = setTimeout(this.stop, this.props.activeEffectDelay - now + this.state.ts);\n        const store = this.getStorage();\n\n        if (store) {\n          store.timeout = timeout;\n        }\n      }\n    } else if (!this.isSlide) {\n      // Очень короткий тап, включаем подсветку\n      this.start();\n\n      const timeout = setTimeout(this.stop, this.props.activeEffectDelay);\n\n      if (this.getStorage()) {\n        clearTimeout(this.getStorage().activeTimeout);\n        this.getStorage().timeout = timeout;\n      } else {\n        this.timeout = timeout;\n      }\n    }\n\n    this.isSlide = false;\n  };\n\n  /**\n   * Реализует эффект при тапе для Андроида\n   *\n   * @returns {void}\n   */\n  onDown = (e) => {\n    if (IS_PLATFORM_ANDROID) {\n      const { top, left } = getOffsetRect(this.container);\n      const x = coordX(e);\n      const y = coordY(e);\n      const key = 'wave' + Date.now().toString();\n\n      this.setState(state => ({\n        clicks: {\n          ...state.clicks,\n          [key]: {\n            x: Math.round(x - left),\n            y: Math.round(y - top)\n          }\n        }\n      }));\n\n      this.wavesTimeout = setTimeout(() => {\n        this.setState(state => {\n          let clicks = { ...state.clicks };\n          delete clicks[key];\n          return { clicks };\n        });\n      }, 225);\n    }\n  };\n\n  /**\n   * Устанавливает активное выделение\n   *\n   * @returns {void}\n   */\n  start = () => {\n    if (!this.state.active) {\n      this.setState({\n        active: true,\n        ts: ts()\n      });\n    }\n    deactivateOtherInstances(this.id);\n  };\n\n  /**\n   * Снимает активное выделение\n   *\n   * @returns {void}\n   */\n  stop = () => {\n    if (this.state.active) {\n      this.setState({\n        active: false,\n        ts: null\n      });\n    }\n    if (this.getStorage()) {\n      clearTimeout(this.getStorage().activeTimeout);\n      delete storage[this.id];\n    }\n  };\n\n  /**\n   * Возвращает хранилище для экземпляра компонента\n   *\n   * @returns {Object} Хранилище для текущего экземпляра компонента\n   */\n  getStorage = () => {\n    return storage[this.id];\n  };\n\n  /**\n   * Берет ref на DOM-ноду из экземпляра Touch\n   *\n   * @param {React.Component} container Touch component instance\n   */\n  getRef = container => {\n    this.container = container;\n\n    const getRootRef = this.props.getRootRef;\n    if (getRootRef) {\n      if (typeof getRootRef === 'function') {\n        getRootRef(container);\n      } else {\n        getRootRef.current = container;\n      }\n    }\n  };\n\n  componentWillUnmount () {\n    if (storage[this.id]) {\n      clearTimeout(storage[this.id].timeout);\n      clearTimeout(storage[this.id].activeTimeout);\n\n      delete storage[this.id];\n    }\n\n    clearTimeout(this.wavesTimeout);\n  }\n\n  render () {\n    const { clicks, active } = this.state;\n    const { children, className, component, activeEffectDelay, stopPropagation, getRootRef, ...restProps } = this.props;\n    const Component = !restProps.disabled ? Touch : component;\n    const classes = classNames(baseClassNames, className, {\n      'Tappable--active': active,\n      'Tappable--inactive': !active\n    });\n\n    let props = {};\n\n    if (!restProps.disabled) {\n      props.component = component;\n      props.onStart = this.onStart;\n      props.onMove = this.onMove;\n      props.onEnd = this.onEnd;\n    }\n\n    if (typeof Component === 'string') {\n      props.ref = this.getRef;\n    } else {\n      props.getRootRef = this.getRef;\n    }\n\n    return (\n      <ModalRootContext.Consumer>\n        {insideModalRoot => {\n          this.insideModalRoot = insideModalRoot;\n\n          return (\n            <Component {...restProps} className={classes} {...props}>\n              {IS_PLATFORM_ANDROID && (\n                <span className=\"Tappable__waves\">\n                  {Object.keys(clicks).map(k => (\n                    <span className=\"Tappable__wave\" style={{ top: clicks[k].y, left: clicks[k].x }} key={k} />\n                  ))}\n                </span>\n              )}\n              {children}\n            </Component>\n          );\n        }}\n      </ModalRootContext.Consumer>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { getSupportedEvents, coordX, coordY, touchEnabled } from '../../lib/touch';\n\nconst events = getSupportedEvents();\n\nexport default class Touch extends Component {\n  cancelClick = false;\n  gesture = {};\n\n  static propTypes = {\n    onStart: PropTypes.func,\n    onStartX: PropTypes.func,\n    onStartY: PropTypes.func,\n    onMove: PropTypes.func,\n    onMoveX: PropTypes.func,\n    onMoveY: PropTypes.func,\n    onEnd: PropTypes.func,\n    onEndX: PropTypes.func,\n    onEndY: PropTypes.func,\n    useCapture: PropTypes.bool,\n    component: PropTypes.string,\n    children: PropTypes.node,\n    onClick: PropTypes.func,\n    getRootRef: PropTypes.oneOfType([\n      PropTypes.func,\n      PropTypes.shape({ current: PropTypes.node })\n    ])\n  };\n  static defaultProps = {\n    component: 'div',\n    children: '',\n    useCapture: false\n  };\n\n  static contextTypes = {\n    document: PropTypes.any\n  };\n\n  get document () {\n    return this.context.document || document;\n  }\n\n  componentDidMount () {\n    this.container.addEventListener(events[0], this.onStart, { capture: this.props.useCapture, passive: false });\n    touchEnabled && this.subscribe(this.container);\n  }\n\n  componentWillUnmount () {\n    this.container.removeEventListener(events[0], this.onStart, { capture: this.props.useCapture, passive: false });\n    touchEnabled && this.unsubscribe(this.container);\n  }\n\n  /**\n   * Обработчик событий touchstart\n   *\n   * @param {Object} e Браузерное событие\n   * @returns {void}\n   */\n  onStart = (e) => {\n    this.gesture = {\n      startX: coordX(e),\n      startY: coordY(e),\n      startT: new Date(),\n      isPressed: true\n    };\n\n    // Вызываем нужные колбеки из props\n    const outputEvent = {\n      ...this.gesture,\n      originalEvent: e\n    };\n\n    if (this.props.onStart) {\n      this.props.onStart(outputEvent);\n    }\n\n    if (this.props.onStartX) {\n      this.props.onStartX(outputEvent);\n    }\n\n    if (this.props.onStartY) {\n      this.props.onStartY(outputEvent);\n    }\n\n    !touchEnabled && this.subscribe(this.document);\n  };\n\n  /**\n   * Обработчик событий touchmove\n   *\n   * @param {Object} e Браузерное событие\n   * @returns {void}\n   */\n  onMove = (e) => {\n    const { isPressed, isX, isY, startX, startY } = this.gesture;\n\n    if (isPressed) {\n      // смещения\n      const shiftX = coordX(e) - startX;\n      const shiftY = coordY(e) - startY;\n\n      // абсолютные значения смещений\n      const shiftXAbs = Math.abs(shiftX);\n      const shiftYAbs = Math.abs(shiftY);\n\n      // Если определяем мультитач, то прерываем жест\n      if (!!e.touches && e.touches.length > 1) {\n        return this.onEnd(e);\n      }\n\n      // если мы ещё не определились\n      if (!isX && !isY) {\n        let willBeX = shiftXAbs >= 5 && shiftXAbs > shiftYAbs;\n        let willBeY = shiftYAbs >= 5 && shiftYAbs > shiftXAbs;\n        let willBeSlidedX = (willBeX && !!this.props.onMoveX) || !!this.props.onMove;\n        let willBeSlidedY = (willBeY && !!this.props.onMoveY) || !!this.props.onMove;\n\n        this.gesture.isY = willBeY;\n        this.gesture.isX = willBeX;\n        this.gesture.isSlideX = willBeSlidedX;\n        this.gesture.isSlideY = willBeSlidedY;\n        this.gesture.isSlide = willBeSlidedX || willBeSlidedY;\n      }\n\n      if (this.gesture.isSlide) {\n        this.gesture.shiftX = shiftX;\n        this.gesture.shiftY = shiftY;\n        this.gesture.shiftXAbs = shiftXAbs;\n        this.gesture.shiftYAbs = shiftYAbs;\n\n        // Вызываем нужные колбеки из props\n        const outputEvent = {\n          ...this.gesture,\n          originalEvent: e\n        };\n\n        if (this.props.onMove) {\n          this.props.onMove(outputEvent);\n        }\n\n        if (this.gesture.isSlideX && this.props.onMoveX) {\n          this.props.onMoveX(outputEvent);\n        }\n\n        if (this.gesture.isSlideY && this.props.onMoveY) {\n          this.props.onMoveY(outputEvent);\n        }\n      }\n    }\n  };\n\n  /**\n   * Обработчик событий touchend, touchcancel\n   *\n   * @param {Object} e Браузерное событие\n   * @returns {void}\n   */\n  onEnd = (e) => {\n    const { isPressed, isSlide, isSlideX, isSlideY } = this.gesture;\n\n    if (isPressed) {\n      // Вызываем нужные колбеки из props\n      const outputEvent = {\n        ...this.gesture,\n        originalEvent: e\n      };\n\n      if (this.props.onEnd) {\n        this.props.onEnd(outputEvent);\n      }\n\n      if (isSlideY && this.props.onEndY) {\n        this.props.onEndY(outputEvent);\n      }\n\n      if (isSlideX && this.props.onEndX) {\n        this.props.onEndX(outputEvent);\n      }\n    }\n\n    // Если закончили жест на ссылке, выставляем флаг для отмены перехода\n    this.cancelClick = e.target.tagName === 'A' && isSlide;\n    this.gesture = {};\n\n    !touchEnabled && this.unsubscribe(this.document);\n  };\n\n  subscribe (element) {\n    element.addEventListener(events[1], this.onMove, { capture: this.props.useCapture, passive: false });\n    element.addEventListener(events[2], this.onEnd, { capture: this.props.useCapture, passive: false });\n    element.addEventListener(events[3], this.onEnd, { capture: this.props.useCapture, passive: false });\n  }\n\n  unsubscribe (element) {\n    element.removeEventListener(events[1], this.onMove, { capture: this.props.useCapture, passive: false });\n    element.removeEventListener(events[2], this.onEnd, { capture: this.props.useCapture, passive: false });\n    element.removeEventListener(events[3], this.onEnd, { capture: this.props.useCapture, passive: false });\n  }\n\n  /**\n   * Обработчик событий dragstart\n   * Отменяет нативное браузерное поведение для вложенных ссылок и изображений\n   *\n   * @param {Object} e Браузерное событие\n   * @returns {void}\n   */\n  onDragStart = (e) => {\n    if (e.target.tagName === 'A' || e.target.tagName === 'IMG') {\n      e.preventDefault();\n    }\n  };\n\n  /**\n   * Обработчик клика по компоненту\n   * Отменяет переход по вложенной ссылке, если был зафиксирован свайп\n   *\n   * @param {Object} e Браузерное событие\n   * @returns {void}\n   */\n  onClick = (e) => {\n    if (this.cancelClick) {\n      this.cancelClick = false;\n      e.preventDefault();\n    }\n    this.props.onClick && this.props.onClick(e);\n  };\n\n  getRef = (container) => {\n    this.container = container;\n\n    const getRootRef = this.props.getRootRef;\n    if (getRootRef) {\n      if (typeof getRootRef === 'function') {\n        getRootRef(container);\n      } else {\n        getRootRef.current = container;\n      }\n    }\n  };\n\n  render () {\n    const {\n      onStart,\n      onStartX,\n      onStartY,\n      onMove,\n      onMoveX,\n      onMoveY,\n      onEnd,\n      onEndX,\n      onEndY,\n      useCapture,\n      component,\n      getRootRef,\n      ...restProps\n    } = this.props;\n    const ComponentName = component;\n\n    return (\n      <ComponentName {...restProps} onDragStart={this.onDragStart} onClick={this.onClick} ref={this.getRef}>\n        {this.props.children}\n      </ComponentName>\n    );\n  }\n}\n","\n/**\n * Получает кординату по оси абсцисс из touch- или mouse-события\n *\n * @param {Object} e Браузерное событие\n * @returns {Number} Координата взаимодействия по оси абсцисс\n */\nconst coordX = e => e.clientX || (e.touches && e.touches[0].clientX);\n\n/**\n * Получает кординату по оси ординат из touch- или mouse-события\n *\n * @param {Object} e Браузерное событие\n * @returns {Number} Координата взаимодействия по оси ординат\n */\nconst coordY = e => e.clientY || (e.touches && e.touches[0].clientY);\n\nconst isClient = typeof window !== 'undefined';\nconst touchEnabled = isClient && 'ontouchstart' in window;\n\n/**\n * Возвращает массив поддерживаемых событий\n * Если браузер поддерживает pointer events или подключена handjs, вернет события указателя.\n * Если нет, используем события мыши\n *\n * @returns {Array} Массив с названиями событий\n */\nfunction getSupportedEvents () {\n  if (touchEnabled) {\n    return ['touchstart', 'touchmove', 'touchend', 'touchcancel'];\n  }\n\n  return ['mousedown', 'mousemove', 'mouseup', 'mouseleave'];\n}\n\nexport { getSupportedEvents, coordX, coordY, touchEnabled };\n\n/**\n * Рассчитывает \"сопротивление\" для iOS тач-событий\n *\n * @param {number} offset\n * @param {number} dimension\n * @param {number} resistanceRate\n * @param {boolean} isAndroid\n */\nexport function rubber (offset, dimension, resistanceRate, isAndroid) {\n  if (isAndroid || offset < 0) return offset;\n\n  const result = (resistanceRate * Math.abs(offset) * dimension) / (dimension + resistanceRate * Math.abs(offset));\n  return offset < 0 ? -result : result;\n}\n","import React from 'react';\nimport vkuiConnect from '@vkontakte/vkui-connect';\n\nlet initialState = {\n  bottom: 0,\n  top: 0,\n  left: 0,\n  right: 0\n};\n\nfunction resolveInsets (e) {\n  const { type, data } = e.detail;\n  switch (type) {\n    case 'VKWebAppUpdateConfig':\n    case 'VKWebAppUpdateInsets': // Устаревшее событие vkui-connect\n      const { insets } = data;\n      if (insets) {\n        return { ...insets, bottom: insets.bottom > 100 ? 0 : insets.bottom }; // если больше 100 – значит открылась клава и она сама работает как инсет, то есть наш нужно занулить\n      }\n  }\n}\n\nvkuiConnect.subscribe((e) => {\n  const insets = resolveInsets(e);\n  if (insets) {\n    initialState = insets;\n  }\n});\n\nexport default function withInsets (Component) {\n  return class WithInsets extends React.Component {\n    state = initialState;\n\n    componentDidMount () {\n      vkuiConnect.subscribe(this.connectListener);\n    }\n\n    componentWillUnmount () {\n      vkuiConnect.unsubscribe(this.connectListener);\n    }\n\n    connectListener = (e) => {\n      const insets = resolveInsets(e);\n      if (insets) {\n        this.setState(insets);\n      }\n    };\n\n    render () {\n      return (\n        <Component {...this.props} insets={this.state} />\n      );\n    }\n  };\n}\n","import React from 'react';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport PropTypes from 'prop-types';\n\nimport { IS_PLATFORM_ANDROID } from '../../lib/platform';\nimport transitionEvents from '../../lib/transitionEvents';\n\nconst baseClassNames = getClassName('PopoutWrapper');\n\nexport default class PopoutWrapper extends React.Component {\n  state = {\n    opened: false\n  };\n\n  static propTypes = {\n    hasMask: PropTypes.bool,\n    v: PropTypes.oneOf(['top', 'center', 'bottom']),\n    h: PropTypes.oneOf(['left', 'center', 'right']),\n    closing: PropTypes.bool,\n    onClick: PropTypes.func,\n    style: PropTypes.object,\n    children: PropTypes.node,\n    className: PropTypes.string\n  };\n\n  static defaultProps = {\n    hasMask: true,\n    v: 'center',\n    h: 'center',\n    closing: false\n  };\n\n  componentDidMount () {\n    window.addEventListener('touchmove', this.preventTouch, { passive: false });\n    this.waitAnimationFinish(this.el, this.onFadeInEnd);\n  }\n\n  componentWillUnmount () {\n    window.removeEventListener('touchmove', this.preventTouch, { passive: false });\n    clearTimeout(this.animationFinishTimeout);\n  }\n\n  waitAnimationFinish (elem, eventHandler) {\n    if (transitionEvents.supported) {\n      const eventName = transitionEvents.prefix ? transitionEvents.prefix + 'AnimationEnd' : 'animationend';\n      elem.removeEventListener(eventName, eventHandler);\n      elem.addEventListener(eventName, eventHandler);\n    } else {\n      this.animationFinishTimeout = setTimeout(eventHandler.bind(this), IS_PLATFORM_ANDROID ? 300 : 600);\n    }\n  }\n\n  onFadeInEnd = (e = { manual: true }) => {\n    if (e.animationName === 'animation-full-fade-in' || e.manual) {\n      this.setState({ opened: true });\n    }\n  };\n\n  preventTouch = e => e.preventDefault();\n\n  onClick = e => this.state.opened && this.props.onClick && this.props.onClick(e);\n\n  getRef = el => this.el = el;\n\n  render () {\n    const { v, h, closing, children, hasMask, onClick, className, ...restProps } = this.props;\n\n    return (\n      <div {...restProps} className={classNames(baseClassNames, {\n        [`PopoutWrapper--v-${v}`]: v,\n        [`PopoutWrapper--h-${h}`]: h,\n        'PopoutWrapper--closing': closing\n      }, className)} onClick={this.onClick} ref={this.getRef}>\n        {hasMask && <div className=\"PopoutWrapper__mask\" />}\n        <div className=\"PopoutWrapper__container\">{children}</div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport getClassName from '../../helpers/getClassName';\nimport PropTypes from 'prop-types';\nimport classNames from '../../lib/classNames';\nimport { transitionEndEventName, transitionStartEventName } from '../View/View';\nimport { tabbarHeight } from '../../appearance/constants';\nimport withInsets from '../../hoc/withInsets';\n\nconst baseClassNames = getClassName('FixedLayout');\n\nclass FixedLayout extends React.Component {\n  state = {\n    position: null,\n    top: null\n  };\n\n  static propTypes = {\n    children: PropTypes.node,\n    style: PropTypes.object,\n    className: PropTypes.string,\n    getRootRef: PropTypes.oneOfType([\n      PropTypes.func,\n      PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n    ]),\n    vertical: PropTypes.oneOf(['top', 'bottom']),\n    /**\n     * @ignore\n     */\n    insets: PropTypes.object\n  };\n\n  static contextTypes = {\n    panel: PropTypes.string,\n    document: PropTypes.any,\n    hasTabbar: PropTypes.bool\n  };\n\n  get document () {\n    return this.context.document || document;\n  }\n\n  componentDidMount () {\n    this.document.addEventListener(transitionStartEventName, this.onViewTransitionStart);\n    this.document.addEventListener(transitionEndEventName, this.onViewTransitionEnd);\n  }\n\n  componentWillUnmount () {\n    this.document.removeEventListener(transitionStartEventName, this.onViewTransitionStart);\n    this.document.removeEventListener(transitionEndEventName, this.onViewTransitionEnd);\n  }\n\n  onViewTransitionStart = (e) => {\n    let panelScroll = e.detail.scrolls[this.context.panel] || 0;\n    this.setState({\n      position: 'absolute',\n      top: this.el.offsetTop + panelScroll\n    });\n  };\n\n  onViewTransitionEnd = () => {\n    this.setState({\n      position: null,\n      top: null\n    });\n  };\n\n  getRef = (element) => {\n    this.el = element;\n\n    const getRootRef = this.props.getRootRef;\n    if (getRootRef) {\n      if (typeof getRootRef === 'function') {\n        getRootRef(element);\n      } else {\n        getRootRef.current = element;\n      }\n    }\n  };\n\n  render () {\n    const { className, children, style, vertical, getRootRef, insets, ...restProps } = this.props;\n    const tabbarPadding = this.context.hasTabbar ? tabbarHeight : 0;\n    const paddingBottom = vertical === 'bottom' && !isNaN(insets.bottom) ? insets.bottom + tabbarPadding : null;\n\n    return (\n      <div\n        {...restProps}\n        ref={this.getRef}\n        className={classNames(baseClassNames, { [`FixedLayout--${vertical}`]: vertical }, className)}\n        style={{ ...style, ...this.state, paddingBottom }}\n      >\n        <div className=\"FixedLayout__in\">{children}</div>\n      </div>\n    );\n  }\n}\n\nexport default withInsets(FixedLayout);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\n\nconst baseClassName = getClassName('FormField');\n\nconst FormField = ({ TagName, className, children, status, getRootRef, ...restProps }) => {\n  return (\n    <TagName\n      {...restProps}\n      className={classNames(baseClassName, {\n        [`FormField--s-${status}`]: status !== 'default'\n      }, className)}\n      ref={getRootRef}\n    >\n      {children}\n      <div className=\"FormField__border\" />\n    </TagName>\n  );\n};\n\nFormField.propTypes = {\n  TagName: PropTypes.string,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  style: PropTypes.object,\n  top: PropTypes.node,\n  bottom: PropTypes.node,\n  getRootRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n  ]),\n  status: PropTypes.oneOf(['default', 'error', 'valid'])\n};\n\nFormField.defaultProps = {\n  status: 'default',\n  TagName: 'div'\n};\n\nexport default FormField;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__13__;","export default function removeObjectKeys (obj = {}, keys = []) {\n  let newObj = { ...obj };\n\n  keys.forEach(key => delete newObj[key]);\n\n  return newObj;\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Tappable from '../Tappable/Tappable';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\n\nconst baseClassName = getClassName('HeaderButton');\n\nconst HeaderButton = ({ className, children, primary, ...restProps }) => {\n  const isPrimitive = typeof children === 'string' || typeof children === 'number';\n  const component = restProps.href ? 'a' : 'button';\n\n  return (\n    <Tappable\n      {...restProps}\n      component={component}\n      activeEffectDelay={200}\n      className={classNames(baseClassName, className, { 'HeaderButton--primary': primary })}\n    >\n      {isPrimitive ? <span className=\"HeaderButton__primitive\">{children}</span> : children}\n    </Tappable>\n  );\n};\n\nHeaderButton.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  primary: PropTypes.bool,\n  /**\n   * Делает из кнопки ссылку\n   */\n  href: PropTypes.string\n};\n\nHeaderButton.defaultProps = {\n  primary: false\n};\n\nexport default HeaderButton;\n","/**\n * Функция для js анимации\n * @param {number} duration\n * @param {function} timing тайминг функция анимации\n * @param {function} draw коллбэк, в который прокидывается прогресс [0, 1]\n * @returns {void}\n */\nexport default function animate ({ duration, timing, draw }) {\n  if (typeof window === 'undefined') {\n    return;\n  }\n\n  const start = window.performance.now();\n\n  window.requestAnimationFrame(function animate (time) {\n    let timeFraction = (time - start) / duration;\n\n    if (timeFraction > 1) {\n      timeFraction = 1;\n    }\n\n    const progress = timing(timeFraction);\n\n    draw(progress);\n\n    if (timeFraction < 1) {\n      window.requestAnimationFrame(animate);\n    }\n  });\n}\n","\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from '../../lib/classNames';\nimport animate from '../../lib/animate';\nimport transitionEvents from '../../lib/transitionEvents';\nimport getClassName from '../../helpers/getClassName';\nimport { IS_PLATFORM_IOS, IS_PLATFORM_ANDROID } from '../../lib/platform';\nimport Touch from '../Touch/Touch';\nimport removeObjectKeys from '../../lib/removeObjectKeys';\nimport { baseClassNames as panelHeaderClasses } from '../PanelHeader/PanelHeader';\n\nconst baseClassNames = getClassName('View');\n\nexport const transitionStartEventName = 'VKUI:View:transition-start';\nexport const transitionEndEventName = 'VKUI:View:transition-end';\n\nlet scrollsCache = {};\n\nconst swipeBackExcludedTags = ['input', 'textarea'];\n\nexport default class View extends Component {\n  constructor (props) {\n    super(props);\n    this.state = {\n      scrolls: scrollsCache[props.id] || {},\n\n      visiblePanels: [props.activePanel],\n      activePanel: props.activePanel,\n      isBack: undefined,\n      prevPanel: null,\n      nextPanel: null,\n\n      swipingBack: false,\n      swipebackStartX: 0,\n      swipeBackShift: 0,\n      swipeBackNextPanel: null,\n      swipeBackPrevPanel: null,\n      swipingBackFinish: null,\n\n      browserSwipe: false\n    };\n  }\n\n  static propTypes = {\n    style: PropTypes.object,\n    activePanel: PropTypes.string,\n    header: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\n    children: PropTypes.node,\n    popout: PropTypes.node,\n    modal: PropTypes.node,\n    onTransition: PropTypes.func,\n    /**\n     * @ignore\n     */\n    onSwipeBack: PropTypes.func,\n    /**\n     * @ignore\n     */\n    onSwipeBackStart: PropTypes.func,\n    /**\n     * @ignore\n     */\n    history: PropTypes.arrayOf(PropTypes.string),\n    id: PropTypes.string\n  };\n\n  static defaultProps = {\n    style: {},\n    children: null,\n    popout: null,\n    header: true,\n    history: []\n  };\n\n  static contextTypes = {\n    isWebView: PropTypes.bool,\n    window: PropTypes.any,\n    document: PropTypes.any\n  };\n\n  get document () {\n    return this.context.document || document;\n  }\n\n  get window () {\n    return this.context.window || window;\n  }\n\n  get panels () {\n    return [].concat(this.props.children);\n  }\n\n  refsStore = {};\n\n  componentWillReceiveProps (nextProps) {\n    nextProps.popout && !this.props.popout && this.blurActiveElement();\n    nextProps.modal && !this.props.modal && this.blurActiveElement();\n\n    // Нужен переход\n    if (this.props.activePanel !== nextProps.activePanel && !this.state.swipingBack && !this.state.browserSwipe) {\n      const firstLayer = this.panels.find(\n        panel => panel.props.id === this.props.activePanel || panel.props.id === nextProps.activePanel\n      );\n\n      const isBack = firstLayer && firstLayer.props.id === nextProps.activePanel;\n\n      this.blurActiveElement();\n\n      this.setState({\n        visiblePanels: [this.props.activePanel, nextProps.activePanel],\n        prevPanel: this.props.activePanel,\n        nextPanel: nextProps.activePanel,\n        activePanel: null,\n        animated: true,\n        scrolls: {\n          ...this.state.scrolls,\n          [this.props.activePanel]: this.window.pageYOffset\n        },\n        isBack\n      });\n    }\n\n    // Закончилась анимация свайпа назад\n    if (this.props.activePanel !== nextProps.activePanel && this.state.swipingBack) {\n      const nextPanel = nextProps.activePanel;\n      const prevPanel = this.props.activePanel;\n      this.setState({\n        swipeBackPrevPanel: null,\n        swipeBackNextPanel: null,\n        swipingBack: false,\n        swipingBackFinish: null,\n        swipebackStartX: 0,\n        swipeBackShift: 0,\n        activePanel: nextPanel,\n        visiblePanels: [nextPanel],\n        scrolls: removeObjectKeys(this.state.scrolls, [this.state.swipeBackPrevPanel])\n      }, () => {\n        this.document.dispatchEvent(new this.window.CustomEvent(transitionEndEventName));\n        window.scrollTo(0, this.state.scrolls[this.state.activePanel]);\n        this.props.onTransition && this.props.onTransition({ isBack: true, from: prevPanel, to: nextPanel });\n      });\n    }\n  }\n\n  componentWillUnmount () {\n    if (this.props.id) {\n      scrollsCache[this.props.id] = this.state.scrolls;\n    }\n  }\n\n  componentDidUpdate (prevProps, prevState) {\n    const scrolls = this.state.scrolls;\n\n    // Начался переход\n    if (!prevState.animated && this.state.animated) {\n      this.document.dispatchEvent(new this.window.CustomEvent(transitionStartEventName, { detail: { scrolls } }));\n      const nextPanelElement = this.pickPanel(this.state.nextPanel);\n      const prevPanelElement = this.pickPanel(this.state.prevPanel);\n\n      prevPanelElement.scrollTop = scrolls[this.state.prevPanel];\n      if (this.state.isBack) {\n        nextPanelElement.scrollTop = scrolls[this.state.nextPanel];\n      }\n      this.waitAnimationFinish(this.pickPanel(this.state.isBack ? this.state.prevPanel : this.state.nextPanel), this.transitionEndHandler);\n    }\n\n    // Начался свайп назад\n    if (!prevState.swipingBack && this.state.swipingBack) {\n      this.document.dispatchEvent(new this.window.CustomEvent(transitionStartEventName, { detail: { scrolls } }));\n      this.props.onSwipeBackStart && this.props.onSwipeBackStart();\n      const nextPanelElement = this.pickPanel(this.state.swipeBackNextPanel);\n      const prevPanelElement = this.pickPanel(this.state.swipeBackPrevPanel);\n\n      nextPanelElement.scrollTop = scrolls[this.state.swipeBackNextPanel];\n      prevPanelElement.scrollTop = scrolls[this.state.swipeBackPrevPanel];\n    }\n\n    // Началась анимация завершения свайпа назад.\n    if (prevState.swipingBackFinish === null && this.state.swipingBackFinish !== null) {\n      this.waitTransitionFinish(this.pickPanel(this.state.swipeBackNextPanel), this.swipingBackTransitionEndHandler);\n    }\n\n    // Если свайп назад отменился (когда пользователь недостаточно сильно свайпнул)\n    if (prevState.swipingBackFinish === false && this.state.swipingBackFinish === null) {\n      this.window.scrollTo(0, scrolls[this.state.activePanel]);\n    }\n\n    // Закончился Safari свайп\n    if (prevProps.activePanel !== this.props.activePanel && this.state.browserSwipe) {\n      this.setState({\n        browserSwipe: false,\n        nextPanel: null,\n        prevPanel: null,\n        animated: false,\n        visiblePanels: [this.props.activePanel],\n        activePanel: this.props.activePanel\n      });\n    }\n  }\n\n  waitTransitionFinish (elem, eventHandler) {\n    if (transitionEvents.supported) {\n      const eventName = transitionEvents.prefix ? transitionEvents.prefix + 'TransitionEnd' : 'transitionend';\n\n      elem.removeEventListener(eventName, eventHandler);\n      elem.addEventListener(eventName, eventHandler);\n    } else {\n      setTimeout(eventHandler.bind(this), IS_PLATFORM_ANDROID ? 300 : 600);\n    }\n  }\n\n  waitAnimationFinish (elem, eventHandler) {\n    if (transitionEvents.supported) {\n      const eventName = transitionEvents.prefix ? transitionEvents.prefix + 'AnimationEnd' : 'animationend';\n\n      elem.removeEventListener(eventName, eventHandler);\n      elem.addEventListener(eventName, eventHandler);\n    } else {\n      setTimeout(eventHandler.bind(this), IS_PLATFORM_ANDROID ? 300 : 600);\n    }\n  }\n\n  blurActiveElement () {\n    if (typeof this.window !== 'undefined' && this.document.activeElement) {\n      this.document.activeElement.blur();\n    }\n  }\n\n  pickPanel (id) {\n    const elem = this.document.getElementById(id);\n\n    if (!elem) {\n      console.warn(`Element #${id} not found`);\n    }\n\n    return elem && elem.parentNode.parentNode;\n  }\n\n  transitionEndHandler = (e = { manual: true }) => {\n    if ([\n      'animation-ios-next-forward',\n      'animation-ios-prev-back',\n      'animation-android-next-forward',\n      'animation-android-prev-back'\n    ].indexOf(e.animationName) > -1 || e.manual) {\n      const activePanel = this.props.activePanel;\n      const isBack = this.state.isBack;\n      const prevPanel = this.state.prevPanel;\n      this.document.dispatchEvent(new this.window.CustomEvent(transitionEndEventName));\n      this.setState({\n        prevPanel: null,\n        nextPanel: null,\n        visiblePanels: [activePanel],\n        activePanel: activePanel,\n        animated: false,\n        isBack: undefined,\n        scrolls: isBack ? removeObjectKeys(this.state.scrolls, [prevPanel]) : this.state.scrolls\n      }, function () {\n        isBack && this.window.scrollTo(0, this.state.scrolls[activePanel]);\n        this.props.onTransition && this.props.onTransition({ isBack, from: prevPanel, to: activePanel });\n      });\n    }\n  };\n\n  swipingBackTransitionEndHandler = (e) => {\n    // indexOf because of vendor prefixes in old browsers\n    if (e.propertyName.indexOf('transform') >= 0 && e.target.classList.contains('View__panel--swipe-back-next')) {\n      this.state.swipingBackFinish ? this.onSwipeBackSuccess() : this.onSwipeBackCancel();\n    }\n  };\n\n  onSwipeBackSuccess () {\n    this.props.onSwipeBack && this.props.onSwipeBack();\n  }\n\n  onSwipeBackCancel () {\n    this.setState({\n      swipeBackPrevPanel: null,\n      swipeBackNextPanel: null,\n      swipingBack: false,\n      swipingBackFinish: null,\n      swipebackStartX: 0,\n      swipeBackShift: 0\n    }, () => {\n      this.document.dispatchEvent(new this.window.CustomEvent(transitionEndEventName));\n    });\n  }\n\n  onScrollTop = () => {\n    const { activePanel } = this.state;\n\n    if (activePanel) {\n      const scrollTop = this.document.body.scrollTop || this.document.documentElement.scrollTop;\n\n      if (scrollTop) {\n        animate({\n          duration: 200,\n          timing: n => Math.sqrt(n),\n          draw: (val) => {\n            this.window.scrollTo(0, scrollTop - val * scrollTop);\n          }\n        });\n      }\n    }\n  };\n\n  onMoveX = (e) => {\n    if (swipeBackExcludedTags.indexOf(e.originalEvent.target.tagName.toLowerCase()) > -1) {\n      return;\n    }\n\n    if (IS_PLATFORM_IOS && !this.context.isWebView && (e.startX <= 70 || e.startX >= this.window.innerWidth - 70) && !this.state.browserSwipe) {\n      this.setState({ browserSwipe: true });\n    }\n\n    if (IS_PLATFORM_IOS && this.context.isWebView && this.props.onSwipeBack) {\n      if (this.state.animated && e.startX <= 70) {\n        return;\n      }\n\n      if (e.startX <= 70 && !this.state.swipingBack && this.props.history.length > 1) {\n        this.setState({\n          swipingBack: true,\n          swipebackStartX: e.startX,\n          startT: e.startT,\n          swipeBackPrevPanel: this.state.activePanel,\n          swipeBackNextPanel: this.props.history.slice(-2)[0],\n          scrolls: {\n            ...this.state.scrolls,\n            [this.state.activePanel]: this.window.pageYOffset\n          }\n        });\n      }\n      if (this.state.swipingBack) {\n        let swipeBackShift;\n        if (e.shiftX < 0) {\n          swipeBackShift = 0;\n        } else if (e.shiftX > this.window.innerWidth - this.state.swipebackStartX) {\n          swipeBackShift = this.window.innerWidth;\n        } else {\n          swipeBackShift = e.shiftX;\n        }\n        this.setState({ swipeBackShift });\n      }\n    }\n  };\n\n  onEnd = () => {\n    if (this.state.swipingBack) {\n      const speed = this.state.swipeBackShift / (new Date() - this.state.startT) * 1000;\n      if (this.state.swipeBackShift === 0) {\n        this.onSwipeBackCancel();\n      } else if (this.state.swipeBackShift >= this.window.innerWidth) {\n        this.onSwipeBackSuccess();\n      } else {\n        this.setState({ swipingBackFinish: speed > 250 || this.state.swipebackStartX + this.state.swipeBackShift > this.window.innerWidth / 2 });\n      }\n    }\n  };\n\n  getRef = (c) => {\n    if (c && c.container && c.id) {\n      let el = c;\n\n      while (el.container) {\n        el = el.container;\n      }\n\n      this.refsStore[c.id] = el;\n    }\n  };\n\n  calcPanelSwipeStyles (panelId) {\n    const isPrev = panelId === this.state.swipeBackPrevPanel;\n    const isNext = panelId === this.state.swipeBackNextPanel;\n\n    if (!isPrev && !isNext || this.state.swipingBackFinish !== null) {\n      return {};\n    }\n\n    let prevPanelTranslate = `${this.state.swipeBackShift}px`;\n    let nextPanelTranslate = `${-50 + (this.state.swipeBackShift * 100 / this.window.innerWidth) / 2}%`;\n    let prevPanelShadow = 0.3 * (this.window.innerWidth - this.state.swipeBackShift) / this.window.innerWidth;\n\n    if (this.state.swipingBackFinish !== null) {\n      return isPrev ? { boxShadow: `-2px 0 12px rgba(0, 0, 0, ${prevPanelShadow})` } : {};\n    }\n\n    if (isNext) {\n      return {\n        transform: `translate3d(${nextPanelTranslate}, 0, 0)`,\n        WebkitTransform: `translate3d(${nextPanelTranslate}, 0, 0)`\n      };\n    }\n    if (isPrev) {\n      return {\n        transform: `translate3d(${prevPanelTranslate}, 0, 0)`,\n        WebkitTransform: `translate3d(${prevPanelTranslate}, 0, 0)`,\n        boxShadow: `-2px 0 12px rgba(0, 0, 0, ${prevPanelShadow})`\n      };\n    }\n\n    return {};\n  }\n\n  calcHeaderSwipeStyles (panelId) {\n    const isPrev = panelId === this.state.swipeBackPrevPanel;\n    const isNext = panelId === this.state.swipeBackNextPanel;\n\n    if (!isPrev && !isNext || this.state.swipingBackFinish !== null) {\n      return {\n        title: {},\n        bg: {},\n        left: {},\n        addon: {},\n        right: {}\n      };\n    }\n\n    let opacity = this.state.swipeBackShift / this.window.innerWidth;\n    let titleTransform = this.state.swipeBackShift / this.window.innerWidth * 30;\n    let leftTransform = this.state.swipeBackShift / this.window.innerWidth * 30;\n\n    if (isNext) {\n      return {\n        title: {\n          transform: `translate3d(${-30 + titleTransform}vw, 0, 0)`,\n          WebkitTransform: `translate3d(${-30 + titleTransform}vw, 0, 0)`,\n          opacity\n        },\n        left: { opacity },\n        addon: {\n          opacity: 1,\n          transform: `translate3d(${-30 + leftTransform}vw, 0, 0)`,\n          WebkitTransform: `translate3d(${-30 + leftTransform}vw, 0, 0)`\n        },\n        right: { opacity }\n      };\n    }\n    if (isPrev) {\n      return {\n        title: {\n          transform: `translate3d(${titleTransform}vw, 0, 0)`,\n          WebkitTransform: `translate3d(${titleTransform}vw, 0, 0)`,\n          opacity: 1 - opacity\n        },\n        bg: { opacity: 1 - opacity },\n        left: { opacity: 1 - opacity },\n        addon: {\n          transform: `translate3d(${leftTransform}vw, 0, 0)`,\n          WebkitTransform: `translate3d(${leftTransform}vw, 0, 0)`,\n          opacity: 1 - opacity\n        }\n      };\n    }\n  }\n\n  render () {\n    const { style, popout, modal, header } = this.props;\n    const { prevPanel, nextPanel, activePanel, swipeBackPrevPanel, swipeBackNextPanel, swipingBackFinish } = this.state;\n\n    const hasPopout = !!popout;\n    const hasModal = !!modal;\n\n    const panels = this.panels.filter(panel => {\n      const panelId = panel.props.id;\n\n      return this.state.visiblePanels.indexOf(panelId) > -1 ||\n        panelId === swipeBackPrevPanel ||\n        panelId === swipeBackNextPanel;\n    });\n\n    const modifiers = {\n      'View--header': header,\n      'View--animated': this.state.animated,\n      'View--swiping-back': this.state.swipingBack\n    };\n\n    return (\n      <Touch\n        component=\"section\"\n        className={classNames(baseClassNames, modifiers)}\n        style={style}\n        onMoveX={this.onMoveX}\n        onEnd={this.onEnd}\n      >\n        {header && (\n          <div className=\"View__header\">\n            { IS_PLATFORM_IOS && <div className=\"View__header-scrolltop\" onClick={this.onScrollTop} /> }\n            <div className={classNames(panelHeaderClasses)}>\n              {panels.map(panel => {\n                const panelId = panel.props.id;\n                const headerSwipeStyles = this.calcHeaderSwipeStyles(panelId);\n\n                return (\n                  <div\n                    className={classNames('PanelHeader__in', {\n                      'PanelHeader__in--active': panelId === activePanel,\n                      'PanelHeader__in--prev': panelId === prevPanel,\n                      'PanelHeader__in--next': panelId === nextPanel,\n                      'PanelHeader__in--swipe-back-prev': panelId === swipeBackPrevPanel,\n                      'PanelHeader__in--swipe-back-next': panelId === swipeBackNextPanel,\n                      'PanelHeader__in--swipe-back-success': swipingBackFinish === true,\n                      'PanelHeader__in--swipe-back-failed': swipingBackFinish === false\n                    })}\n                    key={panelId}\n                    id={`panel-header-${panelId}`}\n                  >\n                    <div\n                      className=\"PanelHeader__bg\"\n                      key={panelId}\n                      id={`header-bg-${panelId}`}\n                      style={headerSwipeStyles.bg}\n                    />\n                    <div className=\"PanelHeader__container\">\n                      <div className=\"PanelHeader__left\">\n                        <div\n                          className=\"PanelHeader__left-in\"\n                          id={`header-left-${panelId}`}\n                          style={headerSwipeStyles.left}\n                        />\n                        {IS_PLATFORM_IOS &&\n                        <div\n                          className=\"PanelHeader__addon\"\n                          id={`header-addon-${panelId}`}\n                          style={headerSwipeStyles.icon}\n                        />\n                        }\n                      </div>\n                      <div\n                        className=\"PanelHeader__content\"\n                        style={headerSwipeStyles.title}\n                        id={`header-title-${panelId}`}\n                      />\n                      <div\n                        className=\"PanelHeader__right\"\n                        id={`header-right-${panelId}`}\n                        style={headerSwipeStyles.right}\n                      />\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        )}\n        <div className=\"View__panels\">\n          {panels.map(panel => {\n            const panelId = panel.props.id;\n\n            return (\n              <div\n                className={classNames('View__panel', {\n                  'View__panel--active': panelId === activePanel,\n                  'View__panel--prev': panelId === prevPanel,\n                  'View__panel--next': panelId === nextPanel,\n                  'View__panel--swipe-back-prev': panelId === swipeBackPrevPanel,\n                  'View__panel--swipe-back-next': panelId === swipeBackNextPanel,\n                  'View__panel--swipe-back-success': swipingBackFinish === true,\n                  'View__panel--swipe-back-failed': swipingBackFinish === false\n                })}\n                style={this.calcPanelSwipeStyles(panelId)}\n                key={panelId}\n              >\n                <div className=\"View__panel-in\">\n                  {panel}\n                </div>\n              </div>\n            );\n          })}\n        </div>\n        {hasPopout && <div className=\"View__popout\">{popout}</div>}\n        {hasModal && <div className=\"View__modal\">{modal}</div>}\n      </Touch>\n    );\n  }\n}\n","import React from 'react';\nimport Tappable from '../Tappable/Tappable';\nimport getClassName from '../../helpers/getClassName';\nimport PropTypes from 'prop-types';\nimport classNames from '../../lib/classNames';\n\nimport CellButton from '../CellButton/CellButton';\n\nconst baseClassName = getClassName('Button');\n\nconst mapOldLevel = level => {\n  switch (level) {\n    case '1':\n      return 'primary';\n    case '2':\n      return 'secondary';\n    case '3':\n      return 'tertiary';\n    case 'sell':\n      return 'outline';\n    case 'buy':\n      return 'commerce';\n    default:\n      return level;\n  }\n};\n\nconst Button = props => {\n  if (props.type === 'cell') {\n    return <CellButton {...props} />;\n  } else {\n    const { className, size, level, stretched, align, children, before, after, type, ...restProps } = props;\n\n    return <Tappable {...restProps} className={classNames(baseClassName, className, {\n      [`Button--sz-${size}`]: true,\n      [`Button--lvl-${mapOldLevel(level)}`]: true,\n      [`Button--aln-${align || 'center'}`]: true,\n      [`Button--str`]: stretched\n    })} stopPropagation>\n      <div className=\"Button__in\">\n        {before && <div className=\"Button__before\">{before}</div>}\n        {children && <div className=\"Button__content\">{children}</div>}\n        {after && <div className=\"Button__after\">{after}</div>}\n      </div>\n    </Tappable>;\n  }\n};\n\nButton.propTypes = {\n  /**\n   * Значения `1`, `2`, `3`, `sell`, `buy` устарели. Маппинг на новые значения находится в\n   * статическом методе `Button.mapOldLevel(level)`. Старые значения будут удалены в 3.0.0\n   */\n  level: PropTypes.oneOf(['primary', 'secondary', 'tertiary', 'outline', 'commerce', '1', '2', '3', 'sell', 'buy']),\n  size: PropTypes.oneOf(['m', 'l', 'xl']),\n  /**\n   * @deprecated Кнопки-ячейки `<Button type=\"cell\" />` переехали в отдельный компонент: `<CellButton />`.\n   * Свойство `type` будет удалено в 3.0.0\n   */\n  type: PropTypes.oneOf(['default', 'cell']),\n  align: PropTypes.oneOf(['left', 'center', 'right']),\n  stretched: PropTypes.bool,\n  before: PropTypes.node,\n  after: PropTypes.node,\n  children: PropTypes.node,\n  style: PropTypes.object,\n  className: PropTypes.string,\n  component: PropTypes.any\n};\n\nButton.defaultProps = {\n  level: 'primary',\n  type: 'default',\n  component: 'button',\n  size: 'm',\n  stretched: false\n};\n\nexport default Button;\n","\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Touch from '../Touch/Touch';\nimport classNames from '../../lib/classNames';\nimport getClassName from '../../helpers/getClassName';\n\nconst baseClassNames = getClassName('Slider');\n\nfunction precisionRound (number, precision) {\n  let factor = Math.pow(10, precision || 1);\n  return Math.round(number * factor) / factor;\n}\n\nexport default class Slider extends Component {\n  constructor (props) {\n    super(props);\n    this.state = {\n      startX: 0\n    };\n    this.isControlledOutside = this.props.hasOwnProperty('value');\n  }\n\n  static propTypes = {\n    min: PropTypes.number,\n    max: PropTypes.number,\n    value: PropTypes.number,\n    step: PropTypes.number,\n    onChange: PropTypes.func,\n    defaultValue: PropTypes.number,\n    className: PropTypes.string,\n    style: PropTypes.object,\n    getRootRef: PropTypes.oneOfType([\n      PropTypes.func,\n      PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n    ])\n  };\n\n  static defaultProps = {\n    min: 0,\n    max: 100,\n    step: 0\n  };\n\n  onStart = e => {\n    const absolutePosition = this.validateAbsolute(e.startX - this.state.containerLeft);\n    const percentPosition = this.absoluteToPecent(absolutePosition);\n\n    this.onChange(this.percentToValue(percentPosition), e);\n\n    if (this.isControlledOutside) {\n      this.setState({startX: absolutePosition});\n    } else {\n      this.setState({\n        startX: absolutePosition,\n        percentPosition\n      });\n    }\n\n    this.setState({active: !!e.originalEvent.target.closest('.Slider__thumb')});\n  };\n\n  onMoveX = e => {\n    const absolutePosition = this.validateAbsolute(this.state.startX + (e.shiftX || 0));\n    const percentPosition = this.absoluteToPecent(absolutePosition);\n\n    this.onChange(this.percentToValue(percentPosition), e);\n\n    if (!this.isControlledOutside) {\n      this.setState({percentPosition});\n    }\n\n    e.originalEvent.preventDefault();\n  };\n\n  onEnd = () => {\n    this.setState({\n      active: false\n    });\n  };\n\n  onResize = (callback) => {\n    this.setState({\n      containerLeft: this.container.offsetLeft,\n      containerWidth: this.container.offsetWidth\n    }, () => {\n      typeof callback === 'function' && callback();\n    });\n  };\n\n  onChange (value, e) {\n    this.props.onChange && this.props.onChange(value, e);\n  }\n\n  validateAbsolute (absolute) {\n    let res = Math.max(0, Math.min(absolute, this.state.containerWidth));\n\n    if (this.props.step > 0) {\n      const stepCount = (this.props.max - this.props.min) / this.props.step;\n      const absStep = this.state.containerWidth / stepCount;\n\n      res = Math.round(res / absStep) * absStep;\n    }\n\n    return res;\n  }\n\n  validatePercent (percent) { return Math.max(0, Math.min(percent, 100)); }\n\n  absoluteToPecent (absolute) { return absolute * 100 / this.state.containerWidth; }\n\n  percentToValue (percent) {\n    const res = percent * (this.props.max - this.props.min) / 100 + this.props.min;\n    if (this.props.step > 0) {\n      const stepFloatPart = `${this.props.step}`.split('.')[1] || '';\n      return precisionRound(res, stepFloatPart.length);\n    }\n    return res;\n  }\n\n  valueToPercent (value) { return (value - this.props.min) * 100 / (this.props.max - this.props.min); }\n\n  get value () {\n    if (this.isControlledOutside) {\n      return this.props.value;\n    } else if (this.props.hasOwnProperty('defaultValue')) {\n      return this.props.defaultValue;\n    } else {\n      return this.props.min;\n    }\n  }\n\n  componentDidMount () {\n    window.addEventListener('resize', this.onResize);\n    this.onResize(() => {\n      this.setState({percentPosition: this.validatePercent(this.valueToPercent(this.value))});\n    });\n  }\n\n  componentDidUpdate (prevProps) {\n    if (this.isControlledOutside && this.props.value !== prevProps.value) {\n      this.setState({percentPosition: this.validatePercent(this.valueToPercent(this.props.value))});\n    }\n  }\n\n  componentWillUnmount () {\n    window.removeEventListener('resize', this.onResize);\n  }\n\n  getRef = container => {\n    this.container = container;\n\n    const getRootRef = this.props.getRootRef;\n    if (getRootRef) {\n      if (typeof getRootRef === 'function') {\n        getRootRef(container);\n      } else {\n        getRootRef.current = container;\n      }\n    }\n  };\n\n  render () {\n    const { className, min, max, step, value, defaultValue, onChange, getRootRef, ...restProps } = this.props;\n\n    return (\n      <div {...restProps} className={classNames(baseClassNames, className)} ref={this.getRef}>\n        <Touch onStart={this.onStart} onMoveX={this.onMoveX} onEnd={this.onEnd} className=\"Slider__in\">\n          <div className=\"Slider__dragger\" style={{ width: this.state.percentPosition + '%' }}>\n            <span\n              className={classNames('Slider__thumb', 'Slider__thumb--end', {\n                'Slider__thumb--active': this.state.active\n              })}\n            />\n          </div>\n        </Touch>\n      </div>\n    );\n  }\n}\n","(function(window) {\n  var FUNCTION = 'function';\n  var UNDEFINED = 'undefined';\n  var subscribers = [];\n  var isWeb = typeof window !== UNDEFINED && !window.AndroidBridge && !window.webkit;\n  var eventType = isWeb ? 'message' : 'VKWebAppEvent';\n\n  if (typeof window !== UNDEFINED) {\n\n    //polyfill\n    if (!window.CustomEvent) {\n      (function() {\n        function CustomEvent(event, params) {\n          params = params || {bubbles: false, cancelable: false, detail: undefined};\n          var evt = document.createEvent('CustomEvent');\n          evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n          return evt;\n        };\n\n        CustomEvent.prototype = window.Event.prototype;\n\n        window.CustomEvent = CustomEvent;\n      })();\n    }\n\n    window.addEventListener(eventType, function() {\n      var args = Array.prototype.slice.call(arguments);\n      if (isWeb) {\n        subscribers.forEach(function(fn) {\n          fn({\n            detail: args[0].data\n          });\n        });\n      } else {\n        subscribers.forEach(function(fn) {\n          fn.apply(null, args);\n        });\n      }\n    });\n  }\n\n  module.exports = {\n    /**\n     * Sends a message to native client\n     *\n     * @example\n     * message.send('VKWebAppInit');\n     *\n     * @param {String} handler Message type\n     * @param {Object} params Message data\n     * @returns {void}\n     */\n    send: function send(handler, params) {\n      if (!params) {\n        params = {};\n      }\n\n      var isClient = typeof window !== UNDEFINED;\n      var androidBridge = isClient && window.AndroidBridge;\n      var iosBridge = isClient && window.webkit && window.webkit.messageHandlers;\n      var isDesktop = !androidBridge && !iosBridge;\n\n      if (androidBridge && typeof androidBridge[handler] == FUNCTION) {\n        androidBridge[handler](JSON.stringify(params));\n      }\n      if (iosBridge && iosBridge[handler] && typeof iosBridge[handler].postMessage == FUNCTION) {\n        iosBridge[handler].postMessage(params);\n      }\n\n      if (isDesktop) {\n        parent.postMessage({\n          handler: handler,\n          params: params,\n          type: 'vk-connect'\n        }, '*');\n      }\n    },\n    /**\n     * Subscribe on VKWebAppEvent\n     *\n     * @param {Function} fn Event handler\n     * @returns {void}\n     */\n    subscribe: function subscribe(fn) {\n      subscribers.push(fn);\n    },\n    /**\n     * Unsubscribe on VKWebAppEvent\n     *\n     * @param {Function} fn Event handler\n     * @returns {void}\n     */\n    unsubscribe: function unsubscribe(fn) {\n      var index = subscribers.indexOf(fn);\n\n      if (index > -1) {\n        subscribers.splice(index, 1);\n      }\n    },\n\n    /**\n     * Checks if native client supports nandler\n     *\n     * @param {String} handler Handler name\n     * @returns {boolean}\n     */\n    supports: function supports(handler) {\n\n      var isClient = typeof window !== UNDEFINED;\n      var androidBridge = isClient && window.AndroidBridge;\n      var iosBridge = isClient && window.webkit && window.webkit.messageHandlers;\n      var desktopEvents = [\n        \"VKWebAppGetAuthToken\",\n        \"VKWebAppCallAPIMethod\",\n        \"VKWebAppGetGeodata\",\n        \"VKWebAppGetUserInfo\",\n        \"VKWebAppGetPhoneNumber\",\n        \"VKWebAppGetClientVersion\",\n        \"VKWebAppOpenPayForm\",\n        \"VKWebAppShare\",\n        \"VKWebAppAllowNotifications\",\n        \"VKWebAppDenyNotifications\",\n        \"VKWebAppShowWallPostBox\",\n        \"VKWebAppGetEmail\",\n        \"VKWebAppAllowMessagesFromGroup\",\n        \"VKWebAppJoinGroup\",\n        \"VKWebAppOpenApp\",\n        \"VKWebAppSetLocation\",\n        \"VKWebAppScroll\",\n        \"VKWebAppResizeWindow\",\n      ];\n\n      if (androidBridge && typeof androidBridge[handler] == FUNCTION) return true;\n\n      if (iosBridge && iosBridge[handler] && typeof iosBridge[handler].postMessage == FUNCTION) return true;\n\n      if (!iosBridge && !androidBridge && ~desktopEvents.indexOf(handler)) return true;\n\n      return false;\n    }\n  };\n})(window);\n","import React from 'react';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport PropTypes from 'prop-types';\n\nconst baseClassName = getClassName('Avatar');\n\nconst Avatar = ({ src, size, type, style, className, children, getRootRef, ...restProps }) => {\n  const Component = src ? 'img' : 'div';\n  let borderRadius;\n\n  switch (type) {\n    case 'default':\n      borderRadius = '50%';\n      break;\n    case 'image':\n      borderRadius = 4;\n      break;\n    case 'app':\n      borderRadius = Math.floor(size * 10 / 48);\n      break;\n  }\n\n  return (\n    <div className={classNames(baseClassName, className, { [`Avatar--type-${type}`]: true })} ref={getRootRef}>\n      <div className=\"Avatar__in\">\n        <Component\n          {...restProps}\n          className=\"Avatar__img\"\n          src={src}\n          style={{ ...style, width: size, height: size, borderRadius }}\n        />\n        {children && <div className=\"Avatar__children\" style={{ width: size, height: size, borderRadius }}>{children}</div>}\n      </div>\n    </div>\n  );\n};\n\nAvatar.propTypes = {\n  size: PropTypes.oneOf([80, 72, 64, 56, 48, 40, 36, 32, 28]),\n  src: PropTypes.string,\n  style: PropTypes.object,\n  className: PropTypes.string,\n  type: PropTypes.oneOf(['default', 'image', 'app']),\n  children: PropTypes.node,\n  getRootRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n  ])\n};\n\nAvatar.defaultProps = {\n  size: 48,\n  type: 'default'\n};\n\nexport default Avatar;\n\n","module.exports = __WEBPACK_EXTERNAL_MODULE__21__;","module.exports = __WEBPACK_EXTERNAL_MODULE__22__;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from '../../lib/classNames';\nimport getClassName from '../../helpers/getClassName';\nimport Tappable from '../Tappable/Tappable';\nimport Touch from '../Touch/Touch';\nimport { IS_PLATFORM_IOS, IS_PLATFORM_ANDROID } from '../../lib/platform';\nimport Icon24Chevron from '@vkontakte/icons/dist/24/chevron';\nimport Icon16Done from '@vkontakte/icons/dist/16/done';\nimport Icon24Cancel from '@vkontakte/icons/dist/24/cancel';\nimport Icon24Reorder from '@vkontakte/icons/dist/24/reorder';\nimport Icon24ReorderIos from '@vkontakte/icons/dist/24/reorder_ios';\n\nconst baseClassNames = getClassName('Cell');\n\nexport default class Cell extends Component {\n  static propTypes = {\n    /**\n     * Контейнер для контента от `children`.\n     */\n    before: PropTypes.node,\n    /**\n     * Контейнер для текста справа от `children`.\n     */\n    indicator: PropTypes.node,\n    /**\n     * Контейнер для контента справа от `children` и `indicator`.\n     */\n    asideContent: PropTypes.node,\n    /**\n     * Выставляйте этот флаг, если клик по ячейке вызывает переход на другую панель. Флаг нужен для корректной\n     * стилизации такой ячейки.\n     */\n    expandable: PropTypes.bool,\n    children: PropTypes.node,\n    onClick: PropTypes.func,\n    /**\n     * Добавляет возможность переноса содержимого `children` и `description`. Без этого флага текст будет уходить\n     * в троеточие.\n     */\n    multiline: PropTypes.bool,\n    /**\n     * Контейнер для дополнительного содержимого под `children`.\n     */\n    description: PropTypes.node,\n    getRootRef: PropTypes.oneOfType([\n      PropTypes.func,\n      PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n    ]),\n    /**\n     * Контейнер для произвольного содержимого под `description`. Рисуется только если передать `size=\"l\"`.\n     */\n    bottomContent: PropTypes.node,\n    className: PropTypes.string,\n    style: PropTypes.object,\n    /**\n     * Размер влияет на выравнивание блоков по вертикали, вид сепаратора (iOS) и возможность вставлять `bottomContent`.\n     */\n    size: PropTypes.oneOf(['m', 'l']),\n    /**\n     * Флаг для перехода в режим ячеек-чекбоксов.\n     * **Важно:** в этом режиме обработчик `onClick` вызываться не будет.\n     * **Важно:** этот режим несовместим с `draggable`. В случае истинности двух этих флагов, приоритет отдается\n     * `draggable`.\n     */\n    selectable: PropTypes.bool,\n    /**\n     * Флаг для перехода в режим удаляемых ячеек. **Важно:** в этом режиме обработчик `onClick` вызываться не будет.\n     */\n    removable: PropTypes.bool,\n    /**\n     * Коллбэк срабатывает при клике на контрол удаления.\n     */\n    onRemove: PropTypes.func,\n    /**\n     * iOS only. Текст в выезжаеющей кнопке для удаления ячейки.\n     */\n    removePlaceholder: PropTypes.node,\n    /**\n     * Флаг для перехода в режим перетаскивания. **Важно:** в этом режиме обработчик `onClick` вызываться не будет.\n     */\n    draggable: PropTypes.bool,\n    /**\n     * Коллбэк срабатывает при завершении перетаскивания.\n     * **Важно:** режим перетаскивания не меняет порядок ячеек в DOM. В коллбэке есть объект с полями `from` и `to`.\n     * Эти числа нужны для того, чтобы разработчик понимал, с какого индекса на какой произошел переход. В песочнице\n     * есть рабочий пример с обработкой этих чисел и перерисовкой списка.\n     */\n    onDragFinish: PropTypes.func,\n    /**\n     * При передаче `href`, ячейка становится полноценной ссылкой. Поддерживаются все валидные для этого элемента\n     * атрибуты (`target`, `rel` и т.д.).\n     */\n    href: PropTypes.string\n  };\n\n  static defaultProps = {\n    before: null,\n    indicator: '',\n    asideContent: '',\n    bottomContent: null,\n    expandable: false,\n    children: '',\n    selectable: false,\n    multiline: false,\n    removable: false,\n    size: 'm',\n    removePlaceholder: 'Удалить'\n  };\n\n  static contextTypes = {\n    document: PropTypes.any\n  };\n\n  state = {\n    isRemoveActivated: false,\n    removeOffset: 0,\n    dragging: false\n  };\n\n  get document () { return this.context.document || document; }\n\n  /**\n   * предотвращает двойное срабатывание в случае с input\n   * (https://github.com/vuejs/vue/issues/3699#issuecomment-247957931)\n   * предотвращает клик в случае, когда включен режим removable\n   * @param e\n   */\n  onClick = (e) => {\n    const { removable, onClick } = this.props;\n    if (e.target.tagName.toLowerCase() === 'input') {\n      e.stopPropagation();\n    } else if (removable) {\n      return null;\n    } else {\n      onClick && onClick(e);\n    }\n  };\n\n  activateRemove = () => {\n    this.setState({ isRemoveActivated: true });\n    this.document.addEventListener('click', this.deactivateRemove);\n  };\n\n  deactivateRemove = () => {\n    this.setState({ isRemoveActivated: false, removeOffset: 0 });\n    this.document.removeEventListener('click', this.deactivateRemove);\n  };\n\n  onRemoveClick = (e) => {\n    e.nativeEvent.stopImmediatePropagation();\n    e.preventDefault();\n    this.props.onRemove && this.props.onRemove(e, this.rootEl);\n  };\n\n  componentWillUnmount () {\n    this.document.removeEventListener('click', this.deactivateRemove);\n  }\n\n  componentDidUpdate (prevProps, prevState) {\n    if (prevState.isRemoveActivated !== this.state.isRemoveActivated && this.state.isRemoveActivated) {\n      this.setState({ removeOffset: this.removeButton.offsetWidth });\n    }\n  }\n\n  getRemoveRef = el => this.removeButton = el;\n\n  getRootRef = (element) => {\n    this.rootEl = element;\n\n    const getRootRef = this.props.getRootRef;\n    if (getRootRef) {\n      if (typeof getRootRef === 'function') {\n        getRootRef(element);\n      } else {\n        getRootRef.current = element;\n      }\n    }\n  };\n\n  onDragStart = () => {\n    this.setState({ dragging: true });\n    this.dragShift = 0;\n    this.listEl = this.rootEl.closest('.List');\n    this.listEl && this.listEl.classList.add('List--dragging');\n    this.siblings = Array.prototype.slice.call(this.rootEl.parentElement.childNodes);\n    this.dragStartIndex = this.siblings.indexOf(this.rootEl);\n  };\n\n  onDragMove = (e) => {\n    e.originalEvent.preventDefault();\n    if (this.state.removeOffset) return;\n\n    this.rootEl.style.transform = `translateY(${e.shiftY}px)`;\n    const rootGesture = this.rootEl.getBoundingClientRect();\n    this.dragDirection = this.dragShift - e.shiftY < 0 ? 'down' : 'up';\n    this.dragShift = e.shiftY;\n    this.dragEndIndex = this.dragStartIndex;\n\n    this.siblings.forEach((sibling, siblingIndex) => {\n      const siblingGesture = sibling.getBoundingClientRect();\n      if (this.dragStartIndex < siblingIndex) {\n        if (rootGesture.bottom > siblingGesture.top + siblingGesture.height / 2) {\n          if (this.dragDirection === 'down') sibling.style.transform = `translateY(-100%)`;\n          this.dragEndIndex++;\n        }\n        if (rootGesture.top < siblingGesture.bottom - siblingGesture.height / 2 && this.dragDirection === 'up') {\n          sibling.style.transform = `translateY(0)`;\n        }\n      } else if (this.dragStartIndex > siblingIndex) {\n        if (rootGesture.top < siblingGesture.bottom - siblingGesture.height / 2) {\n          if (this.dragDirection === 'up') sibling.style.transform = `translateY(100%)`;\n          this.dragEndIndex--;\n        }\n        if (rootGesture.bottom > siblingGesture.top + siblingGesture.height / 2 && this.dragDirection === 'down') {\n          sibling.style.transform = `translateY(0)`;\n        }\n      }\n    });\n  };\n\n  onDragEnd = () => {\n    this.setState({ dragging: false });\n    this.listEl && this.listEl.classList.remove('List--dragging');\n    this.props.onDragFinish && this.props.onDragFinish({ from: this.dragStartIndex, to: this.dragEndIndex });\n    this.siblings.forEach(sibling => sibling.style.transform = null);\n    delete this.dragShift;\n    delete this.listEl;\n    delete this.siblings;\n    delete this.dragStartIndex;\n    delete this.dragEndIndex;\n    delete this.dragDirection;\n  };\n\n  render () {\n    let {\n      before,\n      indicator,\n      asideContent,\n      expandable,\n      onClick,\n      children,\n      getRootRef,\n      description,\n      selectable,\n      multiline,\n      className,\n      onRemove,\n      removable,\n      removePlaceholder,\n      draggable,\n      onDragFinish,\n      href,\n      size,\n      bottomContent,\n      ...restProps\n    } = this.props;\n\n    selectable = selectable && !draggable;\n\n    const rootProps = selectable ? {} : restProps;\n    const inputProps = selectable ? restProps : {};\n    const linkProps = href ? restProps : {};\n\n    return (\n      <div\n        {...rootProps}\n        onClick={href || draggable ? null : this.onClick}\n        className={classNames(baseClassNames, {\n          'Cell--expandable': expandable,\n          'Cell--multiline': multiline,\n          [`Cell--${size}`]: size,\n          'Cell--dragging': this.state.dragging,\n          'Cell--draggable': draggable\n        }, className)}\n        ref={this.getRootRef}\n      >\n        <Tappable\n          {...linkProps}\n          onClick={href ? this.onClick : null}\n          component={selectable ? 'label' : href ? 'a' : 'div'}\n          className=\"Cell__in\"\n          href={href}\n          disabled={(!selectable && !onClick && !href || removable || draggable)}\n          style={removable ? { transform: `translateX(-${this.state.removeOffset}px)` } : null}\n        >\n          {selectable && <input {...inputProps} type=\"checkbox\" className=\"Cell__checkbox\" />}\n          <div className=\"Cell__before\">\n            {selectable && IS_PLATFORM_IOS && <div className=\"Cell__checkbox-marker\"><Icon16Done /></div>}\n            {removable && IS_PLATFORM_IOS && <div className=\"Cell__remove-marker\" onClick={this.activateRemove}/>}\n            {IS_PLATFORM_ANDROID && draggable &&\n            <Touch\n              onStart={this.onDragStart}\n              onMoveY={this.onDragMove}\n              onEnd={this.onDragEnd}\n              className=\"Cell__dragger\"\n            ><Icon24Reorder/></Touch>\n            }\n            {before && <div className=\"Cell__before-in\">{before}</div>}\n          </div>\n          <div className=\"Cell__main\">\n            <div className=\"Cell__children\">{children}</div>\n            {description && <div className=\"Cell__description\">{description}</div>}\n            {size === 'l' && bottomContent && <div className=\"Cell__bottom\">{bottomContent}</div>}\n          </div>\n          <div className=\"Cell__indicator\">{indicator}</div>\n          <div className=\"Cell__aside\">\n            {asideContent}\n            {selectable && IS_PLATFORM_ANDROID && <div className=\"Cell__checkbox-marker\"><Icon16Done /></div>}\n            {removable && IS_PLATFORM_ANDROID &&\n            <div className=\"Cell__remove-marker\" onClick={this.onRemoveClick}><Icon24Cancel /></div>\n            }\n            {IS_PLATFORM_IOS && expandable && !draggable && <Icon24Chevron className=\"Cell__chevron\"/>}\n            {IS_PLATFORM_IOS && draggable &&\n            <Touch\n              className=\"Cell__dragger\"\n              onStart={this.onDragStart}\n              onMoveY={this.onDragMove}\n              onEnd={this.onDragEnd}\n            ><Icon24ReorderIos/></Touch>\n            }\n          </div>\n        </Tappable>\n        {removable && IS_PLATFORM_IOS &&\n        <div\n          ref={this.getRemoveRef}\n          className=\"Cell__remove\"\n          onClick={this.onRemoveClick}\n          style={removable ? { transform: `translateX(-${this.state.removeOffset}px)` } : null}\n        >\n          <span className=\"Cell__remove-in\">{removePlaceholder}</span>\n        </div>\n        }\n      </div>\n    );\n  }\n}\n","\n/**\n * Задает стиль трансформации элементу с учетом префиксов\n *\n * @param {Element} element\n * @param {string} transform\n */\nexport function setTransformStyle (element, transform) {\n  element.style.transform = transform;\n  element.style.WebkitTransform = transform;\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Touch from '../Touch/Touch';\nimport withInsets from '../../hoc/withInsets';\n\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport { setTransformStyle } from '../../lib/styles';\nimport { rubber } from '../../lib/touch';\nimport { IS_PLATFORM_ANDROID } from '../../lib/platform';\nimport transitionEvents from '../../lib/transitionEvents';\n\nconst baseClassName = getClassName('ModalRoot');\n\nexport const TYPE_CARD = 'modal-card';\nexport const TYPE_PAGE = 'modal-page';\n\nfunction numberInRange (number, range) {\n  return number >= range[0] && number <= range[1];\n}\n\nfunction rangeTranslate (number) {\n  return Math.max(0, Math.min(98, number));\n}\n\nexport const ModalRootContext = React.createContext(false);\n\nclass ModalRoot extends Component {\n  constructor (props) {\n    super(props);\n\n    this.state = {\n      activeModal: props.activeModal,\n      prevModal: null,\n      nextModal: null,\n      visibleModals: [props.activeModal],\n      animated: false,\n      history: props.activeModal ? [props.activeModal] : [],\n\n      touchDown: false,\n      dragging: false\n    };\n\n    this.activeTransitions = 0;\n    this.maskElementRef = React.createRef();\n\n    this.initModalsState();\n  }\n\n  static propTypes = {\n    activeModal: PropTypes.string,\n    children: PropTypes.node,\n\n    /**\n     * @ignore\n     */\n    insets: PropTypes.object\n  };\n\n  static contextTypes = {\n    window: PropTypes.any,\n    document: PropTypes.any,\n    webviewType: PropTypes.oneOf(['vkapps', 'internal'])\n  };\n\n  get document () {\n    return this.context.document || document;\n  }\n\n  get window () {\n    return this.context.window || window;\n  }\n\n  get webviewType () {\n    return this.context.webviewType || 'vkapps';\n  }\n\n  get modals () {\n    return [].concat(this.props.children);\n  }\n\n  initModalsState () {\n    this.modalsState = this.modals.reduce((acc, Modal) => {\n      const modalProps = Modal.props;\n      const state = {};\n\n      // ModalPage props\n      if (typeof modalProps.settlingHeight === 'number') {\n        state.settlingHeight = modalProps.settlingHeight;\n      }\n\n      state.onClose = Modal.props.onClose;\n      state.id = Modal.props.id;\n      acc[state.id] = state;\n      return acc;\n    }, {});\n  }\n\n  componentDidMount () {\n    this.initActiveModal();\n  }\n\n  componentWillUnmount () {\n    this.toggleDocumentScrolling(true);\n  }\n\n  componentDidUpdate (prevProps, prevState) {\n    if (this.props.activeModal !== prevProps.activeModal && !this.state.switching) {\n      const nextModal = this.props.activeModal;\n      const prevModal = prevProps.activeModal;\n\n      if (nextModal !== null && !this.modalsState[nextModal]) {\n        return console.warn(`[ModalRoot.componentDidUpdate] nextModal ${nextModal} not found`);\n      }\n\n      let history = [...this.state.history];\n      let isBack = false;\n\n      if (nextModal === null) {\n        history = [];\n      } else if (history.indexOf(nextModal) !== -1) {\n        history = history.splice(0, history.indexOf(nextModal) + 1);\n        isBack = true;\n      } else {\n        history.push(nextModal);\n      }\n\n      return this.setState({\n        activeModal: null,\n        nextModal,\n        prevModal,\n        visibleModals: [nextModal, prevModal],\n        history,\n        isBack,\n        animated: true,\n        inited: false,\n        switching: false\n      }, () => {\n        if (nextModal === null) {\n          this.closeActiveModal();\n        } else {\n          this.initActiveModal();\n        }\n      });\n    }\n\n    if (this.state.switching && !prevState.switching) {\n      requestAnimationFrame(() => this.switchPrevNext());\n    }\n\n    if (!this.state.activeModal && !this.state.prevModal && !this.state.nextModal) {\n      this.toggleDocumentScrolling(true);\n    } else {\n      this.toggleDocumentScrolling(false);\n    }\n  }\n\n  blurActiveElement () {\n    if (typeof this.window !== 'undefined' && this.document.activeElement) {\n      this.document.activeElement.blur();\n    }\n  }\n\n  /**\n   * Отключает скролл документа\n   * @param {boolean} enabled Включен ли скроолл\n   */\n  toggleDocumentScrolling (enabled) {\n    if (this.documentScrolling === enabled) return;\n    this.documentScrolling = enabled;\n\n    if (enabled) {\n      this.window.removeEventListener('touchmove', this.preventTouch);\n    } else {\n      this.window.addEventListener('touchmove', this.preventTouch, { passive: false });\n    }\n  }\n\n  preventTouch = (event) => {\n    if (!event) return false;\n    while (event.originalEvent) event = event.originalEvent;\n    event.preventDefault();\n  };\n\n  pickModal (modalId) {\n    return this.document.getElementById('modal-' + modalId);\n  }\n\n  /**\n   * Инициализирует модалку перед анимацией открытия\n   */\n  initActiveModal () {\n    const activeModal = this.state.activeModal || this.state.nextModal;\n    if (!activeModal) return;\n\n    const modalElement = this.pickModal(activeModal);\n    const modalState = this.modalsState[activeModal];\n\n    if (modalElement.querySelector('.ModalPage')) {\n      modalState.type = TYPE_PAGE;\n    } else if (modalElement.querySelector('.ModalCard')) {\n      modalState.type = TYPE_CARD;\n    }\n\n    switch (modalState.type) {\n      case TYPE_PAGE:\n        modalState.settlingHeight = modalState.settlingHeight || 75;\n        this.initPageModal(modalState, modalElement);\n        break;\n\n      case TYPE_CARD:\n        this.initCardModal(modalState, modalElement);\n        break;\n\n      default:\n        console.warn(`[ModalRoot.initActiveModal] modalState.type is unknown`);\n    }\n\n    this.setState({ inited: true, switching: true });\n  }\n\n  initPageModal (modalState, modalElement) {\n    const contentElement = modalElement.querySelector('.ModalPage__content');\n    const contentHeight = contentElement.firstChild.offsetHeight;\n\n    modalState.isExpandable = contentHeight > contentElement.clientHeight;\n\n    modalState.modalElement = modalElement;\n    modalState.innerElement = modalElement.querySelector('.ModalPage__in-wrap');\n    modalState.headerElement = modalElement.querySelector('.ModalPage__header');\n    modalState.contentElement = modalElement.querySelector('.ModalPage__content');\n    modalState.footerElement = modalElement.querySelector('.ModalPage__footer');\n\n    let collapsed;\n    let translateYFrom;\n    let translateY;\n    let translateYAbs;\n    let expandedRange;\n    let collapsedRange;\n    let hiddenRange;\n\n    if (modalState.isExpandable) {\n      translateYFrom = 100 - modalState.settlingHeight;\n\n      const shiftHalf = translateYFrom / 2;\n      const visiblePart = 100 - translateYFrom;\n\n      expandedRange = [0, shiftHalf];\n      collapsedRange = [shiftHalf, translateYFrom + visiblePart / 4];\n      hiddenRange = [translateYFrom + visiblePart / 4, 100];\n\n      collapsed = true;\n      translateY = translateYFrom;\n      translateYAbs = translateYFrom;\n    } else {\n      translateYFrom = 0;\n\n      expandedRange = [0, 25];\n      collapsedRange = [25, 25];\n      hiddenRange = [25, 100];\n\n      collapsed = false;\n      translateY = 0;\n\n      const headerHeight = modalState.headerElement.offsetHeight;\n      modalState.height = contentHeight + headerHeight + (this.props.insets.bottom || 0);\n      modalState.innerElement.style.height = modalState.height + 'px';\n\n      // Абсолютный сдвиг фиксированной страницы\n      translateYAbs = 100 - (modalState.height / modalState.innerElement.parentNode.offsetHeight * 100);\n    }\n\n    modalState.expandedRange = expandedRange;\n    modalState.collapsedRange = collapsedRange;\n    modalState.hiddenRange = hiddenRange;\n    modalState.translateY = translateY;\n    modalState.translateYFrom = translateYFrom;\n    modalState.translateYAbs = translateYAbs;\n    modalState.collapsed = collapsed;\n  }\n\n  initCardModal (modalState, modalElement) {\n    modalState.modalElement = modalElement;\n    modalState.innerElement = modalElement.querySelector('.ModalCard__in');\n\n    modalState.translateY = 0;\n  }\n\n  closeActiveModal () {\n    const { prevModal } = this.state;\n    if (!prevModal) return console.warn(`[ModalRoot.closeActiveModal] prevModal is ${prevModal}`);\n\n    const prevModalState = this.modalsState[prevModal];\n\n    this.waitTransitionFinish(prevModalState, this.prevNextSwitchEndHandler);\n    this.animateTranslate(prevModalState, 100);\n    this.setMaskOpacity(prevModalState, 0);\n  }\n\n  onTouchMove = (e) => {\n    if (this.state.switching) return;\n    const activeModal = this.state.activeModal || this.state.nextModal;\n    if (!activeModal) return;\n\n    const modalState = this.modalsState[activeModal];\n\n    if (modalState.type === TYPE_PAGE) {\n      return this.onPageTouchMove(e, modalState);\n    }\n\n    if (modalState.type === TYPE_CARD) {\n      return this.onCardTouchMove(e, modalState);\n    }\n  };\n\n  onPageTouchMove (event, modalState) {\n    const { shiftY, startT, originalEvent } = event;\n\n    if (!event.isY) {\n      if (originalEvent.target.closest('.ModalPage')) {\n        originalEvent.preventDefault();\n      }\n      return;\n    }\n\n    if (!originalEvent.target.closest('.ModalPage__in')) {\n      return originalEvent.preventDefault();\n    }\n\n    originalEvent.stopPropagation();\n\n    const { isExpandable, contentScrolled, collapsed, expanded } = modalState;\n\n    if (!this.state.touchDown) {\n      modalState.touchStartTime = startT;\n      modalState.touchStartContentScrollTop = modalState.contentElement.scrollTop;\n      this.setState({ touchDown: true });\n    }\n\n    if (contentScrolled) return;\n\n    if (modalState.touchMovePositive === null) {\n      modalState.touchMovePositive = shiftY > 0;\n    }\n\n    if (\n      !modalState.isExpandable ||\n      collapsed ||\n      (expanded && modalState.touchMovePositive && (modalState.touchStartContentScrollTop === 0)) ||\n      originalEvent.target.closest('.ModalPage__header')\n    ) {\n      originalEvent.preventDefault();\n      if (!isExpandable && shiftY < 0) return;\n\n      !this.state.dragging && this.setState({ dragging: true });\n\n      const shiftYPercent = shiftY / this.window.innerHeight * 100;\n      const shiftYCurrent = rubber(shiftYPercent, 72, 0.8, IS_PLATFORM_ANDROID);\n\n      modalState.touchShiftYPercent = shiftYPercent;\n      modalState.translateYCurrent = rangeTranslate(modalState.translateY + shiftYCurrent);\n\n      this.animateTranslate(modalState, modalState.translateYCurrent);\n      this.setMaskOpacity(modalState);\n      return;\n    }\n  }\n\n  onCardTouchMove (event, modalState) {\n    const { originalEvent, shiftY, startT } = event;\n    if (originalEvent.target.closest('.ModalCard__container')) {\n      if (!this.state.touchDown) {\n        modalState.touchStartTime = startT;\n        this.setState({ touchDown: true, dragging: true });\n      }\n\n      const shiftYPercent = shiftY / modalState.innerElement.offsetHeight * 100;\n      const shiftYCurrent = rubber(shiftYPercent, 72, 1.2, IS_PLATFORM_ANDROID);\n\n      modalState.touchShiftYPercent = shiftYPercent;\n      modalState.translateYCurrent = Math.max(0, modalState.translateY + shiftYCurrent);\n\n      this.animateTranslate(modalState, modalState.translateYCurrent);\n      this.setMaskOpacity(modalState);\n    }\n  }\n\n  onTouchEnd = (e) => {\n    const activeModal = this.state.activeModal || this.state.nextModal;\n    if (!activeModal) return;\n    const modalState = this.modalsState[activeModal];\n\n    if (modalState.type === TYPE_PAGE) {\n      return this.onPageTouchEnd(e, modalState);\n    }\n\n    if (modalState.type === TYPE_CARD) {\n      return this.onCardTouchEnd(e, modalState);\n    }\n  };\n\n  onPageTouchEnd (event, modalState) {\n    const { startY, shiftY } = event;\n\n    modalState.contentScrolled = false;\n    modalState.touchMovePositive = null;\n\n    let next;\n\n    if (this.state.dragging) {\n      const shiftYEndPercent = (startY + shiftY) / this.window.innerHeight * 100;\n\n      let translateY = modalState.translateYCurrent;\n      const expectTranslateY = (translateY / (new Date() - modalState.touchStartTime) * 240 * 0.6) * (modalState.touchShiftYPercent < 0 ? -1 : 1);\n      translateY = rangeTranslate(translateY + expectTranslateY);\n\n      if (numberInRange(translateY, modalState.expandedRange)) {\n        translateY = 0;\n      } else if (numberInRange(translateY, modalState.collapsedRange)) {\n        translateY = modalState.translateYFrom;\n      } else if (numberInRange(translateY, modalState.hiddenRange)) {\n        translateY = 100;\n      } else {\n        translateY = modalState.translateYFrom;\n      }\n\n      if (translateY !== 100 && shiftYEndPercent >= 75) {\n        translateY = 100;\n      }\n\n      modalState.translateY = translateY;\n      modalState.translateYCurrent = translateY;\n      modalState.collapsed = translateY > 0 && translateY < shiftYEndPercent;\n      modalState.expanded = translateY === 0;\n      modalState.hidden = translateY === 100;\n\n      if (modalState.hidden) {\n        modalState.onClose();\n      }\n\n      next = () => {\n        !modalState.hidden && this.animateTranslate(modalState);\n        this.setMaskOpacity(modalState);\n      };\n    }\n\n    this.setState({\n      touchDown: false,\n      dragging: false\n    }, next);\n  }\n\n  onCardTouchEnd (event, modalState) {\n    let next;\n\n    if (this.state.dragging) {\n      let translateY = modalState.translateYCurrent;\n\n      const expectTranslateY = (translateY / (new Date() - modalState.touchStartTime) * 240 * 0.6) * (modalState.touchShiftYPercent < 0 ? -1 : 1);\n      translateY = Math.max(0, translateY + expectTranslateY);\n\n      if (translateY >= 30) {\n        translateY = 100;\n      } else {\n        translateY = 0;\n      }\n\n      modalState.translateY = translateY;\n      modalState.hidden = translateY === 100;\n\n      if (modalState.hidden) {\n        modalState.onClose();\n      }\n\n      next = () => {\n        !modalState.hidden && this.animateTranslate(modalState);\n        this.setMaskOpacity(modalState);\n      };\n    }\n\n    this.setState({\n      touchDown: false,\n      dragging: false\n    }, next);\n  }\n\n  onScroll = (e) => {\n    const activeModal = this.state.activeModal;\n\n    if (activeModal && e.target.closest('.ModalPage__content')) {\n      const modalState = this.modalsState[activeModal];\n      modalState.contentScrolled = true;\n\n      clearTimeout(modalState.contentScrollStopTimeout);\n\n      modalState.contentScrollStopTimeout = setTimeout(() => {\n        if (modalState.contentScrolled) {\n          modalState.contentScrolled = false;\n        }\n      }, 250);\n    }\n  };\n\n  waitTransitionFinish (modalState, eventHandler) {\n    const eventName = transitionEvents.transitionEndEventName;\n\n    const onceHandler = () => {\n      modalState.innerElement.removeEventListener(eventName, onceHandler);\n      eventHandler();\n    };\n\n    modalState.innerElement.addEventListener(eventName, onceHandler);\n  }\n\n  switchPrevNext () {\n    const { prevModal, nextModal } = this.state;\n\n    const prevModalState = this.modalsState[prevModal];\n    const nextModalState = this.modalsState[nextModal];\n\n    if (!prevModalState && !nextModalState) {\n      return console.warn(`[ModalRoot.switchPrevNext] prevModal is ${prevModal}, nextModal is ${nextModal}`);\n    }\n\n    const prevIsPage = !!prevModalState && (prevModalState.type === TYPE_PAGE);\n    const prevIsCard = !!prevModalState && (prevModalState.type === TYPE_CARD);\n\n    const nextIsPage = !!nextModalState && (nextModalState.type === TYPE_PAGE);\n    const nextIsCard = !!nextModalState && (nextModalState.type === TYPE_CARD);\n\n    // Ждём полного скрытия предыдущей модалки\n    if (prevModalState && (nextIsCard || (prevIsCard && nextIsPage))) {\n      this.waitTransitionFinish(prevModalState, () => {\n        this.activeTransitions += 1;\n        this.waitTransitionFinish(nextModalState, this.prevNextSwitchEndHandler);\n        this.animateTranslate(nextModalState);\n      });\n\n      return this.animateTranslate(prevModalState, 100);\n    }\n\n    if (prevModalState && nextIsPage) {\n      this.activeTransitions += 1;\n      this.waitTransitionFinish(prevModalState, this.prevNextSwitchEndHandler);\n\n      if (prevIsPage && prevModalState.translateY <= nextModalState.translateYAbs && !this.state.isBack) {\n        this.animateTranslate(prevModalState, nextModalState.translateYAbs + 10);\n      } else {\n        this.animateTranslate(prevModalState, 100);\n      }\n    }\n\n    this.activeTransitions += 1;\n    this.waitTransitionFinish(nextModalState, this.prevNextSwitchEndHandler);\n    this.animateTranslate(nextModalState);\n  }\n\n  prevNextSwitchEndHandler = () => {\n    this.activeTransitions = Math.max(0, this.activeTransitions - 1);\n    if (this.activeTransitions > 0) return;\n\n    const activeModal = this.state.nextModal;\n\n    const newState = {\n      prevModal: null,\n      nextModal: null,\n      visibleModals: [activeModal],\n      activeModal: activeModal,\n      animated: false,\n      switching: false\n    };\n\n    if (!activeModal) {\n      newState.history = [];\n    }\n\n    this.setState(newState);\n  };\n\n  /**\n   * Анимирует сдивг модалки\n   *\n   * @param {object} modalState\n   * @param {number} currentPercent\n   */\n  animateTranslate (modalState, currentPercent = null) {\n    if (currentPercent === null) {\n      currentPercent = modalState.translateY;\n    }\n\n    const frameId = `animateTranslateFrame${modalState.id}`;\n\n    cancelAnimationFrame(this[frameId]);\n    this[frameId] = requestAnimationFrame(() => {\n      setTransformStyle(modalState.innerElement, `translateY(${currentPercent}%)`);\n\n      if (modalState.type === TYPE_PAGE && modalState.footerElement) {\n        const footerHeight = modalState.footerElement.offsetHeight;\n        const factor = modalState.innerElement.offsetHeight * (currentPercent / 100);\n\n        setTransformStyle(modalState.footerElement, `translateY(calc(${footerHeight}px * -${factor / footerHeight}))`);\n      }\n    });\n\n    if (modalState.type === TYPE_PAGE && modalState.isExpandable) {\n      this.animatePageHeader(modalState, currentPercent);\n    }\n  }\n\n  /**\n   * Анимирует тень шапки\n   *\n   * @param {object} modalState\n   * @param {number} currentPercent\n   */\n  animatePageHeader (modalState, currentPercent) {\n    const headerOpenPercent = currentPercent < 15 ? Math.max(0, 15 - currentPercent) / 15 : 0;\n\n    requestAnimationFrame(() => {\n      const headerShadow = modalState.headerElement.querySelector('.ModalPageHeader__shadow');\n      if (headerShadow) {\n        headerShadow.style.opacity = headerOpenPercent;\n      }\n    });\n  }\n\n  /**\n   * Устанавливает прозрачность для полупрозрачной подложки\n   *\n   * @param {object} modalState\n   * @param {number|null} forceOpacity Форсирует установку прозрачности в обход истории\n   */\n  setMaskOpacity (modalState, forceOpacity = null) {\n    if (forceOpacity === null && this.state.history[0] !== modalState.id) return;\n\n    cancelAnimationFrame(this.maskAnimationFrame);\n    this.maskAnimationFrame = requestAnimationFrame(() => {\n      const { translateY, translateYCurrent } = modalState;\n\n      const opacity = forceOpacity === null ? 1 - ((translateYCurrent - translateY) / (100 - translateY)) || 0 : forceOpacity;\n      this.maskElementRef.current.style.opacity = Math.max(0, Math.min(100, opacity));\n    });\n  }\n\n  /**\n   * Закрывает текущую модалку\n   */\n  triggerActiveModalClose () {\n    const activeModalState = this.modalsState[this.state.activeModal];\n    if (activeModalState) {\n      activeModalState.onClose();\n    }\n  }\n\n  /**\n   * По клику на полупрозрачный черный фон нужно закрыть текущую модалку\n   */\n  onMaskClick = () => {\n    if (!this.state.switching) {\n      this.triggerActiveModalClose();\n    }\n  };\n\n  render () {\n    const { prevModal, activeModal, nextModal, visibleModals, animated, touchDown, dragging, switching } = this.state;\n\n    if (!activeModal && !prevModal && !nextModal && !animated) return null;\n\n    return (\n      <ModalRootContext.Provider value={true}>\n        <Touch\n          className={classNames(baseClassName, {\n            'ModalRoot--vkapps': this.webviewType === 'vkapps',\n            'ModalRoot--touched': touchDown,\n            'ModalRoot--switching': switching\n          })}\n          onMove={this.onTouchMove}\n          onEnd={this.onTouchEnd}\n          onScroll={this.onScroll}\n        >\n          <div\n            className=\"ModalRoot__mask\"\n            onClick={this.onMaskClick}\n            ref={this.maskElementRef}\n          />\n          <div className=\"ModalRoot__viewport\">\n            {this.modals.map((Modal) => {\n              const modalId = Modal.props.id;\n              if (visibleModals.indexOf(Modal.props.id) === -1) return null;\n              const modalState = this.modalsState[modalId];\n\n              const isPage = modalState.type === TYPE_PAGE;\n              const key = 'modal-' + modalId;\n\n              return (\n                <div\n                  key={key}\n                  id={key}\n                  className={classNames('ModalRoot__modal', {\n                    'ModalRoot__modal--active': modalId === activeModal,\n                    'ModalRoot__modal--prev': modalId === prevModal,\n                    'ModalRoot__modal--next': modalId === nextModal,\n\n                    'ModalRoot__modal--dragging': dragging,\n\n                    'ModalRoot__modal--expandable': isPage && modalState.isExpandable,\n                    'ModalRoot__modal--expanded': isPage && modalState.expanded,\n                    'ModalRoot__modal--collapsed': isPage && modalState.collapsed\n                  })}\n                >{Modal}</div>\n              );\n            })}\n          </div>\n        </Touch>\n      </ModalRootContext.Provider>\n    );\n  }\n}\n\nexport default withInsets(ModalRoot);\n","const querystring = {\n  parse: (string = '') => {\n    if (typeof string !== 'string') return {};\n\n    const matches = /\\?(.+)$/ig.exec(string);\n    const str = matches ? matches[1] : string;\n\n    return str\n      .split('&')\n      .reduce((acc, item) => {\n        const param = item.split('=');\n\n        if (param[1]) {\n          acc[param[0]] = decodeURIComponent(param[1]);\n        }\n\n        return acc;\n      }, {});\n  },\n  create: (data = {}, opts) => {\n    if (typeof data !== 'object' || data === null) return '';\n\n    let options = { encode: true, ...opts };\n\n    return Object.keys(data).reduce((acc, item) => {\n      const type = typeof data[item];\n\n      if (type === 'string' || type === 'number' || type === 'boolean') {\n        acc.push(item + '=' + (options.encode ? encodeURIComponent(data[item]) : data[item]));\n      }\n\n      if (Array.isArray(data[item])) {\n        data[item].forEach(value => {\n          acc.push(item + '[]=' + (options.encode ? encodeURIComponent(value) : value));\n        });\n      }\n\n      return acc;\n    }, []).join('&');\n  }\n};\n\nexport default querystring;\n","import connect from '@vkontakte/vkui-connect';\n\nexport const isWebView = connect.supports('VKWebAppInit');\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\n\nconst baseClassName = getClassName('Tabs');\n\nexport default class Tabs extends React.Component {\n  static propTypes = {\n    children: PropTypes.node,\n    className: PropTypes.string,\n    /**\n     * Значения white и gray устарели. Они будут удалены в следующей мажорной версии\n     */\n    theme: PropTypes.oneOf(['light', 'header']),\n    /**\n     * Свойство отвечает за растягивание табов\n     */\n    type: PropTypes.oneOf(['default', 'buttons']),\n    style: PropTypes.object,\n    getRootRef: PropTypes.oneOfType([\n      PropTypes.func,\n      PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n    ])\n  };\n\n  static defaultProps = {\n    theme: 'light',\n    type: 'default'\n  };\n\n  /**\n   * Метод нужен для маппинга устаревших значений theme на новые\n   * @returns {string}\n   */\n  get theme () {\n    switch (this.props.theme) {\n      case 'white':\n        return 'header';\n      case 'gray':\n        return 'light';\n      default:\n        return this.props.theme;\n    }\n  }\n\n  render () {\n    const { className, children, theme, style, type, getRootRef, ...restProps } = this.props;\n\n    return (\n      <div {...restProps} ref={getRootRef} className={classNames(baseClassName, {\n        [`Tabs--${this.theme}`]: true,\n        [`Tabs--${type}`]: true\n      }, className)} style={style}>{children}</div>\n    );\n  }\n}\n","\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from '../../lib/classNames';\nimport getClassName from '../../helpers/getClassName';\n\nconst baseClassNames = getClassName('Div');\n\nexport default function Div ({ className, children, getRootRef, ...restProps }) {\n  return <div {...restProps} ref={getRootRef} className={classNames(baseClassNames, className)}>{children}</div>;\n}\n\nDiv.propTypes = {\n  style: PropTypes.object,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  getRootRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n  ])\n};\n","import React from 'react';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport PropTypes from 'prop-types';\n\nconst baseClassNames = getClassName('Header');\n\nconst Header = ({ className, level, children, indicator, aside, getRootRef, ...restProps }) => {\n  return (\n    <div\n      {...restProps}\n      ref={getRootRef}\n      className={classNames(baseClassNames, className, { [`Header--level-${level}`]: true })}\n    >\n      <div className=\"Header__in\">\n        <div className=\"Header__content\">{children}</div>\n        {indicator && <div className=\"Header__indicator\">{indicator}</div>}\n        {aside && <div className=\"Header__aside\">{aside}</div>}\n      </div>\n    </div>\n  );\n};\n\nHeader.propTypes = {\n  className: PropTypes.string,\n  level: PropTypes.oneOf(['1', '2']),\n  indicator: PropTypes.node,\n  aside: PropTypes.node,\n  children: PropTypes.node,\n  style: PropTypes.object,\n  getRootRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n  ])\n};\n\nHeader.defaultProps = {\n  level: '1'\n};\n\nexport default Header;\n","import React from 'react';\nimport Tappable from '../Tappable/Tappable';\nimport getClassName from '../../helpers/getClassName';\nimport PropTypes from 'prop-types';\nimport classNames from '../../lib/classNames';\n\nconst baseClassName = getClassName('CellButton');\n\nconst CellButton = ({ className, align, level, before, children, ...restProps }) => (\n  <Tappable {...restProps} className={classNames(baseClassName, className, {\n    [`CellButton--lvl-${level}`]: level,\n    [`CellButton--aln-${align}`]: align\n  })} stopPropagation>\n    <div className=\"CellButton__in\">\n      {before && <div className=\"CellButton__before\">{before}</div>}\n      {children && <div className=\"CellButton__content\">{children}</div>}\n    </div>\n  </Tappable>\n);\n\nCellButton.propTypes = {\n  level: PropTypes.oneOf(['primary', 'danger']),\n  align: PropTypes.oneOf(['left', 'center', 'right']),\n  before: PropTypes.node,\n  children: PropTypes.node,\n  style: PropTypes.object,\n  className: PropTypes.string,\n  component: PropTypes.any\n};\n\nCellButton.defaultProps = {\n  level: 'primary',\n  align: 'left'\n};\n\nexport default CellButton;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames.js';\nimport Spinner24 from '@vkontakte/icons/dist/24/spinner';\nimport Spinner32 from '@vkontakte/icons/dist/32/spinner';\nimport Spinner44 from '@vkontakte/icons/dist/44/spinner';\nimport Spinner16 from '@vkontakte/icons/dist/16/spinner';\n\nconst baseClassNames = getClassName('Spinner');\n\nconst svgSpinner = size => {\n  switch (size) {\n    case 'large':\n      return <Spinner44 className=\"Spinner__self\" />;\n    case 'medium':\n      return <Spinner32 className=\"Spinner__self\" />;\n    case 'small':\n      return <Spinner16 className=\"Spinner__self\" />;\n    default:\n      return <Spinner24 className=\"Spinner__self\" />;\n  }\n};\n\nconst Spinner = React.memo(({ className, size, ...restProps }) => (\n  <div {...restProps} className={classNames(baseClassNames, className)}>\n    {svgSpinner(size)}\n  </div>\n));\n\nSpinner.propTypes = {\n  style: PropTypes.object,\n  size: PropTypes.oneOf(['small', 'regular', 'large', 'medium']),\n  className: PropTypes.string\n};\n\nSpinner.defaultProps = {\n  size: 'regular'\n};\n\nexport default Spinner;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from '../../lib/classNames';\nimport getClassName from '../../helpers/getClassName';\nimport Tappable from '../Tappable/Tappable';\n\nconst baseClassNames = getClassName('ActionSheetItem');\n\nconst ActionSheetItem = ({ className, children, autoclose, theme, ...restProps }) => (\n  <Tappable\n    {...restProps}\n    className={classNames(baseClassNames, className, { [`ActionSheetItem--${theme}`]: true })}\n    component={theme === 'cancel' ? 'span' : 'div'}\n  >\n    <span className=\"ActionSheetItem__in\">{children}</span>\n  </Tappable>\n);\n\nActionSheetItem.propTypes = {\n  theme: PropTypes.oneOf(['default', 'destructive', 'cancel']),\n  children: PropTypes.node,\n  style: PropTypes.object,\n  onClick: PropTypes.func,\n  className: PropTypes.string,\n  autoclose: PropTypes.bool\n};\n\nActionSheetItem.defaultProps = {\n  theme: 'default'\n};\n\nexport default ActionSheetItem;\n","import React, { Children } from 'react';\nimport PropTypes from 'prop-types';\nimport PopoutWrapper from '../PopoutWrapper/PopoutWrapper';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport { IS_PLATFORM_IOS, IS_PLATFORM_ANDROID } from '../../lib/platform';\nimport transitionEvents from '../../lib/transitionEvents';\nimport withInsets from '../../hoc/withInsets';\n\nconst baseClassNames = getClassName('ActionSheet');\n\nclass ActionSheet extends React.Component {\n  state = {\n    closing: false\n  };\n\n  static propTypes = {\n    /**\n     * iOS only\n     */\n    title: PropTypes.node,\n    /**\n     * iOS only\n     */\n    text: PropTypes.node,\n    onClose: PropTypes.func.isRequired,\n    style: PropTypes.object,\n    children: PropTypes.node,\n    className: PropTypes.string,\n    /**\n     * @ignore\n     */\n    insets: PropTypes.object\n  };\n\n  onClose = () => {\n    this.setState({ closing: true });\n    this.waitTransitionFinish(this.props.onClose);\n  };\n\n  onItemClick = (action, autoclose) => (event) => {\n    event.persist();\n\n    if (autoclose) {\n      this.setState({ closing: true });\n      this.waitTransitionFinish(() => {\n        autoclose && this.props.onClose();\n        action && action(event);\n      });\n    } else {\n      action && action(event);\n    }\n  };\n\n  getRef = el => this.el = el;\n\n  stopPropagation = e => e.stopPropagation();\n\n  waitTransitionFinish (eventHandler) {\n    if (transitionEvents.supported) {\n      const eventName = transitionEvents.prefix ? transitionEvents.prefix + 'TransitionEnd' : 'transitionend';\n\n      this.el.removeEventListener(eventName, eventHandler);\n      this.el.addEventListener(eventName, eventHandler);\n    } else {\n      setTimeout(eventHandler.bind(this), IS_PLATFORM_ANDROID ? 200 : 300);\n    }\n  }\n\n  render () {\n    const { children, className, title, text, style, insets, ...restProps } = this.props;\n\n    return (\n      <PopoutWrapper\n        closing={this.state.closing}\n        v={IS_PLATFORM_IOS ? 'bottom' : 'center'}\n        h=\"center\"\n        className={className}\n        style={style}\n        onClick={this.onClose}\n      >\n        <div {...restProps} ref={this.getRef} onClick={this.stopPropagation} className={classNames(baseClassNames, {\n          'ActionSheet--closing': this.state.closing\n        })}>\n          {IS_PLATFORM_IOS &&\n          <header className=\"ActionSheet__header\">\n            {title && <div className=\"ActionSheet__title\">{title}</div>}\n            {text && <div className=\"ActionSheet__text\">{text}</div>}\n          </header>\n          }\n          {Children.toArray(children).map((Child, index, arr) => (\n            Child && React.cloneElement(Child, {\n              onClick: this.onItemClick(Child.props.onClick, Child.props.autoclose),\n              style: index === arr.length - 1 && insets.bottom ? { marginBottom: insets.bottom } : null\n            })\n          ))}\n        </div>\n      </PopoutWrapper>\n    );\n  }\n}\n\nexport default withInsets(ActionSheet);\n","\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Tappable from '../Tappable/Tappable';\nimport PopoutWrapper from '../PopoutWrapper/PopoutWrapper';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport transitionEvents from '../../lib/transitionEvents';\nimport { IS_PLATFORM_ANDROID } from '../../lib/platform';\n\nconst baseClassNames = getClassName('Alert');\n\nexport default class Alert extends Component {\n  state = {};\n  element = React.createRef();\n\n  static propTypes = {\n    style: PropTypes.object,\n    className: PropTypes.string,\n    children: PropTypes.node,\n    actionsLayout: PropTypes.oneOf(['vertical', 'horizontal']),\n    actions: PropTypes.arrayOf(PropTypes.shape({\n      title: PropTypes.string,\n      action: PropTypes.func,\n      /**\n       * 'cancel' - iOS only\n       */\n      style: PropTypes.oneOf(['cancel', 'destructive', 'default'])\n    })),\n    onClose: PropTypes.func.isRequired\n  };\n\n  static defaultProps = {\n    actionsLayout: 'horizontal',\n    actions: []\n  };\n\n  onItemClick = item => () => {\n    const { action, autoclose } = item;\n\n    if (autoclose) {\n      this.setState({ closing: true });\n      this.waitTransitionFinish(() => {\n        autoclose && this.props.onClose();\n        action && action();\n      });\n    } else {\n      action && action();\n    }\n  };\n\n  onClose = () => {\n    this.setState({ closing: true });\n    this.waitTransitionFinish(() => {\n      this.props.onClose();\n    });\n  };\n\n  stopPropagation = e => e.stopPropagation();\n\n  waitTransitionFinish (eventHandler) {\n    if (transitionEvents.supported) {\n      const eventName = transitionEvents.prefix ? transitionEvents.prefix + 'TransitionEnd' : 'transitionend';\n\n      this.element.current.removeEventListener(eventName, eventHandler);\n      this.element.current.addEventListener(eventName, eventHandler);\n    } else {\n      setTimeout(eventHandler.bind(this), IS_PLATFORM_ANDROID ? 200 : 300);\n    }\n  }\n\n  render () {\n    const { actions, actionsLayout, children, className, style, ...restProps } = this.props;\n    const { closing } = this.state;\n\n    return (\n      <PopoutWrapper\n        className={className}\n        closing={closing}\n        style={style}\n        onClick={this.onClose}\n      >\n        <div {...restProps} ref={this.element} onClick={this.stopPropagation} className={classNames(baseClassNames, {\n          'Alert--v': actionsLayout === 'vertical',\n          'Alert--h': actionsLayout === 'horizontal',\n          'Alert--closing': closing\n        })}>\n          <div className=\"Alert__content\">{children}</div>\n          <footer className=\"Alert__footer\">\n            {actions.map((button, i) => (\n              <Tappable\n                component=\"button\"\n                className={classNames('Alert__btn', { [`Alert__btn--${button.style}`]: button.style })}\n                onClick={this.onItemClick(button)}\n                key={`alert-action-${i}`}\n              >\n                <span dangerouslySetInnerHTML={{ __html: button.title }} />\n              </Tappable>\n            ))}\n          </footer>\n        </div>\n      </PopoutWrapper>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\n\nimport { IS_PLATFORM_IOS } from '../../lib/platform';\n\nexport const baseClassNames = getClassName('PanelHeader');\n\nexport default class PanelHeader extends React.Component {\n  static propTypes = {\n    left: PropTypes.node,\n    /**\n     * iOS only\n     */\n    addon: PropTypes.node,\n    right: PropTypes.node,\n    children: PropTypes.node,\n    /**\n     * Вместо `light` используйте `alternate`. Значение `light` устарело и будет удалено в следующей\n     * мажорной версии.\n     */\n    theme: PropTypes.oneOf(['light', 'alternate', 'brand']),\n    /**\n     * @ignore\n     */\n    transparent: PropTypes.bool,\n    noShadow: PropTypes.bool,\n    getRef: PropTypes.oneOfType([\n      PropTypes.func,\n      PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n    ])\n  };\n\n  static defaultProps = {\n    theme: 'brand',\n    transparent: false,\n    noShadow: false\n  };\n\n  static contextTypes = {\n    panel: PropTypes.string,\n    document: PropTypes.any,\n    scheme: PropTypes.string,\n    webviewType: PropTypes.oneOf(['vkapps', 'internal'])\n  };\n\n  state = {\n    ready: false\n  };\n\n  get document () { return this.context.document || document; }\n\n  get webviewType () { return this.context.webviewType || 'vkapps'; }\n\n  componentDidMount () {\n    const panelId = this.context.panel;\n\n    this.leftNode = this.document.getElementById('header-left-' + panelId);\n    this.addonNode = this.document.getElementById('header-addon-' + panelId);\n    this.titleNode = this.document.getElementById('header-title-' + panelId);\n    this.rightNode = this.document.getElementById('header-right-' + panelId);\n    this.bgNode = this.document.getElementById('header-bg-' + panelId);\n\n    const getRef = this.props.getRef;\n    if (getRef) {\n      const element = this.document.getElementById(`panel-header-${panelId}`);\n      if (typeof getRef === 'function') {\n        getRef(element);\n      } else {\n        getRef.current = element;\n      }\n    }\n\n    this.setState({ ready: true });\n  }\n\n  render () {\n    let { left, addon, children, right, theme, noShadow, transparent } = this.props;\n    const isPrimitive = typeof children === 'string' || typeof children === 'number';\n\n    return this.state.ready ? [\n      ReactDOM.createPortal(<div className={classNames('PanelHeader-bg', {\n        [`PanelHeader-bg--${theme}`]: true,\n        'PanelHeader-bg--tp': transparent,\n        [`PanelHeader-bg--no-shadow`]: noShadow || ['bright_light', 'space_gray'].indexOf(this.context.scheme) >= 0\n      })}/>, this.bgNode),\n      ReactDOM.createPortal(<div className={classNames('PanelHeader-left-in', {\n        [`PanelHeader-left-in--${theme}`]: true,\n        'PanelHeader-left-in--tp': transparent\n      })}>{left}</div>, this.leftNode),\n      IS_PLATFORM_IOS && ReactDOM.createPortal(<div className={classNames('PanelHeader-addon', {\n        [`PanelHeader-addon--${theme}`]: true,\n        'PanelHeader-addon--tp': transparent\n      })}>{addon}</div>, this.addonNode),\n      ReactDOM.createPortal(<div className={classNames('PanelHeader-content', {\n        [`PanelHeader-content--${theme}`]: true,\n        'PanelHeader-content--tp': transparent\n      })}>\n        {isPrimitive ? <span>{children}</span> : children}\n      </div>, this.titleNode),\n      ReactDOM.createPortal(<div className={classNames('PanelHeader-right', {\n        [`PanelHeader-right--${theme}`]: true,\n        'PanelHeader-right--tp': transparent,\n        'PanelHeader-right--vkapps': this.webviewType === 'vkapps'\n      })}>{this.webviewType === 'internal' ? right : null}</div>, this.rightNode)\n    ] : null;\n  }\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__36__;","module.exports = {\n  tabbarHeight: 48\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from '../../lib/classNames';\n\nfunction calcStrokeDashOffset (value, radius) {\n  const progress = value / 100;\n  return 2 * Math.PI * radius * (1 - progress);\n}\n\nconst PullToRefreshSpinner = React.memo(({on, progress, size, strokeWidth, style}) => {\n  const radius = 0.5 * size - 0.5 * strokeWidth;\n  const dasharray = 2 * Math.PI * radius;\n  const circleCenter = 0.5 * size;\n\n  const dashoffset = calcStrokeDashOffset(on ? 80 : progress, radius);\n\n  return (\n    <div\n      className={classNames('PullToRefresh__spinner', {\n        'PullToRefresh__spinner--on': on\n      })}\n      style={style}\n    >\n      <svg\n        className=\"PullToRefresh__spinner-self\"\n        style={{\n          width: size,\n          height: size\n        }}\n        viewBox={`0 0 ${size} ${size}`}\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <g\n          style={{\n            width: size,\n            height: size,\n            transformOrigin: `${circleCenter}px ${circleCenter}px`\n          }}\n        >\n          <circle\n            className=\"PullToRefresh__spinner-path\"\n            fill=\"none\"\n            strokeDasharray={dasharray}\n            strokeDashoffset={dashoffset}\n            strokeWidth={strokeWidth}\n            strokeLinecap=\"round\"\n            cx={circleCenter}\n            cy={circleCenter}\n            r={radius}\n          />\n        </g>\n      </svg>\n    </div>\n  );\n});\n\nPullToRefreshSpinner.propTypes = {\n  size: PropTypes.number,\n  strokeWidth: PropTypes.number,\n  on: PropTypes.bool,\n  progress: PropTypes.number,\n  style: PropTypes.object\n};\n\nPullToRefreshSpinner.defaultProps = {\n  size: 24,\n  strokeWidth: 2.5,\n  on: true,\n  progress: null\n};\n\nexport default PullToRefreshSpinner;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport Touch from '../Touch/Touch';\nimport FixedLayout from '../FixedLayout/FixedLayout';\nimport classNames from '../../lib/classNames';\nimport { IS_PLATFORM_IOS, IS_PLATFORM_ANDROID } from '../../lib/platform';\nimport getClassName from '../../helpers/getClassName';\nimport PullToRefreshSpinner from './PullToRefreshSpinner';\n\nconst baseClassName = getClassName('PullToRefresh');\n\nfunction cancelEvent (event) {\n  if (!event) return false;\n  while (event.originalEvent) event = event.originalEvent;\n  if (event.preventDefault) event.preventDefault();\n  if (event.stopPropagation) event.stopPropagation();\n  if (event.stopImmediatePropagation) event.stopImmediatePropagation();\n  event.cancelBubble = true;\n  event.returnValue = false;\n  return false;\n}\n\nexport default class PullToRefresh extends PureComponent {\n  constructor (props) {\n    super(props);\n\n    this.params = {\n      start: IS_PLATFORM_ANDROID ? -40 : -10,\n      max: IS_PLATFORM_ANDROID ? 80 : 50,\n      maxY: IS_PLATFORM_ANDROID ? 80 : 400,\n      refreshing: IS_PLATFORM_ANDROID ? 50 : 36,\n\n      positionMultiplier: IS_PLATFORM_ANDROID ? 1 : 0.21\n    };\n\n    this.state = {\n      watching: false,\n      refreshing: false,\n      canRefresh: false,\n\n      touchDown: false,\n      refreshingFinished: false,\n\n      touchY: 0,\n      spinnerY: this.params.start,\n      spinnerProgress: 0,\n      contentShift: 0\n    };\n\n    this._contentElement = React.createRef();\n  }\n\n  static propTypes = {\n    children: PropTypes.element,\n    className: PropTypes.string,\n\n    /**\n     * Будет вызвана для обновления контента\n     */\n    onRefresh: PropTypes.func.isRequired,\n\n    /**\n     * Определяет, выполняется ли обновление. Для скрытия спиннера после получения контента необходимо передать `false`\n     */\n    isFetching: PropTypes.bool\n  };\n\n  static contextTypes = {\n    window: PropTypes.any,\n    document: PropTypes.any\n  };\n\n  get document () {\n    return this.context.document || document;\n  }\n\n  get window () {\n    return this.context.window || window;\n  }\n\n  componentDidMount () {\n    this.document.addEventListener('touchmove', this.onWindowTouchMove, { cancelable: true, passive: false });\n  }\n\n  componentWillUnmount () {\n    this.document.removeEventListener('touchmove', this.onWindowTouchMove);\n  }\n\n  componentWillReceiveProps (nextProps) {\n    if (!nextProps.isFetching && this.props.isFetching) {\n      this.onRefreshingFinish();\n    }\n  }\n\n  get scrollTop () {\n    return this.document.scrollingElement.scrollTop;\n  }\n\n  onTouchStart = (e) => {\n    if (this.state.refreshing) cancelEvent(e);\n    this.setState({ touchDown: true });\n  };\n\n  onWindowTouchMove = (e) => {\n    if (this.state.refreshing) cancelEvent(e);\n  };\n\n  onTouchMove = (e) => {\n    const { isY, shiftY } = e;\n    const { start, max } = this.params;\n    const pageYOffset = this.window.pageYOffset;\n\n    const { refreshing, watching, touchDown } = this.state;\n\n    if (watching && touchDown) {\n      cancelEvent(e);\n\n      const { positionMultiplier } = this.params;\n\n      const shift = Math.max(0, shiftY - this.state.touchY);\n\n      const currentY = Math.max(start, Math.min(this.params.maxY, start + (shift * positionMultiplier)));\n      const progress = currentY > -10 ? Math.abs((currentY + 10) / max) * 80 : 0;\n\n      this.setState({\n        spinnerY: currentY,\n        spinnerProgress: Math.min(80, Math.max(0, progress)),\n        canRefresh: progress > 80,\n        contentShift: (currentY + 10) * 2.3\n      });\n\n      if (progress > 85 && !refreshing && IS_PLATFORM_IOS) {\n        this.runRefreshing();\n      }\n    } else if (isY && pageYOffset === 0 && shiftY > 0 && !refreshing && touchDown) {\n      cancelEvent(e);\n\n      this.setState({\n        watching: true,\n        touchY: shiftY,\n        spinnerY: start,\n        spinnerProgress: 0\n      });\n    }\n  };\n\n  onTouchEnd = () => {\n    const { refreshing, canRefresh, refreshingFinished } = this.state;\n\n    this.setState({\n      watching: false,\n      touchDown: false\n    }, () => {\n      if (canRefresh && !refreshing) {\n        this.runRefreshing();\n      } else if (refreshing && refreshingFinished) {\n        this.resetRefreshingState();\n      } else {\n        this.setState({\n          spinnerY: refreshing ? this.params.refreshing : this.params.start,\n          spinnerProgress: 0,\n          contentShift: 0\n        });\n      }\n    });\n  };\n\n  runRefreshing () {\n    if (!this.state.refreshing && this.props.onRefresh) {\n      this.setState({\n        refreshing: true,\n        spinnerY: IS_PLATFORM_ANDROID ? this.params.refreshing : this.state.spinnerY\n      });\n\n      this.props.onRefresh();\n    }\n  }\n\n  onRefreshingFinish = () => {\n    this.setState({\n      refreshingFinished: true\n    }, () => {\n      !this.state.touchDown && this.resetRefreshingState();\n    });\n  }\n\n  resetRefreshingState () {\n    this.setState({\n      watching: false,\n      canRefresh: false,\n      refreshing: false,\n      refreshingFinished: false,\n      spinnerY: this.params.start,\n      spinnerProgress: 0,\n      contentShift: 0\n    });\n  }\n\n  render () {\n    const { children, className, onRefresh, isFetching, ...restProps } = this.props;\n    const { watching, refreshing, spinnerY, spinnerProgress, canRefresh, touchDown, contentShift } = this.state;\n\n    return (\n      <Touch\n        onStart={this.onTouchStart}\n        onMove={this.onTouchMove}\n        onEnd={this.onTouchEnd}\n        className={classNames(baseClassName, className, {\n          'PullToRefresh--watching': watching,\n          'PullToRefresh--refreshing': refreshing\n        })}\n        {...restProps}\n      >\n        <FixedLayout className=\"PullToRefresh__controls\">\n          <PullToRefreshSpinner\n            style={{\n              transform: `translate3d(0, ${spinnerY}px, 0)`,\n              opacity: watching || refreshing || canRefresh ? 1 : 0\n            }}\n            on={refreshing}\n            progress={refreshing ? null : spinnerProgress}\n          />\n        </FixedLayout>\n\n        <div\n          className=\"PullToRefresh__content\"\n          ref={this._contentElement}\n          style={{\n            transform: refreshing && !touchDown && IS_PLATFORM_IOS ? `translate3d(0, 100px, 0)` : IS_PLATFORM_IOS && contentShift ? `translate3d(0, ${contentShift}px, 0)` : ''\n          }}\n        >\n          {children}\n        </div>\n      </Touch>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\n\nimport Icon16Search from '@vkontakte/icons/dist/16/search';\n\nconst baseClassName = getClassName('Search');\n\nlet searchId = 0;\n\nexport default class SearchIOS extends React.Component {\n  constructor (props) {\n    super(props);\n\n    let state = {\n      showAfter: false,\n      focused: false,\n      placeholderOffset: null,\n      afterWidth: null\n    };\n\n    if (props.hasOwnProperty('value')) {\n      this.isControlledOutside = true;\n    } else {\n      state.value = props.defaultValue || '';\n    }\n    searchId++;\n    this.state = state;\n  }\n\n  static propTypes = {\n    className: PropTypes.string,\n    after: PropTypes.node,\n    defaultValue: PropTypes.string,\n    value: PropTypes.string,\n    onChange: PropTypes.func,\n    onFocus: PropTypes.func,\n    onBlur: PropTypes.func,\n    placeholder: PropTypes.node,\n    theme: PropTypes.oneOf(['header', 'default']),\n    getRef: PropTypes.oneOfType([\n      PropTypes.func,\n      PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n    ])\n  };\n\n  static defaultProps = {\n    after: 'Отменить',\n    theme: 'default',\n    placeholder: 'Поиск'\n  };\n\n  get value () {\n    return this.isControlledOutside ? this.props.value : this.state.value;\n  }\n\n  onFocus = (e) => {\n    this.setState({ focused: true });\n    this.props.onFocus && this.props.onFocus(e);\n  };\n\n  onBlur = (e) => {\n    this.setState({ focused: false });\n    this.props.onBlur && this.props.onBlur(e);\n  };\n\n  onChange = (e) => {\n    if (!this.isControlledOutside) {\n      this.setState({ value: e.target.value });\n    }\n    if (this.props.onChange) {\n      this.props.onChange(e.target.value, e);\n    }\n  };\n\n  onCancel = () => {\n    if (!this.isControlledOutside) {\n      this.setState({ value: '' });\n    }\n    if (this.props.onChange) {\n      this.props.onChange('');\n    }\n  };\n\n  inputRef = (element) => {\n    const getRef = this.props.getRef;\n    if (getRef) {\n      if (typeof getRef === 'function') {\n        getRef(element);\n      } else {\n        getRef.current = element;\n      }\n    }\n  };\n\n  render () {\n    const {\n      className,\n      theme,\n      onFocus,\n      onBlur,\n      onChange,\n      defaultValue,\n      value,\n      placeholder,\n      after,\n      getRef,\n      ...inputProps\n    } = this.props;\n\n    return (\n      <div className={classNames(baseClassName, {\n        [`Search--${theme}`]: true,\n        'Search--focused': this.state.focused,\n        'Search--has-value': this.value,\n        'Search--has-after': after\n      }, className)}>\n        <div className=\"Search__in\">\n          <div className=\"Search__width\" />\n          <div className=\"Search__control\">\n            <input\n              {...inputProps}\n              id={`search-${searchId}`}\n              ref={this.inputRef}\n              type=\"text\"\n              className=\"Search__input\"\n              onFocus={this.onFocus}\n              onBlur={this.onBlur}\n              onChange={this.onChange}\n              value={this.value}\n            />\n            {after && <div className=\"Search__after-width\">{after}</div>}\n            <label\n              className=\"Search__placeholder\"\n              htmlFor={`search-${searchId}`}\n            >\n              <div className=\"Search__placeholder-in\">\n                <Icon16Search/>\n                <div className=\"Search__placeholder-text\" dangerouslySetInnerHTML={{__html: placeholder}} />\n              </div>\n            </label>\n          </div>\n          {after &&\n          <div className=\"Search__after\" onClick={this.onCancel}>\n            <div className=\"Search__after-in\">{after}</div>\n          </div>\n          }\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\n\nimport HeaderButton from '../HeaderButton/HeaderButton';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\nimport Icon24Cancel from '@vkontakte/icons/dist/24/cancel';\nimport Icon24Search from '@vkontakte/icons/dist/24/search';\n\nconst baseClassName = getClassName('Search');\n\nexport default class SearchAndroid extends React.Component {\n  constructor (props) {\n    super(props);\n\n    let state = {};\n\n    if (props.hasOwnProperty('value')) {\n      this.isControlledOutside = true;\n    } else {\n      state.value = props.defaultValue || '';\n    }\n\n    this.state = state;\n  }\n\n  static propTypes = {\n    className: PropTypes.string,\n    defaultValue: PropTypes.string,\n    value: PropTypes.string,\n    onChange: PropTypes.func,\n    onFocus: PropTypes.func,\n    onBlur: PropTypes.func,\n    onClose: PropTypes.func,\n    placeholder: PropTypes.node,\n    theme: PropTypes.oneOf(['header', 'default']),\n    getRef: PropTypes.oneOfType([\n      PropTypes.func,\n      PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n    ]),\n    autoFocus: PropTypes.bool\n  };\n\n  static defaultProps = {\n    placeholder: 'Поиск',\n    theme: 'default',\n    autoFocus: true\n  };\n\n  static contextTypes = {\n    webviewType: PropTypes.oneOf(['vkapps', 'internal'])\n  };\n\n  onCancel = () => {\n    if (!this.isControlledOutside) {\n      this.setState({ value: '' });\n    }\n    if (this.props.onChange) {\n      this.props.onChange('');\n    }\n    this.inputEl.focus();\n  };\n\n  onChange = (e) => {\n    if (!this.isControlledOutside) {\n      this.setState({ value: e.target.value });\n    }\n    if (this.props.onChange) {\n      this.props.onChange(e.target.value, e);\n    }\n  };\n\n  componentDidMount () {\n    this.props.theme === 'header' && this.props.autoFocus && this.inputEl.focus();\n  }\n\n  get value () {\n    return this.isControlledOutside ? this.props.value : this.state.value;\n  }\n\n  inputRef = (element) => {\n    this.inputEl = element;\n\n    const getRef = this.props.getRef;\n\n    if (getRef) {\n      if (typeof getRef === 'function') {\n        getRef(element);\n      } else {\n        getRef.current = element;\n      }\n    }\n  };\n\n  render () {\n    const { getRef, value, defaultValue, onChange, onClose, theme, autoFocus, ...inputProps } = this.props;\n    const hasValue = !!this.value;\n\n    const className = classNames(baseClassName, `Search--${theme}`, {\n      'Search--has-value': hasValue,\n      'Search--vkapps': this.context.webviewType === 'vkapps'\n    }, this.props.className);\n\n    return (\n      <div className={className}>\n        <div className=\"Search__container\">\n          <div className=\"Search__before\">\n            {theme === 'default' && <Icon24Search/>}\n            {theme === 'header' && <HeaderButton onClick={onClose}><Icon24Back/></HeaderButton>}\n          </div>\n          <div className=\"Search__control\">\n            <input\n              {...inputProps}\n              className=\"Search__input\"\n              ref={this.inputRef}\n              value={this.value}\n              onChange={this.onChange}\n            />\n          </div>\n          {hasValue &&\n          <div className=\"Search__after\">\n            {theme === 'default' && <Icon24Cancel onClick={this.onCancel}/>}\n            {theme === 'header' && <HeaderButton onClick={this.onCancel}><Icon24Cancel/></HeaderButton>}\n          </div>\n          }\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { IS_PLATFORM_IOS } from '../../lib/platform';\nimport SearchIOS from '../SearchIOS/SearchIOS';\nimport SearchAndroid from '../SearchAndroid/SearchAndroid';\nimport PropTypes from 'prop-types';\n\nexport default class Search extends React.Component {\n  static propTypes = {\n    className: PropTypes.string,\n    getRef: PropTypes.oneOfType([\n      PropTypes.func,\n      PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n    ]),\n    /**\n     * iOS only. Текст кнопки \"отмена\", которая чистит текстовое поле и убирает фокус.\n     */\n    after: PropTypes.node,\n    /**\n     * iOS only\n     */\n    before: PropTypes.node,\n    theme: PropTypes.oneOf(['header', 'default']),\n\n    /**\n     * Android only. Вызывается при клике по стрелке (слева). Этот контрол служит для выхода из режима поиска.\n     */\n    onClose: PropTypes.func,\n\n    /**\n     * Android only. Определяет, будет ли установлен фокус в поле поиска.\n     */\n    autoFocus: PropTypes.bool,\n\n    /**\n     * **Важно:** в коллбэк первым аргументом прилетает *значение* текстового поля.\n     * Объект события передается вторым аргументом.\n     */\n    onChange: PropTypes.func,\n    autoComplete: PropTypes.string\n  };\n\n  static defaultProps = {\n    theme: 'default',\n    autoComplete: 'off'\n  };\n\n  render () {\n    const { onClose, autoFocus, ...iosProps } = this.props;\n    const { after, before, ...androidProps } = this.props;\n    if (IS_PLATFORM_IOS) {\n      return <SearchIOS {...iosProps} />;\n    } else {\n      return <SearchAndroid {...androidProps} />;\n    }\n  }\n}\n","import querystring from './querystring';\n\nconst defaultOptions = {\n  method: 'GET',\n  data: null\n};\n\nfunction getXMLHttpRequest () {\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // eslint-disable-next-line\n    return new XMLHttpRequest();\n  }\n}\n\nfunction makeRequest (url, options) {\n  let isCanceled;\n\n  const error = new Error('Request was aborted');\n  const request = getXMLHttpRequest();\n  const opts = { ...defaultOptions, ...options };\n\n  if (opts.data && opts.method.toLowerCase() === 'get') {\n    url += `?${querystring.create(opts.data)}`;\n  }\n\n  const requestPromise = new Promise((resolve, reject) => {\n    if (!request) {\n      reject(new Error('XMLHttpRequest not supported'));\n    }\n\n    if (opts.timeout) {\n      request.timeout = opts.timeout;\n    }\n\n    request.open(opts.method, url, true);\n\n    if (opts.headers) {\n      Object.keys(opts.headers).forEach(key => {\n        request.setRequestHeader(key, opts.headers[key]);\n      });\n    }\n\n    request.onreadystatechange = function () {\n      if (request.readyState === 4) {\n        if (request.status === 200) {\n          resolve(request.responseText);\n        } else {\n          reject(new Error(request.status));\n        }\n      }\n    };\n\n    request.ontimeout = function () {\n      reject(new Error('XMLHttpRequest timeout expires'));\n    };\n\n    request.send(opts.data);\n  });\n\n  return {\n\n    promise: new Promise(function (resolve, reject) {\n      requestPromise\n        .then(res => isCanceled ? reject(error) : resolve(res))\n        .catch((e) => isCanceled ? console.log(error) || reject(error) : reject(e));\n    }),\n\n    abort () {\n      isCanceled = true;\n      if (request) {\n        request.abort();\n      }\n    }\n\n  };\n}\n\nexport default (url, options) => makeRequest(url, options);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { isWebView } from '../../lib/webview';\n\nexport default class ConfigProvider extends React.Component {\n  static childContextTypes = {\n    isWebView: PropTypes.bool,\n    scheme: PropTypes.string,\n    webviewType: PropTypes.oneOf(['vkapps', 'internal']),\n    app: PropTypes.string\n  };\n\n  static propTypes = {\n    scheme: PropTypes.string,\n    isWebView: PropTypes.bool,\n    webviewType: PropTypes.oneOf(['vkapps', 'internal']),\n    app: PropTypes.string,\n    children: PropTypes.node\n  };\n\n  static defaultProps = {\n    webviewType: 'internal',\n    isWebView,\n    scheme: 'client_light'\n  };\n\n  static contextTypes = {\n    document: PropTypes.object\n  };\n\n  get document () { return this.context.document || window.document; }\n\n  componentWillMount () {\n    this.document.body.setAttribute('scheme', this.props.scheme);\n  }\n\n  componentWillReceiveProps (nextProps) {\n    if (nextProps.scheme !== this.props.scheme) {\n      this.document.body.setAttribute('scheme', nextProps.scheme);\n    }\n  }\n\n  getChildContext () {\n    return {\n      isWebView: this.props.isWebView,\n      webviewType: this.props.webviewType,\n      scheme: this.props.scheme,\n      app: this.props.app\n    };\n  }\n\n  render () {\n    return this.props.children;\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from '../../lib/classNames';\nimport Icon24Dropdown from '@vkontakte/icons/dist/24/dropdown';\nimport FormField from '../FormField/FormField';\n\nconst SelectMimicry = ({ className, tabIndex, placeholder, children, alignment, status, getRootRef, multiline, disabled, ...restProps }) => {\n  return (\n    <FormField\n      {...restProps}\n      tabIndex={disabled ? null : tabIndex}\n      className={classNames('Select', 'Select--mimicry', {\n        'Select--not-selected': !children,\n        'Select--multiline': multiline,\n        'Select--disabled': disabled,\n        [`Select--align-${alignment}`]: alignment\n      }, className)}\n      getRootRef={getRootRef}\n      status={status}\n    >\n      <div className=\"Select__container\">\n        <div className=\"Select__title\">{children || placeholder}</div>\n        <Icon24Dropdown />\n      </div>\n    </FormField>\n  );\n};\n\nSelectMimicry.propTypes = {\n  style: PropTypes.object,\n  className: PropTypes.string,\n  children: PropTypes.node,\n  tabIndex: PropTypes.number,\n  placeholder: PropTypes.string,\n  alignment: PropTypes.oneOf(['left', 'center', 'top']),\n  getRootRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n  ]),\n  multiline: PropTypes.bool,\n  disabled: PropTypes.bool,\n  status: PropTypes.oneOf(['default', 'error', 'valid'])\n};\n\nSelectMimicry.defaultProps = {\n  tabIndex: 0\n};\n\nexport default SelectMimicry;\n","\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from '../../lib/classNames';\nimport Icon24Dropdown from '@vkontakte/icons/dist/24/dropdown';\nimport FormField from '../FormField/FormField';\n\nexport default class Select extends Component {\n  constructor (props) {\n    super(props);\n    const state = {\n      title: '',\n      notSelected: false\n    };\n    if (typeof props.value !== 'undefined') {\n      this.isControlledOutside = true;\n    } else {\n      state.value = props.defaultValue || '';\n    }\n    this.state = state;\n  }\n\n  static propTypes = {\n    style: PropTypes.object,\n    className: PropTypes.string,\n    label: PropTypes.string,\n    name: PropTypes.string,\n    onChange: PropTypes.func,\n    value: PropTypes.any,\n    defaultValue: PropTypes.any,\n    children: PropTypes.node,\n    placeholder: PropTypes.string,\n    getRef: PropTypes.oneOfType([\n      PropTypes.func,\n      PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n    ]),\n    getRootRef: PropTypes.oneOfType([\n      PropTypes.func,\n      PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n    ]),\n    alignment: PropTypes.oneOf(['left', 'center', 'top']),\n    status: PropTypes.oneOf(['default', 'error', 'valid'])\n  };\n\n  static defaultProps = {\n    alignment: 'left'\n  };\n\n  onChange = (e) => {\n    this.setTitle();\n    if (!this.isControlledOutside) {\n      this.setState({ value: e.target.value });\n    }\n    if (this.props.onChange) {\n      this.props.onChange(e);\n    }\n  };\n\n  setTitle = () => {\n    const selectedOption = this.selectEl.options[this.selectEl.selectedIndex];\n    selectedOption && this.setState({\n      title: selectedOption.text,\n      notSelected: selectedOption.value === '' && this.props.hasOwnProperty('placeholder')\n    });\n  };\n\n  componentDidUpdate (prevProps) {\n    if (prevProps.value !== this.props.value || prevProps.children !== this.props.children) {\n      this.setTitle();\n    }\n  }\n\n  componentDidMount () {\n    this.setTitle();\n  }\n\n  get value () {\n    return this.isControlledOutside ? this.props.value : this.state.value;\n  }\n\n  getRef = (element) => {\n    this.selectEl = element;\n\n    const getRef = this.props.getRef;\n    if (getRef) {\n      if (typeof getRef === 'function') {\n        getRef(element);\n      } else {\n        getRef.current = element;\n      }\n    }\n  };\n\n  render () {\n    const { style, label, value, defaultValue, onChange, alignment, status, placeholder, children, className,\n      getRef, getRootRef, ...restProps } = this.props;\n\n    return (\n      <FormField\n        TagName=\"label\"\n        className={classNames('Select', {\n          [`Select--not-selected`]: this.state.notSelected,\n          [`Select--align-${alignment}`]: alignment\n        }, className)}\n        style={style}\n        getRootRef={getRootRef}\n        status={status}\n      >\n        <select\n          {...restProps}\n          className=\"Select__el\"\n          onChange={this.onChange}\n          value={this.value}\n          ref={this.getRef}\n        >\n          {placeholder && <option value=\"\">{placeholder}</option>}\n          {children}\n        </select>\n        <div className=\"Select__container\">\n          <div className=\"Select__title\">{this.state.title}</div>\n          <Icon24Dropdown />\n        </div>\n      </FormField>\n    );\n  }\n}\n","\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Tappable, { ACTIVE_EFFECT_DELAY } from '../Tappable/Tappable';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport { IS_PLATFORM_IOS } from '../../lib/platform';\nimport Icon16Done from '@vkontakte/icons/dist/16/done';\n\nconst baseClassName = getClassName('Checkbox');\n\nconst Checkbox = ({ children, className, style, getRootRef, ...restProps }) => {\n  return (\n    <Tappable\n      component=\"label\"\n      className={classNames(baseClassName, className)}\n      style={style}\n      disabled={restProps.disabled}\n      activeEffectDelay={IS_PLATFORM_IOS ? 100 : ACTIVE_EFFECT_DELAY }\n      getRootRef={getRootRef}\n    >\n      <input {...restProps} type=\"checkbox\" className=\"Checkbox__input\" />\n      <div className=\"Checkbox__container\">\n        <div className=\"Checkbox__icon\"><Icon16Done /></div>\n        <div className=\"Checkbox__content\">{children}</div>\n      </div>\n    </Tappable>\n  );\n};\n\nCheckbox.propTypes = {\n  children: PropTypes.node,\n  style: PropTypes.object,\n  className: PropTypes.string,\n  getRootRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n  ])\n};\n\nexport default Checkbox;\n","\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Tappable, { ACTIVE_EFFECT_DELAY } from '../Tappable/Tappable';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport { IS_PLATFORM_IOS } from '../../lib/platform';\n\nconst baseClassName = getClassName('Radio');\n\nconst Radio = ({ children, description, style, className, getRef, getRootRef, ...restProps }) => {\n  return (\n    <Tappable\n      component=\"label\"\n      style={style}\n      className={classNames(baseClassName, className)}\n      activeEffectDelay={IS_PLATFORM_IOS ? 100 : ACTIVE_EFFECT_DELAY }\n      disabled={restProps.disabled}\n      getRootRef={getRootRef}\n    >\n      <input {...restProps} type=\"radio\" className=\"Radio__input\" ref={getRef} />\n      <div className=\"Radio__container\">\n        <div className=\"Radio__icon\" />\n        <div className=\"Radio__content\">\n          {children}\n          <div className=\"Radio__description\">{description}</div>\n        </div>\n      </div>\n    </Tappable>\n  );\n};\n\nRadio.propTypes = {\n  children: PropTypes.node,\n  description: PropTypes.node,\n  style: PropTypes.object,\n  className: PropTypes.string,\n  getRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n  ]),\n  getRootRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n  ])\n};\n\nexport default Radio;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from '../../lib/classNames';\nimport FormField from '../FormField/FormField';\n\nexport default class Textarea extends PureComponent {\n  constructor (props) {\n    super(props);\n\n    if (typeof props.value !== 'undefined') {\n      this.isControlledOutside = true;\n      this.state = {};\n    } else {\n      this.state = {\n        value: props.defaultValue || ''\n      };\n    }\n  }\n\n  componentDidMount () {\n    if (this.props.grow) {\n      this.resize();\n    }\n  }\n\n  static propTypes = {\n    style: PropTypes.object,\n    value: PropTypes.string,\n    defaultValue: PropTypes.string,\n    grow: PropTypes.bool,\n    onChange: PropTypes.func,\n    onResize: PropTypes.func,\n    className: PropTypes.string,\n    getRef: PropTypes.oneOfType([\n      PropTypes.func,\n      PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n    ]),\n    getRootRef: PropTypes.oneOfType([\n      PropTypes.func,\n      PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n    ]),\n    status: PropTypes.oneOf(['default', 'error', 'valid'])\n  };\n\n  static defaultProps = {\n    style: {},\n    defaultValue: '',\n    grow: true,\n    onResize: () => {}\n  };\n\n  getRef = (element) => {\n    this.element = element;\n\n    const getRef = this.props.getRef;\n    if (getRef) {\n      if (typeof getRef === 'function') {\n        getRef(element);\n      } else {\n        getRef.current = element;\n      }\n    }\n  };\n\n  resize = () => {\n    const el = this.element;\n\n    if (el) {\n      const { offsetHeight, scrollHeight } = el;\n      const style = window.getComputedStyle(el);\n      const paddingTop = parseInt(style.paddingTop);\n      const paddingBottom = parseInt(style.paddingBottom);\n\n      let diff = paddingTop + paddingBottom;\n\n      if (scrollHeight + diff <= offsetHeight) {\n        diff = 0;\n      }\n\n      if (el.value) {\n        this.setState({ height: scrollHeight - diff });\n      }\n\n      this.setState({ height: 0 }, () => {\n        const height = el.scrollHeight - diff;\n\n        this.setState({ height });\n\n        this.props.onResize(el);\n      });\n    }\n  };\n\n  get value () { return this.isControlledOutside ? this.props.value : this.state.value; }\n\n  onChange = (e) => {\n    if (this.props.grow) {\n      this.resize();\n    }\n\n    if (!this.isControlledOutside) {\n      this.setState({ value: e.target.value });\n    }\n\n    if (this.props.onChange) {\n      this.props.onChange(e);\n    }\n  };\n\n  componentDidUpdate (prevProps) {\n    if (prevProps.value && this.props.value === '') {\n      // Fix iOS extra indent on removing content\n      window.requestAnimationFrame(() => {\n        this.element.value = '';\n      });\n    }\n  }\n\n  render () {\n    const { defaultValue, value, onChange, grow, style, onResize, className, getRootRef, getRef, status, ...restProps } = this.props;\n    const height = this.state.height || style.height || 66;\n\n    return (\n      <FormField\n        className={classNames('Textarea', className)}\n        style={style}\n        getRootRef={getRootRef}\n        status={status}\n      >\n        <textarea\n          {...restProps}\n          className=\"Textarea__el\"\n          value={this.value}\n          onChange={this.onChange}\n          ref={this.getRef}\n          style={{ height }}\n        />\n      </FormField>\n    );\n  }\n}\n","import React from 'react';\nimport Touch from '../Touch/Touch';\nimport getClassName from '../../helpers/getClassName';\nimport Slider from '../Slider/Slider';\nimport PropTypes from 'prop-types';\nimport classNames from '../../lib/classNames';\n\nconst baseClassNames = getClassName('Slider');\n\nexport default class RangeSlider extends Slider {\n  static propTypes = {\n    ...Slider.propTypes,\n    value: PropTypes.arrayOf(PropTypes.number),\n    defaultValue: PropTypes.arrayOf(PropTypes.number)\n  };\n\n  static defaultProps = Slider.defaultProps;\n\n  onStart = e => {\n    const absolutePosition = this.validateAbsolute(e.startX - this.state.containerLeft);\n    const percentPosition = this.absoluteToPecent(absolutePosition);\n    const percentRange = this.calcPercentRange(percentPosition);\n\n    this.onChange(this.percentToValue(percentRange), e);\n\n    if (this.isControlledOutside) {\n      this.setState({startX: absolutePosition});\n    } else {\n      this.setState({\n        startX: absolutePosition,\n        ...percentRange\n      });\n    }\n\n    const thumb = e.originalEvent.target.closest('.Slider__thumb');\n\n    if (thumb === this.thumbStart) {\n      this.setState({ active: 'start' });\n    } else if (thumb === this.thumbEnd) {\n      this.setState({ active: 'end' });\n    }\n  };\n\n  onMoveX = e => {\n    const absolutePosition = this.validateAbsolute(this.state.startX + (e.shiftX || 0));\n    const percentPosition = this.absoluteToPecent(absolutePosition);\n    const percentRange = this.calcPercentRange(percentPosition);\n\n    this.onChange(this.percentToValue(percentRange), e);\n\n    if (!this.isControlledOutside) {\n      this.setState(percentRange);\n    }\n\n    e.originalEvent.preventDefault();\n  };\n\n  calcPercentRange (percent) {\n    const {percentStart, percentEnd} = this.state;\n\n    if (percentStart === 100) {\n      return {percentStart: percent, percentEnd};\n    } else if (percentEnd === 0) {\n      return {percentEnd: percent, percentStart};\n    } else if (Math.abs(percentStart - percent) <= Math.abs(percentEnd - percent)) {\n      return {percentStart: percent, percentEnd};\n    } else {\n      return {percentEnd: percent, percentStart};\n    }\n  }\n\n  validatePercent ({percentStart, percentEnd}) {\n    return {\n      percentStart: super.validatePercent(percentStart),\n      percentEnd: super.validatePercent(percentEnd)\n    };\n  }\n\n  percentToValue ({percentStart, percentEnd}) {\n    return [super.percentToValue(percentStart), super.percentToValue(percentEnd)];\n  }\n\n  valueToPercent ([valueStart, valueEnd]) {\n    return {\n      percentStart: super.valueToPercent(valueStart),\n      percentEnd: super.valueToPercent(valueEnd)\n    };\n  }\n\n  get value () {\n    if (this.isControlledOutside) {\n      return this.props.value;\n    } else if (this.props.hasOwnProperty('defaultValue')) {\n      return this.props.defaultValue;\n    } else {\n      return [this.props.min, this.props.max];\n    }\n  }\n\n  componentDidMount () {\n    window.addEventListener('resize', this.onResize);\n    this.onResize(() => {\n      this.setState(this.validatePercent(this.valueToPercent(this.value)));\n    });\n  }\n\n  componentWillReceiveProps (nextProps) {\n    if (this.isControlledOutside && nextProps.value !== this.props.value) {\n      this.setState(this.validatePercent(this.valueToPercent(nextProps.value)));\n    }\n  }\n\n  render () {\n    const { className, min, max, step, value, defaultValue, onChange, getRootRef, ...restProps } = this.props;\n\n    return (\n      <div {...restProps} className={classNames(baseClassNames, className)} ref={this.getRef}>\n        <Touch onStart={this.onStart} onMoveX={this.onMoveX} onEnd={this.onEnd} className=\"Slider__in\">\n          <div\n            className=\"Slider__dragger\"\n            style={{\n              width: this.state.percentEnd - this.state.percentStart + '%',\n              left: this.state.percentStart + '%'\n            }}\n          >\n            <span\n              className={classNames('Slider__thumb', 'Slider__thumb--start', {\n                'Slider__thumb--active': this.state.active === 'start'\n              })}\n              ref={el => this.thumbStart = el}\n            />\n            <span\n              className={classNames('Slider__thumb', 'Slider__thumb--end', {\n                'Slider__thumb--active': this.state.active === 'end'\n              })}\n              ref={el => this.thumbEnd = el}\n            />\n          </div>\n        </Touch>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from '../../lib/classNames';\nimport FormField from '../FormField/FormField';\n\nconst Input = ({ alignment, status, getRef, className, getRootRef, ...restProps }) => {\n  return (\n    <FormField\n      className={classNames('Input', className, {\n        [`Input--${alignment}`]: alignment\n      })}\n      status={status}\n      getRootRef={getRootRef}\n    >\n      <input {...restProps} className=\"Input__el\" ref={getRef} />\n    </FormField>\n  );\n};\n\nInput.propTypes = {\n  type: PropTypes.string,\n  alignment: PropTypes.oneOf(['left', 'center', 'right']),\n  value: PropTypes.string,\n  defaultValue: PropTypes.string,\n  onChange: PropTypes.func,\n  placeholder: PropTypes.string,\n\n  /**\n   * Значение `verified` устарело и будет удалено в 3.0.0. Используйте вместо него `valid`\n   */\n  status: PropTypes.oneOf(['default', 'error', 'verified', 'valid']),\n  getRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n  ]),\n  getRootRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n  ]),\n  className: PropTypes.string\n};\n\nInput.defaultProps = {\n  type: 'text'\n};\n\nexport default Input;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport Button from '../Button/Button';\nimport classNames from '../../lib/classNames';\n\nconst baseClassNames = getClassName('File');\n\nconst File = props => {\n  const { children, label, alignment, align, size, level, type, stretched, before, className, style, getRef, getRootRef, ...restProps } = props;\n\n  return (\n    <Button\n      align={align || alignment}\n      className={classNames(baseClassNames, className)}\n      component=\"label\"\n      type={type}\n      stretched={stretched}\n      level={level}\n      size={size}\n      before={before}\n      style={style}\n      getRootRef={getRootRef}\n    >\n      <input {...restProps} className=\"File__input\" type=\"file\" ref={getRef}/>\n      {children || label}\n    </Button>\n  );\n};\n\nFile.propTypes = {\n  style: PropTypes.object,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  /**\n   * @ignore\n   */\n  level: PropTypes.any,\n  /**\n   * @ignore\n   */\n  size: PropTypes.any,\n  /**\n   * @ignore\n   */\n  type: PropTypes.any,\n  /**\n   * @ignore\n   */\n  align: PropTypes.any,\n  /**\n   * @ignore\n   */\n  stretched: PropTypes.any,\n  /**\n   * @ignore\n   */\n  before: PropTypes.any,\n  getRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n  ]),\n  getRootRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n  ]),\n  /**\n   * @deprecated Используйте `children`. Свойство `label` будет удалено в 3.0.0\n   */\n  label: PropTypes.string,\n  /**\n   * @deprecated Используйте `align`. Свойство `alignment` будет удалено в 3.0.0\n   */\n  alignment: PropTypes.oneOf(['left', 'center', 'right'])\n};\n\nFile.defaultProps = {\n  label: 'Выберите файл',\n  children: 'Выберите файл',\n  alignment: 'left',\n  align: 'left'\n};\n\nexport default File;\n","\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\n\nconst baseClassNames = getClassName('Switch');\n\nconst Switch = ({ style, className, getRef, getRootRef, ...restProps }) => (\n  <label className={classNames(baseClassNames, className)} style={style} ref={getRootRef}>\n    <input {...restProps} type=\"checkbox\" className=\"Switch__self\" ref={getRef} />\n    <span className=\"Switch__pseudo\" />\n  </label>\n);\n\nSwitch.propTypes = {\n  style: PropTypes.object,\n  className: PropTypes.string,\n  getRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n  ]),\n  getRootRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n  ])\n};\n\nexport default Switch;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from '../../lib/classNames';\nimport getClassName from '../../helpers/getClassName';\n\nconst baseClassName = getClassName('FormStatus');\n\nconst FormStatus = ({ state, title, children, className, dangerouslySetInnerHTML, ...restProps }) => (\n  <div {...restProps} className={classNames(baseClassName, { [`FormStatus--${state}`]: state }, className)}>\n    {title && <div className=\"FormStatus__title\">{title}</div>}\n    {dangerouslySetInnerHTML &&\n      <div className=\"FormStatus__content\" dangerouslySetInnerHTML={dangerouslySetInnerHTML} />\n    }\n    {children && !dangerouslySetInnerHTML &&\n      <div className=\"FormStatus__content\">{children}</div>\n    }\n  </div>\n);\n\nFormStatus.propTypes = {\n  state: PropTypes.oneOf(['default', 'error']),\n  title: PropTypes.node,\n  children: PropTypes.node,\n  dangerouslySetInnerHTML: PropTypes.object,\n  className: PropTypes.string\n};\n\nexport default FormStatus;\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\n\nconst baseClassNames = getClassName('FormLayoutGroup');\n\nconst FormLayoutGroup = ({ children, top, bottom, className, ...restProps }) => (\n  <div className={classNames(baseClassNames, className)} {...restProps}>{children}</div>\n);\n\nFormLayoutGroup.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  style: PropTypes.object,\n  top: PropTypes.node,\n  bottom: PropTypes.node,\n  status: PropTypes.oneOf(['default', 'error', 'valid'])\n};\n\nexport default FormLayoutGroup;\n","import React, { Children } from 'react';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\n\nconst baseClassName = getClassName('FormLayout');\n\nconst preventDefault = e => e.preventDefault();\n\nconst FormLayout = props => {\n  const {\n    children,\n    TagName,\n    className,\n    getRef,\n    onSubmit,\n    ...restProps\n  } = props;\n\n  return (\n    <TagName\n      {...restProps}\n      className={classNames(baseClassName, className)}\n      onSubmit={onSubmit}\n      ref={getRef}\n    >\n      <div className=\"FormLayout__container\">\n        {Children.toArray(children).map((field, i) => {\n          if (field) {\n            const { status, top, bottom } = field.props;\n\n            return (\n              <div\n                className={classNames('FormLayout__row', {\n                  [`FormLayout__row--s-${status}`]: status\n                })}\n                key={field.key || `row-${i}`}\n              >\n                {top && <div className=\"FormLayout__row-top\">{top}</div>}\n                {field}\n                {bottom && <div className=\"FormLayout__row-bottom\">{bottom}</div>}\n              </div>\n            );\n          } else {\n            return null;\n          }\n        })}\n      </div>\n      {TagName === 'form' && (\n        <input type=\"submit\" className=\"FormLayout__submit\" value=\"\" />\n      )}\n    </TagName>\n  );\n};\n\nFormLayout.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  TagName: PropTypes.string,\n  onSubmit: PropTypes.func,\n  getRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n  ])\n};\n\nFormLayout.defaultProps = {\n  status: 'default',\n  TagName: 'form',\n  onSubmit: preventDefault\n};\n\nexport default FormLayout;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\n\nlet masksCreated = false;\n\nfunction createMasks () {\n  if (masksCreated) return;\n\n  const svgElement = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n  svgElement.setAttributeNS(null, 'id', '__SVG_MASKS_NODE__');\n  svgElement.setAttributeNS(null, 'width', 0);\n  svgElement.setAttributeNS(null, 'height', 0);\n  svgElement.style.position = 'absolute';\n  svgElement.style.width = 0;\n  svgElement.style.height = 0;\n\n  svgElement.innerHTML = `<defs>\n  <clipPath id=\"users_stack_mask_24_left\">\n    <path d=\"M3.9971785,12 C3.9971785,9.49005736 3.33667467,7.13438366 2.18,5.09731189 C4.35181237,2.01417617 7.93927741,0 11.9971785,0 C18.6245955,0 23.9971785,5.372583 23.9971785,12 C23.9971785,18.627417 18.6245955,24 11.9971785,24 C7.93927741,24 4.35181237,21.9858238 2.18,18.9026881 C3.33667467,16.8656163 3.9971785,14.5099426 3.9971785,12 Z\"></path>\n  </clipPath>\n\n  <clipPath id=\"users_stack_mask_24_right\">\n    <path d=\"M21.8171785,5.09731189 C20.6605038,7.13438366 20,9.49005736 20,12 C20,14.5099426 20.6605038,16.8656163 21.8171785,18.9026881 C19.6453661,21.9858238 16.0579011,24 12,24 C5.372583,24 3.90798505e-14,18.627417 3.90798505e-14,12 C3.90798505e-14,5.372583 5.372583,0 12,0 C16.0579011,0 19.6453661,2.01417617 21.8171785,5.09731189 Z\"></path>\n  </clipPath>\n\n  <clipPath id=\"users_stack_mask_32_left\">\n    <path d=\"M2.13430019,23.9892466 C3.32858917,21.5820026 4,18.8694095 4,16 C4,13.1305905 3.32858917,10.4179974 2.13430019,8.0107534 C4.89924175,3.22241289 10.0733034,-2.30926389e-14 16,-2.30926389e-14 C24.836556,-2.30926389e-14 32,7.163444 32,16 C32,24.836556 24.836556,32 16,32 C10.0733034,32 4.89924175,28.7775871 2.13430019,23.9892466 L2.13430019,23.9892466 Z\"></path>\n  </clipPath>\n\n  <clipPath id=\"users_stack_mask_32_right\">\n    <path d=\"M29.8656998,8.0107534 C28.6714108,10.4179974 28,13.1305905 28,16 C28,18.8694095 28.6714108,21.5820026 29.8656998,23.9892466 C27.1007583,28.7775871 21.9266966,32 16,32 C7.163444,32 3.90798505e-14,24.836556 3.90798505e-14,16 C3.90798505e-14,7.163444 7.163444,0 16,0 C21.9266966,0 27.1007583,3.22241289 29.8656998,8.0107534 Z\"></path>\n  </clipPath>\n</defs>`;\n\n  document.body.appendChild(svgElement);\n  masksCreated = true;\n}\n\ncreateMasks();\n\nconst baseClassName = getClassName('UsersStack');\n\nfunction UsersStack (props) {\n  const { className, photos, count, size, vertical, children, ...restProps } = props;\n\n  const othersCount = Math.max(0, photos.length - count);\n  const canShowOthers = othersCount > 0 && size === 'm';\n\n  const photosShown = photos.slice(0, count);\n\n  return (\n    <div {...restProps} className={classNames(baseClassName, className, 'UsersStack--size-' + size, {\n      'UsersStack--with-others': canShowOthers,\n      'UsersStack--v': vertical\n    })}>\n      <div className=\"UsersStack__photos\">\n        {photosShown.map((photo, i) => (\n          <div\n            key={i}\n            className=\"UsersStack__photo\"\n            style={{ backgroundImage: `url(${photo})` }}\n          />\n        ))}\n\n        {canShowOthers &&\n        <div className=\"UsersStack__photo UsersStack__photo--others\">\n          {`+${othersCount}`}\n        </div>}\n      </div>\n      <div className=\"UsersStack__text\">\n        {children}\n      </div>\n    </div>\n  );\n}\n\nUsersStack.propTypes = {\n  /**\n   * Массив ссылок на фотографии\n   */\n  photos: PropTypes.arrayOf(PropTypes.string),\n\n  /**\n   * Размер аватарок\n   */\n  size: PropTypes.oneOf(['s', 'm']),\n\n  /**\n   * Вертикальный режим. Рекомендуется использовать с размером `m`\n   */\n  vertical: PropTypes.bool,\n\n  /**\n   * Количество аватарок, которые будут показаны.\n   * Если в массиве `photos` больше элементов и используется размер `m`, то будет показано количество остальных элементов\n   */\n  count: PropTypes.number,\n\n  /**\n   * Текст, например, `Иван и ещё 2 ваших друга подписаны`\n   */\n  children: PropTypes.node,\n  className: PropTypes.string,\n  style: PropTypes.object\n};\n\nUsersStack.defaultProps = {\n  photos: [],\n  size: 's',\n  count: 3\n};\n\nexport default React.memo(UsersStack);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from '../../lib/classNames';\nimport getClassName from '../../helpers/getClassName';\n\nconst baseClassName = getClassName('Counter');\n\nfunction Counter ({ type, children }) {\n  return (\n    <div className={classNames(baseClassName, `Counter--${type}`)}>\n      <div className=\"Counter__in\">\n        {children}\n      </div>\n    </div>\n  );\n}\n\nCounter.propTypes = {\n  /**\n   * Тип счетчика. При использовании компонента в качестве значения свойства `after` у `Button` эти значения игнорируются\n   */\n  type: PropTypes.oneOf(['secondary', 'primary', 'prominent']),\n  children: PropTypes.node\n};\n\nCounter.defaultProps = {\n  type: 'secondary'\n};\n\nexport default React.memo(Counter);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from '../../lib/classNames';\nimport getClassName from '../../helpers/getClassName';\nimport ReactDOM from 'react-dom';\n\nconst isElement = element => React.isValidElement(element);\nconst isDOMTypeElement = element => isElement(element) && typeof element.type === 'string';\nconst baseClassName = getClassName('Tooltip');\n\nclass TooltipPortal extends React.Component {\n  static propTypes = {\n    target: PropTypes.object,\n    text: PropTypes.node,\n    title: PropTypes.node,\n    alignX: PropTypes.oneOf(['left', 'right']),\n    alignY: PropTypes.oneOf(['top', 'bottom']),\n    offsetX: PropTypes.number,\n    offsetY: PropTypes.number,\n    cornerOffset: PropTypes.number,\n    onClose: PropTypes.func.isRequired\n  };\n\n  static contextTypes = {\n    document: PropTypes.any,\n    panel: PropTypes.string\n  };\n\n  state = {\n    x: 0,\n    y: 0\n  };\n\n  get document () {\n    return this.context.document || document;\n  }\n\n  fixedPortal = false;\n\n  portalTarget = this.findPortalTarget();\n\n  findPortalTarget () {\n    const { target } = this.props;\n    const closestFixed = target.closest('.FixedLayout');\n    const closestHeader = target.closest('.PanelHeader__in');\n    const closestPanel = this.document.getElementById(this.context.panel).childNodes[0];\n\n    if (closestFixed || closestHeader) {\n      this.fixedPortal = true;\n    }\n\n    return closestFixed || closestHeader || closestPanel;\n  }\n\n  getBoundingTargetRect () {\n    const { target } = this.props;\n    const targetBounds = target.getBoundingClientRect();\n    const portalBounds = this.portalTarget.getBoundingClientRect();\n\n    return {\n      width: targetBounds.width,\n      height: targetBounds.height,\n      x: targetBounds.left - portalBounds.left,\n      y: targetBounds.top - portalBounds.top\n    };\n  }\n\n  componentWillUnmount () {\n    this.document.removeEventListener('click', this.props.onClose);\n  }\n\n  componentDidMount () {\n    const { offsetY, offsetX, alignX, alignY } = this.props;\n    const coords = this.getBoundingTargetRect();\n\n    this.document.addEventListener('click', this.props.onClose);\n\n    this.setState({\n      x: coords.x + offsetX + (alignX === 'right' ? coords.width - this.el.offsetWidth : 0),\n      y: coords.y + (alignY === 'top' ? -this.el.offsetHeight - offsetY : coords.height + offsetY)\n    });\n  }\n\n  getRef = el => this.el = el;\n\n  render () {\n    const { title, text, alignX, alignY, cornerOffset } = this.props;\n\n    return ReactDOM.createPortal(\n      <div className={classNames(baseClassName, {\n        [`Tooltip--x-${alignX}`]: true,\n        [`Tooltip--y-${alignY}`]: true,\n        'Tooltip--fixed': this.fixedPortal\n      })}>\n        <div className=\"Tooltip__container\" style={{ top: this.state.y, left: this.state.x }} ref={this.getRef}>\n          <div className=\"Tooltip__corner\" style={{ [alignX]: 20 + cornerOffset }}/>\n          <div className=\"Tooltip__content\">\n            {title && <div className=\"Tooltip__title\">{title}</div>}\n            {text && <div className=\"Tooltip__text\">{text}</div>}\n          </div>\n        </div>\n      </div>, this.portalTarget);\n  }\n}\n\nexport default class Tooltip extends React.Component {\n  static propTypes = {\n    /**\n     * **Важно**: если в `children` передан React-компонент, то необходимо убедиться в том, что он поддерживает\n     * свойство `getRootRef`, которое должно возвращаться ссылку на корневой DOM-элемент компонента,\n     * иначе тултип показан не будет. Если передан React-element, то такой проблемы нет.\n     */\n    children: PropTypes.node.isRequired,\n    /**\n     * Если передан `false`, то рисуется просто `children`.\n     */\n    isShown: PropTypes.bool.isRequired,\n    /**\n     * Текст тултипа.\n     */\n    text: PropTypes.node,\n    /**\n     * Заголовок тултипа.\n     */\n    title: PropTypes.node,\n    /**\n     * Положение по горизонтали (прижатие к левому или правому краю `children`).\n     */\n    alignX: PropTypes.oneOf(['left', 'right']),\n    /**\n     * Положение по вертикали (расположение над или под `children`).\n     */\n    alignY: PropTypes.oneOf(['top', 'bottom']),\n    /**\n     * Сдвиг по горизонтали (относительно портала, в котором рисуется тултип).\n     */\n    offsetX: PropTypes.number,\n    /**\n     * Сдвиг по вертикали (относительно портала, в котором рисуется тултип).\n     */\n    offsetY: PropTypes.number,\n    /**\n     * Сдвиг треугольника (относительно ширины тултипа).\n     */\n    cornerOffset: PropTypes.number,\n    /**\n     * Callback, который вызывается при клике по любому месту в пределах экрана.\n     */\n    onClose: PropTypes.func.isRequired\n  };\n\n  static defaultProps = {\n    offsetX: 0,\n    offsetY: 15,\n    alignX: 'left',\n    alignY: 'bottom',\n    cornerOffset: 0,\n    isShown: true\n  };\n\n  state = {\n    ready: false\n  };\n\n  componentDidMount () {\n    this.targetEl && this.setState({ ready: true });\n  }\n\n  getRef = el => this.targetEl = el;\n\n  render () {\n    const { children, isShown, ...portalProps } = this.props;\n\n    const child = React.cloneElement(children, {\n      [isDOMTypeElement(children) ? 'ref' : 'getRootRef']: this.getRef, key: 'c'\n    });\n\n    if (!isShown || !this.state.ready) {\n      return child;\n    }\n\n    return [child, <TooltipPortal {...portalProps} target={this.targetEl} key=\"t\" />];\n  }\n}\n","import React from 'react';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport PropTypes from 'prop-types';\n\nconst baseClassName = getClassName('Link');\n\nconst Link = ({children, className, Component, getRootRef, ...restProps}) => (\n  <Component {...restProps} ref={getRootRef} className={classNames(baseClassName, className)}>{children}</Component>\n);\n\nLink.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  Component: PropTypes.any,\n  getRootRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n  ])\n};\n\nLink.defaultProps = {\n  Component: 'a'\n};\n\nexport default Link;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport FixedLayout from '../FixedLayout/FixedLayout';\nimport Tabs from '../Tabs/Tabs';\nimport { IS_PLATFORM_IOS } from '../../lib/platform';\n\n/**\n * @deprecated Для отрисовки фиксированных табов используйте связку `Tabs` и `FixedLayout`.\n * Этот компонент устарел и будет удален в 3.0.0.\n */\nexport default class FixedTabs extends React.Component {\n  static propTypes = {\n    children: PropTypes.node.isRequired,\n    className: PropTypes.string,\n    vertical: PropTypes.oneOf(['top', 'bottom']),\n    style: PropTypes.object,\n    /**\n     * Значения white и gray устарели. Они будут удалены в следующей мажорной версии.\n     * Для Android актуален только header\n     */\n    theme: PropTypes.oneOf(['light', 'header']),\n    /**\n     * iOS only\n     */\n    type: PropTypes.oneOf(['default', 'buttons'])\n  };\n\n  static defaultProps = {\n    theme: IS_PLATFORM_IOS ? 'light' : 'header',\n    vertical: 'top'\n  };\n\n  render () {\n    const { vertical, className, style, theme, children } = this.props;\n\n    return (\n      <FixedLayout vertical={vertical} className={className} style={style}>\n        <Tabs theme={theme}>\n          {children}\n        </Tabs>\n      </FixedLayout>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport Tappable, {ACTIVE_EFFECT_DELAY} from '../Tappable/Tappable';\n\nimport classNames from '../../lib/classNames';\nimport { IS_PLATFORM_IOS } from '../../lib/platform';\n\nconst baseClassName = getClassName('TabsItem');\n\nexport default class TabsItem extends React.Component {\n  static propTypes = {\n    children: PropTypes.node,\n    selected: PropTypes.bool,\n    className: PropTypes.string,\n    after: PropTypes.node\n  };\n\n  static defaultProps = {\n    selected: false\n  };\n\n  render () {\n    const { children, selected, className, after, ...restProps } = this.props;\n\n    return (\n      <Tappable\n        {...restProps}\n        className={classNames(baseClassName, { 'TabsItem--selected': selected }, className)}\n        activeEffectDelay={IS_PLATFORM_IOS ? 0 : ACTIVE_EFFECT_DELAY}\n      >\n        <div className=\"TabsItem__in\">{children}</div>\n        {after && <div className=\"TabsItem__after\">{after}</div>}\n      </Tappable>\n    );\n  }\n}\n","import React from 'react';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport PropTypes from 'prop-types';\n\nconst baseClassName = getClassName('Progress');\n\nconst Progress = ({ value, className, getRootRef, ...restProps }) => {\n  return (\n    <div {...restProps} ref={getRootRef} className={classNames(baseClassName, className)}>\n      <div className=\"Progress__bg\" />\n      <div className=\"Progress__in\" style={{ width: `${value}%` }} />\n    </div>\n  );\n};\n\nProgress.propTypes = {\n  style: PropTypes.object,\n  className: PropTypes.string,\n  value: PropTypes.number,\n  getRootRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n  ])\n};\n\nProgress.defaultProps = {\n  value: 0\n};\n\nexport default Progress;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport Touch from '../Touch/Touch';\nimport classNames from '../../lib/classNames';\n\nconst baseClassNames = getClassName('Gallery');\n\nexport default class Gallery extends Component {\n  constructor (props) {\n    super(props);\n\n    const current = typeof props.slideIndex === 'number' ? props.slideIndex : props.initialSlideIndex;\n\n    this.state = {\n      containerWidth: 0,\n      current,\n      deltaX: 0,\n      shiftX: 0,\n      slides: [],\n      animation: false,\n      duration: 0.24\n    };\n\n    this.container = React.createRef();\n\n    this.slidesStore = {};\n    this.slides = this.getChildren(props.children);\n  }\n\n  static propTypes = {\n    children: PropTypes.node,\n    className: PropTypes.string,\n    style: PropTypes.object,\n    slideWidth: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.number\n    ]),\n    autoplay: PropTypes.number,\n    initialSlideIndex: PropTypes.number,\n    slideIndex: PropTypes.number,\n    onDragStart: PropTypes.func,\n    onDragEnd: PropTypes.func,\n    onChange: PropTypes.func,\n    onEnd: PropTypes.func,\n    align: PropTypes.oneOf(['left', 'center', 'right']),\n    bullets: PropTypes.oneOf(['dark', 'light', false])\n  };\n\n  static defaultProps = {\n    slideWidth: '100%',\n    children: '',\n    autoplay: 0,\n    initialSlideIndex: 0,\n    align: 'left',\n    bullets: false\n  };\n\n  get isCenterWithCustomWidth () {\n    return this.props.slideWidth === 'custom' && this.props.align === 'center';\n  }\n\n  initializeSlides (callback = () => {}) {\n    const slides = this.getSlidesCoords();\n\n    const containerWidth = this.container.current.offsetWidth;\n    const viewportWidth = this.viewport.offsetWidth;\n    const layerWidth = slides.reduce((val, slide) => slide.width + val, 0);\n\n    const min = this.calcMin({ containerWidth, layerWidth, viewportWidth, slides });\n    const max = this.calcMax({ containerWidth, layerWidth, viewportWidth, slides });\n\n    this.setState({ min, max, layerWidth, containerWidth, slides }, callback);\n  }\n\n  calcMin ({ containerWidth, layerWidth, viewportWidth, slides }) {\n    switch (this.props.align) {\n      case 'left':\n        return containerWidth - layerWidth;\n      case 'right':\n        return viewportWidth - layerWidth;\n      case 'center':\n        if (this.isCenterWithCustomWidth && slides.length) {\n          const { coordX, width } = slides[slides.length - 1];\n          return (viewportWidth / 2) - coordX - (width / 2);\n        } else {\n          return viewportWidth - (containerWidth - viewportWidth) / 2 - layerWidth;\n        }\n    }\n  }\n\n  calcMax ({ viewportWidth, slides }) {\n    if (this.isCenterWithCustomWidth && slides.length) {\n      const { width, coordX } = slides[0];\n      return (viewportWidth / 2) - coordX - (width / 2);\n    } else {\n      return 0;\n    }\n  }\n\n  /**\n   * Считает отступ слоя галереи\n   * @param {Number} targetIndex ID целевого слайда\n   * @returns {Number} Значения отступа\n   */\n  calculateIndent (targetIndex) {\n    const { slides } = this.state;\n\n    if (!this.isDraggable()) {\n      return 0;\n    }\n\n    const targetSlide = slides.length ? slides[targetIndex] : null;\n\n    if (targetSlide) {\n      const { coordX, width } = targetSlide;\n\n      if (this.isCenterWithCustomWidth) {\n        const viewportWidth = this.viewport.offsetWidth;\n        return (viewportWidth / 2) - coordX - (width / 2);\n      }\n\n      return this.validateIndent(-1 * coordX);\n    } else {\n      return 0;\n    }\n  }\n\n  /**\n   * Считает отступ слоя галереи во время драга\n   * @returns {Number} Значения отступа\n   */\n  calculateDragIndent () {\n    const { shiftX, deltaX, min, max } = this.state;\n    const indent = shiftX + deltaX;\n\n    if (indent > max) {\n      return max + Number((indent - max) / 3);\n    } else if (indent < min) {\n      return min + Number((indent - min) / 3);\n    }\n\n    return indent;\n  }\n\n  validateIndent (value) {\n    const { min, max } = this.state;\n\n    if (value < min) {\n      return min;\n    } else if (value > max) {\n      return max;\n    }\n\n    return value;\n  }\n\n  isDraggable () {\n    return this.state.layerWidth > this.state.containerWidth;\n  }\n\n  /**\n   * Получает координаты и размеры каждого слайда\n   * @returns {Array} Массив с объектами, описывающими габариты слайда\n   */\n  getSlidesCoords () {\n    return [].concat(this.props.children).reduce((acc, item, i) => {\n      if (item) {\n        const elem = this.slidesStore[`slide-${i}`];\n        const res = {\n          coordX: elem.offsetLeft,\n          width: elem.offsetWidth\n        };\n\n        acc.push(res);\n      }\n\n      return acc;\n    }, []);\n  }\n\n  /**\n   * Получает индекс слайда, к которому будет осуществлен переход\n   * @returns {Number} Индекс слайда\n   */\n  getTarget () {\n    const { slides, current, deltaX, shiftX, startT, max } = this.state;\n    const expectDeltaX = deltaX / (new Date() - startT) * 240 * 0.6;\n    const shift = shiftX + deltaX + expectDeltaX - max;\n    const direction = deltaX < 0 ? 1 : -1;\n\n    // Находим ближайшую границу слайда к текущему отступу\n    let targetIndex = slides.reduce((val, item, index) => {\n      const previousValue = Math.abs(slides[val].coordX + shift);\n      const currentValue = Math.abs(item.coordX + shift);\n\n      return previousValue < currentValue ? val : index;\n    }, current);\n\n    if (targetIndex === current) {\n      let targetSlide = current + direction;\n\n      if (targetSlide >= 0 && targetSlide < slides.length) {\n        if (Math.abs(deltaX) > slides[targetSlide].width * 0.05) {\n          targetIndex = targetSlide;\n        }\n      }\n    }\n\n    return targetIndex;\n  }\n\n  go = (targetIndex) => {\n    this.setState({\n      animation: true,\n      shiftX: this.calculateIndent(targetIndex),\n      current: targetIndex\n    });\n\n    if (this.timeout) {\n      this.clearTimeout();\n      this.setTimeout(this.props.autoplay);\n    }\n  };\n\n  onStart = (e) => {\n    this.setState({\n      animation: false,\n      startT: e.startT\n    });\n  }\n\n  onMoveX = (e) => {\n    if (!this.isDraggable()) {\n      return;\n    }\n\n    e.originalEvent.preventDefault();\n\n    if (e.isSlideX) {\n      this.props.onDragStart && this.props.onDragStart();\n      \n      if (this.state.deltaX !== e.shiftX || this.state.dragging !== e.isSlideX) {\n        this.setState({\n          deltaX: e.shiftX,\n          dragging: e.isSlideX\n        });\n      }\n\n      return true;\n    }\n  }\n\n  onEnd = (e) => {\n    const targetIndex = e.isSlide ? this.getTarget() : this.state.current;\n    this.props.onDragEnd && this.props.onDragEnd();\n\n    this.setState({\n      shiftX: this.calculateIndent(targetIndex),\n      deltaX: 0,\n      animation: true,\n      current: targetIndex\n    });\n\n    if (this.props.onEnd) {\n      this.props.onEnd({\n        targetIndex\n      });\n    }\n\n    if (this.timeout) {\n      this.clearTimeout();\n      this.setTimeout(this.props.autoplay);\n    }\n\n    return true;\n  }\n\n  onResize = () => {\n    this.initializeSlides();\n\n    const { layerWidth, slides } = this.state;\n    const containerWidth = this.container.current.offsetWidth;\n\n    const viewportWidth = this.viewport.offsetWidth;\n\n    this.setState({\n      shiftX: this.calculateIndent(this.state.current),\n      containerWidth,\n      min: this.calcMin({ layerWidth, containerWidth, viewportWidth, slides }),\n      max: this.calcMax({ layerWidth, containerWidth, viewportWidth, slides }),\n      animation: false\n    }, () => {\n      window.requestAnimationFrame(() => this.setState({ animation: true }));\n    });\n  };\n\n  setTimeout = (duration) => {\n    this.timeout = setTimeout(() => {\n      const { slides, current } = this.state;\n      const targetIndex = current < slides.length - 1 ? current + 1 : 0;\n\n      this.go(targetIndex);\n    }, duration);\n  };\n\n  clearTimeout = () => {\n    clearTimeout(this.timeout);\n  };\n\n  getChildren (children) {\n    return [].concat(children || this.props.children).reduce(this.reduceChildren, []);\n  }\n\n  reduceChildren = (acc, item, i) => {\n    if (item) {\n      const ref = this.getSlideRef(i);\n      acc.push(<div className='Gallery__slide' key={`slide-${i}`} ref={ref}>{item}</div>);\n    }\n\n    return acc;\n  }\n\n  getSlideRef = (id) => (slide) => {\n    this.slidesStore[`slide-${id}`] = slide;\n  }\n\n  getViewportRef = (viewport) => {\n    this.viewport = viewport ? viewport.container : {};\n  }\n\n  componentDidMount () {\n    this.initializeSlides(() => {\n      this.setState({\n        shiftX: this.calculateIndent(this.state.current)\n      });\n    });\n\n    window.addEventListener('resize', this.onResize);\n\n    if (this.props.autoplay) {\n      this.setTimeout(this.props.autoplay);\n    }\n  }\n\n  componentDidUpdate (prevProps, prevState) {\n    if (this.isChildrenDirty) {\n      this.isChildrenDirty = false;\n      this.initializeSlides();\n    }\n    if (prevState.current !== this.state.current && this.props.onChange) {\n      this.props.onChange(this.state.current);\n    }\n  }\n\n  componentWillReceiveProps (nextProps) {\n    this.slides = this.getChildren(nextProps.children);\n    this.isChildrenDirty = true;\n\n    if (nextProps.autoplay && !this.props.autoplay) {\n      if (nextProps.autoplay) {\n        this.setTimeout(nextProps.autoplay);\n      }\n    }\n    if (!nextProps.autoplay && this.props.autoplay) {\n      this.clearTimeout();\n    }\n    if (nextProps.slideIndex !== this.props.slideIndex && typeof nextProps.slideIndex === 'number') {\n      this.go(nextProps.slideIndex);\n    }\n  }\n\n  componentWillUnmount () {\n    window.removeEventListener('resize', this.onResize);\n    this.clearTimeout();\n  }\n\n  render () {\n    const { animation, duration, current, dragging } = this.state;\n    const {\n      children,\n      slideWidth,\n      autoplay,\n      initialSlideIndex,\n      slideIndex,\n      onDragStart,\n      onDragEnd,\n      onChange,\n      onEnd,\n      align,\n      bullets,\n      className,\n      ...restProps\n    } = this.props;\n\n    const indent = dragging ? this.calculateDragIndent() : this.calculateIndent(current);\n\n    const layerStyle = {\n      WebkitTransform: `translateX(${indent}px)`,\n      transform: `translateX(${indent}px)`,\n      WebkitTransition: animation ? `-webkit-transform ${duration}s cubic-bezier(.1, 0, .25, 1)` : 'none',\n      transition: animation ? `transform ${duration}s cubic-bezier(.1, 0, .25, 1)` : 'none'\n    };\n\n    return (\n      <div className={classNames(baseClassNames, className, `Gallery--${align}`, {\n        'Gallery--dragging': dragging,\n        'Gallery--custom-width': slideWidth === 'custom'\n      })} {...restProps} ref={this.container}>\n        <Touch\n          className='Gallery__viewport'\n          onStartX={this.onStart}\n          onMoveX={this.onMoveX}\n          onEnd={this.onEnd}\n          style={{ width: slideWidth === 'custom' ? '100%' : slideWidth }}\n          ref={this.getViewportRef}\n        >\n          <div className='Gallery__layer' style={layerStyle}>{this.slides}</div>\n        </Touch>\n\n        {bullets &&\n          <div className={classNames('Gallery__bullets', `Gallery__bullets--${bullets}`)}>\n            {this.slides.map((item, index) => (\n              <div className={classNames('Gallery__bullet', { 'Gallery__bullet--active': index === current })} key={index} />\n            ))}\n          </div>\n        }\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from '../../lib/classNames';\nimport getClassName from '../../helpers/getClassName';\nimport Avatar from '../Avatar/Avatar';\n\nconst baseClassNames = getClassName('Entity');\n\n// @TODO Try to load photo\n/**\n * @deprecated Используйте `Cell`. Этот компонент устарел и будет удален в 3.0.0\n */\nexport default class Entity extends Component {\n  static propTypes = {\n    style: PropTypes.object,\n    /**\n     * @deprecated Используйте `avatarProps.size`\n     */\n    size: PropTypes.oneOf(['m', 's', 80, 72, 64, 56, 48, 40, 36, 32, 28]),\n    photo: PropTypes.string,\n    title: PropTypes.node,\n    description: PropTypes.node,\n    className: PropTypes.string,\n    avatarProps: PropTypes.shape(Avatar.propTypes),\n    children: PropTypes.node\n  };\n\n  static defaultProps = {\n    size: 48,\n    photo: '',\n    title: '',\n    description: ''\n  };\n\n  get avatarSize () {\n    switch (this.props.size) {\n      case 'm':\n        return 64;\n      case 's':\n        return 48;\n      default:\n        return this.props.size;\n    }\n  }\n\n  render () {\n    const { className, style, photo, title, description, avatarProps, children } = this.props;\n\n    return (\n      <div className={classNames(baseClassNames, className)} style={style}>\n        <div className=\"Entity__aside\">\n          <Avatar src={photo} alt={title} size={this.avatarSize} {...avatarProps} />\n        </div>\n        <div className=\"Entity__main\">\n          {title && <div className=\"Entity__title\">{title}</div>}\n          {description && <div className=\"Entity__description\">{description}</div>}\n          {children && <div className=\"Entity__content\">{children}</div>}\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\n\nconst baseClassName = getClassName('InfoRow');\n\nconst InfoRow = ({ title, className, children, ...restProps }) => (\n  <div {...restProps} className={classNames(baseClassName, className)}>\n    {title && <div className=\"InfoRow__title\">{title}</div>}\n    {children && <div>{children}</div>}\n  </div>\n);\n\nInfoRow.propTypes = {\n  title: PropTypes.node.isRequired,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  style: PropTypes.object\n};\n\nexport default InfoRow;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from '../../lib/classNames';\n\nimport Div from '../Div/Div';\n\nconst Footer = ({ className, children, ...restProps }) => (\n  <Div {...restProps} className={classNames('Footer', className)}>{children}</Div>\n);\n\nFooter.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  style: PropTypes.object\n};\n\nexport default Footer;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from '../../lib/classNames';\nimport getClassName from '../../helpers/getClassName';\n\nconst baseClassNames = getClassName('List');\n\nconst List = ({ className, children, ...restProps }) => (\n  <div {...restProps} className={classNames(baseClassNames, className)}>{children}</div>\n);\n\nList.propTypes = {\n  style: PropTypes.object,\n  children: PropTypes.node,\n  className: PropTypes.string\n};\nList.defaultProps = {\n  style: {},\n  children: ''\n};\n\nexport default List;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport Header from '../Header/Header';\n\nconst baseClassNames = getClassName('Group');\n\nconst Group = props => {\n  const { title, description, className, children, getRootRef, ...restProps } = props;\n\n  return (\n    <div {...restProps} ref={getRootRef} className={classNames(baseClassNames, className)}>\n      {title && <Header level=\"2\">{title}</Header>}\n      {children && <div className=\"Group__content\">{children}</div>}\n      {description && <div className=\"Group__description\">{description}</div>}\n    </div>\n  );\n};\n\nGroup.propTypes = {\n  style: PropTypes.object,\n  title: PropTypes.node,\n  description: PropTypes.node,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  getRootRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n  ])\n};\n\nGroup.defaultProps = {\n  title: null,\n  description: null\n};\n\nexport default Group;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '../Button/Button';\nimport HeaderButton from '../HeaderButton/HeaderButton';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport withInsets from '../../hoc/withInsets';\nimport Icon24Dismiss from '@vkontakte/icons/dist/24/dismiss';\nimport { IS_PLATFORM_IOS } from '../../lib/platform';\n\nconst baseClassName = getClassName('ModalCard');\n\nclass ModalCard extends Component {\n  static propTypes = {\n    /**\n     * Иконка.\n     *\n     * Может быть компонентом иконки, например, `<Icon56MoneyTransferOutline />`, или `<Avatar size={72} src=\"\" />`\n     */\n    icon: PropTypes.node,\n\n    /**\n     * Заголовок карточки\n     */\n    title: PropTypes.string,\n\n    /**\n     * Текст, поясняющий заголовок\n     */\n    caption: PropTypes.string,\n\n    /**\n     * Дополнительное содержимое, например, поле ввода\n     */\n    children: PropTypes.node,\n\n    /**\n     * Список кнопок-действий\n     */\n    actions: PropTypes.arrayOf(PropTypes.shape({\n      title: PropTypes.string,\n      action: PropTypes.func,\n      type: PropTypes.oneOf(['secondary', 'primary'])\n    })),\n\n    /**\n     * Тип отображения кнопок: вертикальный или горизонтальный\n     */\n    actionsLayout: PropTypes.oneOf(['vertical', 'horizontal']),\n\n    /**\n     * Будет вызван при закрытии карточки жестом\n     */\n    onClose: PropTypes.func.isRequired,\n\n    /**\n     * @ignore\n     */\n    insets: PropTypes.object\n  };\n\n  static defaultProps = {\n    actions: [],\n    actionsLayout: 'horizontal',\n    insets: {}\n  };\n\n  onButtonClick = (event) => {\n    const action = this.props.actions[event.currentTarget.dataset.index].action;\n    event.persist();\n\n    if (typeof action === 'function') {\n      action(event);\n    }\n  };\n\n  render () {\n    const { insets, icon, title, caption, children, actions, actionsLayout, onClose } = this.props;\n\n    return (\n      <div className={classNames(baseClassName)}>\n        <div className=\"ModalCard__in\">\n          <div className=\"ModalCard__container\" style={{ marginBottom: !isNaN(insets.bottom) ? insets.bottom : null }}>\n            {icon && <div className=\"ModalCard__icon\">{icon}</div>}\n            {title && <div className=\"ModalCard__title\">{title}</div>}\n            {caption && <div className=\"ModalCard__caption\">{caption}</div>}\n\n            {children}\n\n            {actions.length > 0 &&\n            <div className={classNames('ModalCard__actions', {\n              'ModalCard__actions--v': actionsLayout === 'vertical'\n            })}>\n              {actions.map(({ title, type }, i) => (\n                <Button\n                  key={i}\n                  data-index={i}\n                  size=\"xl\"\n                  level={type}\n                  onClick={this.onButtonClick}\n                >\n                  {title}\n                </Button>\n              ))}\n            </div>\n            }\n\n            {IS_PLATFORM_IOS &&\n            <HeaderButton className=\"ModalCard__dismiss\" onClick={onClose}>\n              <Icon24Dismiss />\n            </HeaderButton>}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withInsets(ModalCard);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\n\nconst baseClassName = getClassName('ModalPageHeader');\n\nfunction ModalPageHeader (props) {\n  const { className, left, right, children, noShadow, getRef } = props;\n  const isPrimitive = typeof children === 'string' || typeof children === 'number';\n\n  return (\n    <div className={classNames(baseClassName, className)} ref={getRef}>\n      <div className=\"ModalPageHeader__in\">\n        <div className=\"ModalPageHeader__left\">\n          {left}\n        </div>\n\n        <div className=\"ModalPageHeader__content\">\n          <div className=\"ModalPageHeader__content-in\">\n            {isPrimitive ? <span>{children}</span> : children}\n          </div>\n        </div>\n\n        <div className=\"ModalPageHeader__right\">\n          {right}\n        </div>\n      </div>\n\n      {!noShadow && <div className=\"ModalPageHeader__shadow\" />}\n    </div>\n  );\n}\n\nModalPageHeader.propTypes = {\n  className: PropTypes.string,\n\n  /**\n   * Иконки, отображаемые слева\n   */\n  left: PropTypes.node,\n\n  /**\n   * Иконки, отображаемые справа\n   */\n  right: PropTypes.node,\n  children: PropTypes.node,\n  noShadow: PropTypes.bool,\n  getRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n  ])\n};\n\nModalPageHeader.defaultProps = {\n  noShadow: false\n};\n\nexport default ModalPageHeader;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport withInsets from '../../hoc/withInsets';\n\nconst baseClassName = getClassName('ModalPage');\n\nclass ModalPage extends Component {\n  static propTypes = {\n    id: PropTypes.string.isRequired,\n    children: PropTypes.node,\n\n    /**\n     * Шапка модальной страницы, `<ModalPageHeader />`\n     */\n    header: PropTypes.node.isRequired,\n    onClose: PropTypes.func.isRequired,\n\n    /**\n     * Процент, на который изначально будет открыта модальная страница\n     */\n    settlingHeight: PropTypes.number,\n\n    /**\n     * @ignore\n     */\n    insets: PropTypes.object\n  };\n\n  static defaultProps = {\n    settlingHeight: 75,\n    insets: {}\n  };\n\n  render () {\n    const { children, header, insets } = this.props;\n\n    return (\n      <div className={classNames(baseClassName)}>\n        <div className=\"ModalPage__in-wrap\">\n          <div className=\"ModalPage__in\">\n            <div className=\"ModalPage__header\">\n              {header}\n            </div>\n\n            <div\n              className=\"ModalPage__content\"\n              style={{ paddingBottom: !isNaN(insets.bottom) ? insets.bottom : null }}\n            >\n              <div className=\"ModalPage__content-in\">\n                {children}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withInsets(ModalPage);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Spinner from '../Spinner/Spinner';\nimport PopoutWrapper from '../PopoutWrapper/PopoutWrapper';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\n\nconst baseClassName = getClassName('ScreenSpinner');\n\nexport default function ScreenSpinner ({ style, className, ...restProps }) {\n  return (\n    <PopoutWrapper className={classNames(baseClassName, className)} style={style}>\n      <div className=\"ScreenSpinner__container\">\n        <Spinner size=\"large\" {...restProps} />\n      </div>\n    </PopoutWrapper>\n  );\n}\n\nScreenSpinner.propTypes = {\n  className: PropTypes.string,\n  style: PropTypes.object\n};\n\nScreenSpinner.defaultProps = {};\n","import React from 'react';\nimport removeObjectKeys from '../../lib/removeObjectKeys';\nimport PropTypes from 'prop-types';\nimport Alert from '../Alert/Alert';\nimport ActionSheet from '../ActionSheet/ActionSheet';\nimport ActionSheetItem from '../ActionSheetItem/ActionSheetItem';\n\nfunction brToNl (str = '') {\n  const regex = /<br\\s*\\/?>/gi;\n\n  return str.replace(regex, '\\n');\n}\n\nlet actionId = 1;\n\n/**\n * @deprecated будет удален в 3.0.0\n */\nexport default class NativePopouts extends React.Component {\n  state = {\n    popout: null\n  };\n\n  actions = [];\n  actionsStore = {};\n\n  static propTypes = {\n    popout: PropTypes.oneOfType([\n      PropTypes.shape({\n        style: PropTypes.oneOf(['alert', 'actionSheet']).isRequired,\n        title: PropTypes.string,\n        text: PropTypes.string,\n        onClose: PropTypes.func.isRequired,\n        actions: PropTypes.arrayOf(PropTypes.shape({\n          style: PropTypes.oneOf(['cancel', 'default', 'destructive']),\n          title: PropTypes.string,\n          action: PropTypes.func\n        }))\n      }),\n      PropTypes.element\n    ]),\n    vkuiConnect: PropTypes.object.isRequired,\n    /**\n     * Root or View\n     */\n    component: PropTypes.func.isRequired\n  };\n\n  static contextTypes = {\n    isWebView: PropTypes.bool\n  };\n\n  componentDidMount () {\n    this.props.vkuiConnect.subscribe(this.vkuiListener);\n    if (this.props.popout) {\n      this.renderPopout(this.props);\n    }\n  }\n\n  componentWillUnmount () {\n    this.props.vkuiConnect.unsubscribe(this.vkuiListener);\n  }\n\n  vkuiListener = (e) => {\n    if (e.type === 'VKWebAppEvent' && e.detail && e.detail.action) {\n      if (this.actionsStore.hasOwnProperty(e.detail.action)) {\n        this.actionsStore[e.detail.action](e.detail);\n        this.props.popout && this.props.popout.onClose && this.props.popout.onClose();\n      }\n    }\n  };\n\n  renderNativeAlert (popout) {\n    const { style, title, text: message } = popout;\n    this.props.vkuiConnect.send('VKWebAppAlert', {\n      style,\n      title: brToNl(title),\n      message: brToNl(message),\n      actions: this.actions.map(item =>\n        removeObjectKeys(item, ['action'])\n      )\n    });\n  }\n\n  renderUIAlert (popout) {\n    const { title, text, onClose, actionsLayout } = popout;\n    this.setState({\n      popout: (<Alert\n        actions={this.actions.map(item => removeObjectKeys(item, ['params']))}\n        onClose={onClose}\n        actionsLayout={actionsLayout}\n      >\n        {title && <h2>{title}</h2>}\n        {text && <p>{text}</p>}\n      </Alert>)\n    });\n  }\n\n  renderNativeSheet (popout) {\n    const { style } = popout;\n    this.props.vkuiConnect.send('VKWebAppAlert', {\n      style,\n      actions: this.actions.map(item => removeObjectKeys(item, ['action']))\n    });\n  }\n\n  renderUISheet (popout) {\n    const { title, text, onClose } = popout;\n    this.setState({\n      popout: (\n        <ActionSheet title={title} text={text} onClose={onClose}>\n          {this.actions.map((item, index) => (\n            <ActionSheetItem autoclose={item.autoclose} theme={item.style} onClick={item.action} key={`${index}`}>\n              {item.title}\n            </ActionSheetItem>\n          ))}\n        </ActionSheet>\n      )\n    });\n  }\n\n  closeUIPopout () {\n    this.setState({ popout: null });\n  }\n\n  renderPopout (props) {\n    if (props.popout.style) {\n      this.actions = props.popout.actions.map((item) => ({\n        ...item,\n        autoclose: item.hasOwnProperty('autoclose') ? item.autoclose : true,\n        action: item.action || props.popout.onClose,\n        handler: { ...item.params, action: `action-${actionId++}` }\n      }));\n\n      this.actionsStore = this.actions.reduce((res, item) => { res[item.handler.action] = item.action; return res; }, {});\n\n      switch (props.popout.style) {\n        case 'alert':\n          this.context.isWebView ? this.renderNativeAlert(props.popout) : this.renderUIAlert(props.popout);\n          break;\n        case 'actionSheet':\n          this.context.isWebView ? this.renderNativeSheet(props.popout) : this.renderUISheet(props.popout);\n          break;\n      }\n    } else {\n      this.setState({ popout: props.popout });\n    }\n  }\n\n  componentWillReceiveProps (nextProps) {\n    if (!nextProps.popout && this.props.popout) {\n      this.closeUIPopout();\n    }\n    if (nextProps.popout && nextProps.popout !== this.props.popout) {\n      this.context.isWebView && this.closeUIPopout();\n      this.renderPopout(nextProps);\n    }\n  }\n\n  render () {\n    let Component = this.props.component;\n    return <Component {...removeObjectKeys(this.props, ['popout'])} popout={this.state.popout} />;\n  }\n}\n","import React from 'react';\nimport PropType from 'prop-types';\nimport classNames from '../../lib/classNames';\n\nconst HorizontalScroll = ({ children, className, ...restProps }) => (\n  <div {...restProps} className={classNames('HorizontalScroll', className)}>\n    <div className=\"HorizontalScroll__in\">{children}</div>\n  </div>\n);\n\nHorizontalScroll.propTypes = {\n  children: PropType.node,\n  className: PropType.string,\n  style: PropType.object\n};\n\nexport default HorizontalScroll;\n","import React from 'react';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport PropTypes from 'prop-types';\n\nconst baseClassName = getClassName('InnerScroll');\n\nexport default class InnerScroll extends React.Component {\n  static propTypes = {\n    className: PropTypes.string,\n    children: PropTypes.node,\n    style: PropTypes.object,\n    onScroll: PropTypes.func\n  };\n\n  onScroll = (e) => {\n    if (this.el.scrollTop <= 0) {\n      this.el.scrollTop = 1;\n    } else if (this.el.scrollTop >= this.el.scrollHeight - this.el.offsetHeight) {\n      this.el.scrollTop = this.el.scrollHeight - this.el.offsetHeight - 1;\n    }\n\n    this.props.onScroll && this.props.onScroll(e);\n  };\n\n  componentDidMount () {\n    this.el.scrollTop = 1;\n  }\n\n  ref = el => this.el = el;\n\n  render () {\n    const { className, children, onScroll, ...restProps } = this.props;\n\n    return (\n      <div\n        {...restProps}\n        className={classNames(baseClassName, className)}\n        onScroll={this.onScroll}\n        ref={this.getRef}\n      >\n        {children}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\n\nconst baseClassName = getClassName('TabbarItem');\n\nconst TabbarItem = ({ className, children, selected, label, text, ...restProps }) => (\n  <div {...restProps} className={classNames(baseClassName, className, {\n    'TabbarItem--selected': selected\n  })}>\n    <div className=\"TabbarItem__in\">\n      <div className=\"TabbarItem__icon\">\n        {children}\n        {label && <span className=\"TabbarItem__label\">{label}</span>}\n      </div>\n      {text && <div className=\"TabbarItem__text\">{text}</div>}\n    </div>\n  </div>\n);\n\nTabbarItem.propTypes = {\n  className: PropTypes.string,\n  selected: PropTypes.bool,\n  children: PropTypes.node,\n  /**\n   * Тест рядом с иконкой\n   */\n  text: PropTypes.node,\n  /**\n   * Счетчик рядом с иконкой\n   */\n  label: PropTypes.node\n};\n\nexport default TabbarItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport withInsets from '../../hoc/withInsets';\n\nconst baseClassName = getClassName('Tabbar');\n\nconst Tabbar = ({ className, children, shadow, itemsLayout, insets }) => {\n  const getItemsLayout = () => {\n    switch (itemsLayout) {\n      case 'horizontal':\n      case 'vertical':\n        return itemsLayout;\n      default:\n        return React.Children.count(children) > 2 ? 'vertical' : 'horizontal';\n    }\n  };\n\n  return (\n    <div className={classNames(baseClassName, className, `Tabbar--l-${getItemsLayout()}`, {\n      'Tabbar--shadow': shadow\n    })} style={{ paddingBottom: isNaN(insets.bottom) ? null : insets.bottom }}>\n      {children}\n    </div>\n  );\n};\n\nTabbar.propTypes = {\n  className: PropTypes.string,\n  children: PropTypes.node,\n  /**\n   * * флаг для показа/скрытия верхней тени (Android) или границы (iOS)\n   */\n  shadow: PropTypes.bool,\n  itemsLayout: PropTypes.oneOf(['vertical', 'horizontal', 'auto']),\n  /**\n   * @ignore\n   */\n  insets: PropTypes.object\n};\n\nTabbar.defaultProps = {\n  shadow: true\n};\n\nexport default withInsets(Tabbar);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\n\nconst baseClassName = getClassName('Epic');\n\nexport default class Epic extends React.Component {\n  static propTypes = {\n    className: PropTypes.string,\n    children: PropTypes.node,\n    tabbar: PropTypes.node.isRequired,\n    activeStory: PropTypes.string.isRequired\n  };\n\n  getChildContext () {\n    return {\n      hasTabbar: this.props.hasOwnProperty('tabbar')\n    };\n  }\n\n  static childContextTypes = {\n    hasTabbar: PropTypes.bool\n  };\n\n  render () {\n    const { className, activeStory, tabbar, children, ...restProps } = this.props;\n\n    return (\n      <div {...restProps} className={classNames(baseClassName, className)}>\n        {React.Children.toArray(children).find(item => item.props.id === activeStory)}\n        {tabbar}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from '../../lib/classNames';\nimport getClassName from '../../helpers/getClassName';\nimport FixedLayout from '../FixedLayout/FixedLayout';\n\nimport transitionEvents from '../../lib/transitionEvents';\n\nconst baseClassNames = getClassName('HeaderContext');\n\nexport default class HeaderContext extends React.Component {\n  static propTypes = {\n    children: PropTypes.node,\n    className: PropTypes.string,\n    style: PropTypes.object,\n    onClose: PropTypes.func.isRequired,\n    opened: PropTypes.bool.isRequired\n  };\n\n  static defaultProps = {\n    opened: false\n  };\n\n  state = {\n    closing: false\n  };\n\n  componentWillReceiveProps (nextProps) {\n    if (nextProps.opened !== this.props.opened) {\n      if (nextProps.opened === false) {\n        this.setState({ closing: true });\n        this.waitAnimationFinish(this.onAnimationFinish);\n      } else {\n        clearTimeout(this.closeAnimationTimeiout);\n      }\n    }\n  }\n\n  componentWillUnmount () {\n    clearTimeout(this.closeAnimationTimeiout);\n  }\n\n  waitAnimationFinish (eventHandler) {\n    if (transitionEvents.supported) {\n      const eventName = transitionEvents.prefix ? transitionEvents.prefix + 'AnimationEnd' : 'animationend';\n      this.el.removeEventListener(eventName, eventHandler);\n      this.el.addEventListener(eventName, eventHandler);\n    } else {\n      this.closeAnimationTimeiout = setTimeout(eventHandler.bind(this), 200);\n    }\n  }\n\n  onAnimationFinish = () => this.setState({ closing: false });\n\n  getRef = el => this.el = el;\n\n  render () {\n    const { children, className, opened, onClose, ...restProps } = this.props;\n\n    return (\n      <FixedLayout {...restProps} className={classNames(baseClassNames, {\n        'HeaderContext--opened': opened,\n        'HeaderContext--closing': this.state.closing\n      }, className)} vertical=\"top\">\n        <div className=\"HeaderContext__in\" ref={this.getRef}>\n          {(opened || this.state.closing) && children}\n        </div>\n        {(opened || this.state.closing) && <div onClick={onClose} className=\"HeaderContext__fade\" />}\n      </FixedLayout>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from '../../lib/classNames';\nimport getClassName from '../../helpers/getClassName';\nimport { IS_PLATFORM_ANDROID } from '../../lib/platform';\nimport Tappable from '../Tappable/Tappable';\n\nconst baseClassNames = getClassName('PanelHeaderContent');\n\nconst PanelHeaderContent = ({ className, style, aside, status, before, children, onClick, ...restProps }) => {\n  const InComponent = onClick ? Tappable : 'div';\n  const rootProps = onClick ? {} : restProps;\n  const inProps = onClick ? { ...restProps, activeEffectDelay: 200 } : {};\n\n  return (\n    <div {...rootProps} className={classNames(baseClassNames, className)} style={style}>\n      {IS_PLATFORM_ANDROID && before && <div className=\"PanelHeaderContent__before\">{before}</div>}\n      <InComponent {...inProps} className=\"PanelHeaderContent__in\" onClick={onClick}>\n        {status && <div className=\"PanelHeaderContent__status\">{status}</div>}\n        <div className=\"PanelHeaderContent__children\">\n          <span className=\"PanelHeaderContent__children-in\">{children}</span>\n          {aside && <div className=\"PanelHeaderContent__aside\">{aside}</div>}\n        </div>\n      </InComponent>\n    </div>\n  );\n};\n\nPanelHeaderContent.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  style: PropTypes.object,\n  aside: PropTypes.node,\n  status: PropTypes.node,\n  onClick: PropTypes.func,\n  /**\n   * Android only\n   */\n  before: PropTypes.node\n};\n\nexport default PanelHeaderContent;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport Touch from '../Touch/Touch';\nimport { tabbarHeight } from '../../appearance/constants';\nimport withInsets from '../../hoc/withInsets';\n\nconst baseClassNames = getClassName('Panel');\n\nclass Panel extends Component {\n  static childContextTypes = {\n    panel: PropTypes.string\n  };\n\n  static propTypes = {\n    children: PropTypes.node,\n    className: PropTypes.string,\n    theme: PropTypes.oneOf(['white', 'gray']),\n    id: PropTypes.string.isRequired,\n    centered: PropTypes.bool,\n    style: PropTypes.object,\n    /**\n     * @ignore\n     */\n    insets: PropTypes.object\n  };\n\n  static defaultProps = {\n    children: '',\n    theme: 'gray',\n    centered: false\n  };\n\n  static contextTypes = {\n    hasTabbar: PropTypes.bool\n  };\n\n  getChildContext () {\n    return {\n      panel: this.props.id\n    };\n  }\n\n  render () {\n    const { className, centered, children, theme, insets, ...restProps } = this.props;\n    const tabbarPadding = this.context.hasTabbar ? tabbarHeight : 0;\n\n    return (\n      <div {...restProps} className={classNames(baseClassNames, className, {\n        'Panel--centered': centered,\n        [`Panel--tm-${theme}`]: theme\n      })}>\n        <Touch className=\"Panel__in\" style={{\n          paddingBottom: !isNaN(insets.bottom) ? insets.bottom + tabbarPadding : null\n        }}>\n          <div className=\"Panel__in-before\" />\n          {children}\n          <div className=\"Panel__in-after\" />\n        </Touch>\n      </div>\n    );\n  }\n}\n\nexport default withInsets(Panel);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from '../../lib/classNames';\nimport getClassName from '../../helpers/getClassName';\n\nimport transitionEvents from '../../lib/transitionEvents';\nimport { IS_PLATFORM_ANDROID } from '../../lib/platform';\n\nconst baseClassName = getClassName('Root');\n\nexport default class Root extends React.Component {\n  constructor (props) {\n    super();\n\n    this.state = {\n      activeView: props.activeView,\n      prevView: null,\n      nextView: null,\n      visibleViews: [props.activeView],\n      isBack: undefined,\n      scrolls: {}\n    };\n\n    this.arrayChildren = React.Children.toArray(props.children);\n  }\n\n  static propTypes = {\n    activeView: PropTypes.string.isRequired,\n    popout: PropTypes.node,\n    modal: PropTypes.node,\n    onTransition: PropTypes.func,\n    children: PropTypes.node\n  };\n\n  static defaultProps = {\n    popout: null\n  };\n\n  static contextTypes = {\n    window: PropTypes.any,\n    document: PropTypes.any\n  };\n\n  get document () {\n    return this.context.document || document;\n  }\n\n  get window () {\n    return this.context.window || window;\n  }\n\n  componentWillReceiveProps (nextProps) {\n    if (nextProps.popout && !this.props.popout) {\n      this.blurActiveElement();\n    }\n\n    if (nextProps.children !== this.props.children) {\n      this.arrayChildren = React.Children.toArray(nextProps.children);\n    }\n\n    if (nextProps.activeView !== this.props.activeView) {\n      let pageYOffset = this.window.pageYOffset;\n      const firstLayerId = this.props.children.find(view => {\n        return view.props.id === this.props.activeView || view.props.id === nextProps.activeView;\n      }).props.id;\n      const isBack = firstLayerId === nextProps.activeView;\n\n      this.blurActiveElement();\n\n      const nextView = nextProps.activeView;\n      const prevView = this.props.activeView;\n\n      this.setState({\n        scrolls: {\n          ...this.state.scrolls,\n          [this.props.activeView]: pageYOffset\n        },\n        transition: true,\n        activeView: null,\n        nextView,\n        prevView,\n        visibleViews: [nextView, prevView],\n        isBack\n      });\n    }\n  }\n\n  componentDidUpdate (prevProps, prevState) {\n    if (!prevState.transition && this.state.transition) {\n      const prevViewElement = this.document.getElementById(`view-${this.state.prevView}`);\n      const nextViewElement = this.document.getElementById(`view-${this.state.nextView}`);\n\n      prevViewElement.querySelector('.View__panel').scrollTop = this.state.scrolls[this.state.prevView];\n\n      if (this.state.isBack) {\n        nextViewElement.querySelector('.View__panel').scrollTop = this.state.scrolls[this.state.nextView];\n      }\n      this.waitAnimationFinish(this.state.isBack ? prevViewElement : nextViewElement, this.onAnimationEnd);\n    }\n  }\n\n  waitAnimationFinish (elem, eventHandler) {\n    if (transitionEvents.supported) {\n      const eventName = transitionEvents.prefix ? transitionEvents.prefix + 'AnimationEnd' : 'animationend';\n\n      elem.removeEventListener(eventName, eventHandler);\n      elem.addEventListener(eventName, eventHandler);\n    } else {\n      setTimeout(eventHandler.bind(this), IS_PLATFORM_ANDROID ? 300 : 600);\n    }\n  }\n\n  onAnimationEnd = (e = { manual: true }) => {\n    if ([\n      'root-android-animation-hide-back',\n      'root-android-animation-show-forward',\n      'root-ios-animation-hide-back',\n      'root-ios-animation-show-forward'\n    ].indexOf(e.animationName) > -1 || e.manual) {\n      const isBack = this.state.isBack;\n      const prevView = this.state.prevView;\n      const nextView = this.state.nextView;\n      this.setState({\n        activeView: nextView,\n        prevView: null,\n        nextView: null,\n        visibleViews: [nextView],\n        transition: false,\n        isBack: undefined\n      }, () => {\n        isBack ? this.window.scrollTo(0, this.state.scrolls[this.state.activeView]) : this.window.scrollTo(0, 0);\n        this.props.onTransition && this.props.onTransition({ isBack, from: prevView, to: nextView });\n      });\n    }\n  };\n\n  blurActiveElement () {\n    if (typeof this.window !== 'undefined' && this.document.activeElement) {\n      this.document.activeElement.blur();\n    }\n  }\n\n  render () {\n    const { popout, modal } = this.props;\n    const { transition, isBack, prevView, activeView, nextView } = this.state;\n\n    let Views = this.arrayChildren.filter(View => this.state.visibleViews.indexOf(View.props.id) >= 0);\n\n    return (\n      <div className={ classNames(baseClassName, { 'Root--transition': transition }) }>\n        {Views.map(View => (\n          <div key={View.props.id} id={`view-${View.props.id}`} className={classNames('Root__view', {\n            'Root__view--hide-back': View.props.id === prevView && isBack,\n            'Root__view--hide-forward': View.props.id === prevView && !isBack,\n            'Root__view--show-back': View.props.id === nextView && isBack,\n            'Root__view--show-forward': View.props.id === nextView && !isBack,\n            'Root__view--active': View.props.id === activeView\n          })}>\n            {View}\n          </div>\n        ))}\n        {!!popout && <div className=\"Root__popout\">{popout}</div>}\n        {!!modal && <div className=\"Root__modal\">{modal}</div>}\n      </div>\n    );\n  }\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__81__;","module.exports = __WEBPACK_EXTERNAL_MODULE__82__;","module.exports = __WEBPACK_EXTERNAL_MODULE__83__;","module.exports = __WEBPACK_EXTERNAL_MODULE__84__;","module.exports = __WEBPACK_EXTERNAL_MODULE__85__;","module.exports = __WEBPACK_EXTERNAL_MODULE__86__;","module.exports = __WEBPACK_EXTERNAL_MODULE__87__;","module.exports = __WEBPACK_EXTERNAL_MODULE__88__;","module.exports = __WEBPACK_EXTERNAL_MODULE__89__;","module.exports = __WEBPACK_EXTERNAL_MODULE__90__;","module.exports = __WEBPACK_EXTERNAL_MODULE__91__;","// extracted by mini-css-extract-plugin","if (window) {\n  const ElementProto = window.Element.prototype;\n\n  // Element.prototype.matches\n  if (!ElementProto.matches) {\n    ElementProto.matches = ElementProto.matchesSelector ||\n      ElementProto.webkitMatchesSelector ||\n      ElementProto.mozMatchesSelector ||\n      ElementProto.msMatchesSelector;\n  }\n\n  // Element.prototype.closest\n  if (!ElementProto.closest) {\n    ElementProto.closest = function (css) {\n      let node = this;\n      while (node) {\n        if (node.matches(css)) return node;\n        else node = node.parentElement;\n      }\n      return null;\n    };\n  }\n}\n\n// Array.prototype.find\nif (!Array.prototype.find) {\n  Array.prototype.find = function (callback) {\n    if (this === null) {\n      throw new TypeError('Array.prototype.find called on null or undefined');\n    } else if (typeof callback !== 'function') {\n      throw new TypeError('callback must be a function');\n    }\n  \n    let list = Object(this);\n    let length = list.length >>> 0;\n    let thisArg = arguments[1];\n  \n    for (let i = 0; i < length; i++) {\n      let element = list[i];\n      if (callback.call(thisArg, element, i, list)) {\n        return element;\n      }\n    }\n  };\n}\n\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","import './lib/polyfills';\nimport './styles/styles.css';\n\n/**\n * Layout\n */\nexport { default as Root } from './components/Root/Root';\nexport { default as View } from './components/View/View';\nexport { default as Panel } from './components/Panel/Panel';\nexport { default as HeaderButton } from './components/HeaderButton/HeaderButton';\nexport { default as PanelHeader } from './components/PanelHeader/PanelHeader';\nexport { default as PanelHeaderContent } from './components/PanelHeaderContent/PanelHeaderContent';\nexport { default as HeaderContext } from './components/HeaderContext/HeaderContext';\nexport { default as Epic } from './components/Epic/Epic';\nexport { default as Tabbar } from './components/Tabbar/Tabbar';\nexport { default as TabbarItem } from './components/TabbarItem/TabbarItem';\nexport { default as InnerScroll } from './components/InnerScroll/InnerScroll';\nexport { default as HorizontalScroll } from './components/HorizontalScroll/HorizontalScroll';\nexport { default as FixedLayout } from './components/FixedLayout/FixedLayout';\n\n/**\n * Popouts\n */\nexport { default as NativePopouts } from './components/NativePopouts/NativePopouts';\nexport { default as PopoutWrapper } from './components/PopoutWrapper/PopoutWrapper';\nexport { default as Alert } from './components/Alert/Alert';\nexport { default as ActionSheet } from './components/ActionSheet/ActionSheet';\nexport { default as ActionSheetItem } from './components/ActionSheetItem/ActionSheetItem';\nexport { default as ScreenSpinner } from './components/ScreenSpinner/ScreenSpinner';\n\n/**\n * Modals\n */\nexport { default as ModalRoot } from './components/ModalRoot/ModalRoot';\nexport { default as ModalPage } from './components/ModalPage/ModalPage';\nexport { default as ModalPageHeader } from './components/ModalPageHeader/ModalPageHeader';\nexport { default as ModalCard } from './components/ModalCard/ModalCard';\n\n/**\n * Blocks\n */\nexport { default as Button } from './components/Button/Button';\nexport { default as CellButton } from './components/CellButton/CellButton';\nexport { default as Header } from './components/Header/Header';\nexport { default as Group } from './components/Group/Group';\nexport { default as List } from './components/List/List';\nexport { default as Cell } from './components/Cell/Cell';\n/**\n * @deprecated алиас для Cell. Будет удален в 3.0.0\n */\nexport { default as ListItem } from './components/Cell/Cell';\nexport { default as Footer } from './components/Footer/Footer';\nexport { default as InfoRow } from './components/InfoRow/InfoRow';\nexport { default as Entity } from './components/Entity/Entity';\nexport { default as Gallery } from './components/Gallery/Gallery';\nexport { default as Avatar } from './components/Avatar/Avatar';\nexport { default as Progress } from './components/Progress/Progress';\nexport { default as Search } from './components/Search/Search';\nexport { default as Tabs } from './components/Tabs/Tabs';\nexport { default as TabsItem } from './components/TabsItem/TabsItem';\nexport { default as FixedTabs } from './components/FixedTabs/FixedTabs';\nexport { default as Spinner } from './components/Spinner/Spinner';\nexport { default as PullToRefresh } from './components/PullToRefresh/PullToRefresh';\nexport { default as Link } from './components/Link/Link';\nexport { default as Tooltip } from './components/Tooltip/Tooltip';\nexport { default as Counter } from './components/Counter/Counter';\nexport { default as UsersStack } from './components/UsersStack/UsersStack';\n\n/**\n * Forms\n */\nexport { default as FormLayout } from './components/FormLayout/FormLayout';\nexport { default as FormLayoutGroup } from './components/FormLayoutGroup/FormLayoutGroup';\nexport { default as FormStatus } from './components/FormStatus/FormStatus';\nexport { default as Switch } from './components/Switch/Switch';\nexport { default as File } from './components/File/File';\nexport { default as Input } from './components/Input/Input';\nexport { default as Slider } from './components/Slider/Slider';\nexport { default as RangeSlider } from './components/RangeSlider/RangeSlider';\nexport { default as Textarea } from './components/Textarea/Textarea';\nexport { default as Radio } from './components/Radio/Radio';\nexport { default as Checkbox } from './components/Checkbox/Checkbox';\nexport { default as Select } from './components/Select/Select';\nexport { default as SelectMimicry } from './components/SelectMimicry/SelectMimicry';\n\n/**\n * Helpers\n */\nexport { default as Div } from './components/Div/Div';\nexport { default as Tappable } from './components/Tappable/Tappable';\nexport { default as Touch } from './components/Touch/Touch';\nexport { default as ConfigProvider } from './components/ConfigProvider/ConfigProvider';\n\n/**\n * Utils\n */\nexport { default as classNames } from './lib/classNames';\n\n/**\n * @deprecated будет удалено в 3.0.0\n */\nexport { default as classnames } from './lib/classNames';\nexport { platform, ANDROID, IOS, IS_PLATFORM_ANDROID, IS_PLATFORM_IOS } from './lib/platform';\nexport { default as request } from './lib/request';\nexport { default as querystring } from './lib/querystring';\nexport { default as getClassName } from './helpers/getClassName';\nexport { isWebView } from './lib/webview';\n/**\n * @deprecated будет удален в 3.0.0\n * @type {{}}\n */\nexport const colors = {};\n\nexport const v = process.env.VKUI_VERSION;\n"],"sourceRoot":""}